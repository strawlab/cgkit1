/* Generated by Pyrex 0.9.3 on Sat Oct 09 14:00:15 2004 */

#include "Python.h"
#include "structmember.h"
#ifndef PY_LONG_LONG
  #define PY_LONG_LONG LONG_LONG
#endif
#include "math.h"


typedef struct {PyObject **p; char *s;} __Pyx_InternTabEntry; /*proto*/
typedef struct {PyObject **p; char *s; long n;} __Pyx_StringTabEntry; /*proto*/
static PyObject *__Pyx_UnpackItem(PyObject *, int); /*proto*/
static int __Pyx_EndUnpack(PyObject *, int); /*proto*/
static int __Pyx_PrintItem(PyObject *); /*proto*/
static int __Pyx_PrintNewline(void); /*proto*/
static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb); /*proto*/
static void __Pyx_ReRaise(void); /*proto*/
static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list); /*proto*/
static PyObject *__Pyx_GetExcValue(void); /*proto*/
static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed, char *name); /*proto*/
static int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type); /*proto*/
static int __Pyx_GetStarArgs(PyObject **args, PyObject **kwds, char *kwd_list[], int nargs, PyObject **args2, PyObject **kwds2); /*proto*/
static void __Pyx_WriteUnraisable(char *name); /*proto*/
static void __Pyx_AddTraceback(char *funcname); /*proto*/
static PyTypeObject *__Pyx_ImportType(char *module_name, char *class_name, long size);  /*proto*/
static int __Pyx_SetVtable(PyObject *dict, void *vtable); /*proto*/
static int __Pyx_GetVtable(PyObject *dict, void *vtabptr); /*proto*/
static PyObject *__Pyx_CreateClass(PyObject *bases, PyObject *dict, PyObject *name, char *modname); /*proto*/
static int __Pyx_InternStrings(__Pyx_InternTabEntry *t); /*proto*/
static int __Pyx_InitStrings(__Pyx_StringTabEntry *t); /*proto*/
static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name); /*proto*/

static PyObject *__pyx_m;
static PyObject *__pyx_b;
static int __pyx_lineno;
static char *__pyx_filename;
staticforward char **__pyx_f;

/* Declarations from cgtypes */

staticforward PyTypeObject __pyx_type_7cgtypes_vec3;

struct __pyx_obj_7cgtypes_vec3 {
  PyObject_HEAD
  double x;
  double y;
  double z;
};

staticforward PyTypeObject __pyx_type_7cgtypes_vec4;

struct __pyx_obj_7cgtypes_vec4 {
  PyObject_HEAD
  double x;
  double y;
  double z;
  double w;
};

staticforward PyTypeObject __pyx_type_7cgtypes_mat3;

struct __pyx_obj_7cgtypes_mat3 {
  PyObject_HEAD
  double m11;
  double m12;
  double m13;
  double m21;
  double m22;
  double m23;
  double m31;
  double m32;
  double m33;
};

staticforward PyTypeObject __pyx_type_7cgtypes_mat4;

struct __pyx_obj_7cgtypes_mat4 {
  PyObject_HEAD
  double m11;
  double m12;
  double m13;
  double m14;
  double m21;
  double m22;
  double m23;
  double m24;
  double m31;
  double m32;
  double m33;
  double m34;
  double m41;
  double m42;
  double m43;
  double m44;
};

staticforward PyTypeObject __pyx_type_7cgtypes_vec3iter;

struct __pyx_obj_7cgtypes_vec3iter {
  PyObject_HEAD
  int idx;
  PyObject *v;
};

staticforward PyTypeObject __pyx_type_7cgtypes_vec4iter;

struct __pyx_obj_7cgtypes_vec4iter {
  PyObject_HEAD
  int idx;
  PyObject *v;
};

staticforward PyTypeObject __pyx_type_7cgtypes_mat3iter;

struct __pyx_obj_7cgtypes_mat3iter {
  PyObject_HEAD
  int idx;
  PyObject *m;
};

staticforward PyTypeObject __pyx_type_7cgtypes_mat4iter;

struct __pyx_obj_7cgtypes_mat4iter {
  PyObject_HEAD
  int idx;
  PyObject *m;
};

staticforward PyTypeObject __pyx_type_7cgtypes_quat;

struct __pyx_obj_7cgtypes_quat {
  PyObject_HEAD
  double w;
  double x;
  double y;
  double z;
};

static PyTypeObject *__pyx_ptype_7cgtypes_vec3 = 0;
static PyTypeObject *__pyx_ptype_7cgtypes_vec4 = 0;
static PyTypeObject *__pyx_ptype_7cgtypes_mat3 = 0;
static PyTypeObject *__pyx_ptype_7cgtypes_mat4 = 0;
static PyTypeObject *__pyx_ptype_7cgtypes_vec3iter = 0;
static PyTypeObject *__pyx_ptype_7cgtypes_vec4iter = 0;
static PyTypeObject *__pyx_ptype_7cgtypes_mat3iter = 0;
static PyTypeObject *__pyx_ptype_7cgtypes_mat4iter = 0;
static PyTypeObject *__pyx_ptype_7cgtypes_quat = 0;
static double __pyx_v_7cgtypes_eps;
static PyObject *__pyx_k1;
static PyObject *__pyx_k2;
static PyObject *__pyx_k3;
static double (__pyx_f_7cgtypes__fmod(double ,double )); /*proto*/
static double (__pyx_f_7cgtypes__subdet(double (*),short ,short )); /*proto*/

/* Implementation of cgtypes */


static PyObject *__pyx_n_setEpsilon;
static PyObject *__pyx_n_getEpsilon;
static PyObject *__pyx_n_slerp;
static PyObject *__pyx_n_squad;
static PyObject *__pyx_n_copy_reg;
static PyObject *__pyx_n__vec3construct;
static PyObject *__pyx_n__vec4construct;
static PyObject *__pyx_n__mat3construct;
static PyObject *__pyx_n__mat4construct;
static PyObject *__pyx_n__quatconstruct;
static PyObject *__pyx_n_constructor;

static double __pyx_f_7cgtypes__fmod(double __pyx_v_a,double __pyx_v_b) {
  int __pyx_v_n;
  double __pyx_r;
  int __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":39 */
  __pyx_v_n = ((int )(__pyx_v_a / __pyx_v_b));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":40 */
  __pyx_v_a = (__pyx_v_a - (__pyx_v_n * __pyx_v_b));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":41 */
  __pyx_1 = (__pyx_v_a < 0);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":42 */
    __pyx_v_a = (__pyx_v_a + __pyx_v_b);
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":43 */
  __pyx_r = __pyx_v_a;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_WriteUnraisable("cgtypes._fmod");
  __pyx_L0:;
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_setEpsilon(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_setEpsilon[] = "Sets a new epsilon threshold value.\n\n    Sets a new epsilon threshold value and returns the previously set\n    value. Two values are considered to be equal if their absolute\n    difference is less than or equal to epsilon.";
static PyObject *__pyx_f_7cgtypes_setEpsilon(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_e = 0;
  PyObject *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  double __pyx_2;
  static char *__pyx_argnames[] = {"e",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_e)) return 0;
  Py_INCREF(__pyx_v_e);
  __pyx_v_res = Py_None; Py_INCREF(__pyx_v_res);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":55 */
  __pyx_1 = PyFloat_FromDouble(__pyx_v_7cgtypes_eps); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 55; goto __pyx_L1;}
  Py_DECREF(__pyx_v_res);
  __pyx_v_res = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":56 */
  __pyx_2 = PyFloat_AsDouble(__pyx_v_e); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 56; goto __pyx_L1;}
  __pyx_v_7cgtypes_eps = __pyx_2;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":57 */
  Py_INCREF(__pyx_v_res);
  __pyx_r = __pyx_v_res;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("cgtypes.setEpsilon");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_e);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_getEpsilon(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_getEpsilon[] = "Return the epsilon threshold which is used for doing comparisons.";
static PyObject *__pyx_f_7cgtypes_getEpsilon(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":62 */
  __pyx_1 = PyFloat_FromDouble(__pyx_v_7cgtypes_eps); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 62; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("cgtypes.getEpsilon");
  __pyx_r = 0;
  __pyx_L0:;
  return __pyx_r;
}

static int __pyx_f_7cgtypes_8vec3iter___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_7cgtypes_8vec3iter___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_v = 0;
  int __pyx_r;
  static char *__pyx_argnames[] = {"v",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_v)) return -1;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_v);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":75 */
  ((struct __pyx_obj_7cgtypes_vec3iter *)__pyx_v_self)->idx = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":76 */
  Py_INCREF(__pyx_v_v);
  Py_DECREF(((struct __pyx_obj_7cgtypes_vec3iter *)__pyx_v_self)->v);
  ((struct __pyx_obj_7cgtypes_vec3iter *)__pyx_v_self)->v = __pyx_v_v;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.vec3iter.__new__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_v);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_8vec3iter___iter__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_8vec3iter___iter__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":79 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.vec3iter.__iter__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_x;
static PyObject *__pyx_n_y;
static PyObject *__pyx_n_z;
static PyObject *__pyx_n_StopIteration;

static PyObject *__pyx_f_7cgtypes_8vec3iter___next__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_8vec3iter___next__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":82 */
  __pyx_1 = (((struct __pyx_obj_7cgtypes_vec3iter *)__pyx_v_self)->idx == 0);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":83 */
    ((struct __pyx_obj_7cgtypes_vec3iter *)__pyx_v_self)->idx = 1;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":84 */
    __pyx_2 = PyObject_GetAttr(((struct __pyx_obj_7cgtypes_vec3iter *)__pyx_v_self)->v, __pyx_n_x); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 84; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_1 = (((struct __pyx_obj_7cgtypes_vec3iter *)__pyx_v_self)->idx == 1);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":86 */
    ((struct __pyx_obj_7cgtypes_vec3iter *)__pyx_v_self)->idx = 2;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":87 */
    __pyx_2 = PyObject_GetAttr(((struct __pyx_obj_7cgtypes_vec3iter *)__pyx_v_self)->v, __pyx_n_y); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 87; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_1 = (((struct __pyx_obj_7cgtypes_vec3iter *)__pyx_v_self)->idx == 2);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":89 */
    ((struct __pyx_obj_7cgtypes_vec3iter *)__pyx_v_self)->idx = 3;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":90 */
    __pyx_2 = PyObject_GetAttr(((struct __pyx_obj_7cgtypes_vec3iter *)__pyx_v_self)->v, __pyx_n_z); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 90; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":92 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_StopIteration); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 92; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 92; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.vec3iter.__next__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_len;
static PyObject *__pyx_n_type;
static PyObject *__pyx_n_float;
static PyObject *__pyx_n_int;
static PyObject *__pyx_n_long;
static PyObject *__pyx_n_str;
static PyObject *__pyx_n_unicode;
static PyObject *__pyx_n_replace;
static PyObject *__pyx_n_strip;
static PyObject *__pyx_n_split;
static PyObject *__pyx_n_range;
static PyObject *__pyx_n_ValueError;
static PyObject *__pyx_n_TypeError;

static PyObject *__pyx_k5p;
static PyObject *__pyx_k6p;
static PyObject *__pyx_k7p;
static PyObject *__pyx_k8p;
static PyObject *__pyx_k9p;
static PyObject *__pyx_k10p;
static PyObject *__pyx_k11p;
static PyObject *__pyx_k12p;
static PyObject *__pyx_k13p;
static PyObject *__pyx_k14p;

static char (__pyx_k5[]) = ",";
static char (__pyx_k6[]) = " ";
static char (__pyx_k7[]) = "  ";
static char (__pyx_k8[]) = " ";
static char (__pyx_k9[]) = " ";
static char (__pyx_k10[]) = "";
static char (__pyx_k11[]) = "vec3() arg is a malformed string";
static char (__pyx_k12[]) = "vec3() arg can't be converted to vec3";
static char (__pyx_k13[]) = "vec3() takes at most 3 arguments";
static char (__pyx_k14[]) = "vec3() takes at most 3 arguments";

static int __pyx_f_7cgtypes_4vec3___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4vec3___new__[] = "Constructor.\n\n        There are several possibilities how to initialize a vector:\n\n        v = vec3()       -> v = <0,0,0>\n        v = vec3(a)      -> v = <a,a,a>\n        v = vec3(x,y)    -> v = <x,y,0>\n        v = vec3(x,y,z)  -> v = <x,y,z>\n        w = vec3(v)      -> w = <x,y,z>\n\n        Note that specifying just one value sets all three components to\n        that value (except when that single value is a another vec3, then\n        that vector is copied).\n\n        Additionally you can wrap those values in a list or a tuple or\n        specify them as a string:\n\n        v = vec3([1,2,3]) -> v = <1,2,3>\n        v = vec3(\"4,5\")   -> v = <4,5,0>        \n        ";
static int __pyx_f_7cgtypes_4vec3___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_args = 0;
  int __pyx_v_arglen;
  int __pyx_v_seqlen;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_v;
  PyObject *__pyx_v_T;
  PyObject *__pyx_v_s;
  PyObject *__pyx_v_i;
  PyObject *__pyx_v_seq;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  PyObject *__pyx_6 = 0;
  static char *__pyx_argnames[] = {0};
  if (__Pyx_GetStarArgs(&__pyx_args, &__pyx_kwds, __pyx_argnames, 0, &__pyx_v_args, 0) < 0) return -1;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) {
    Py_XDECREF(__pyx_args);
    Py_XDECREF(__pyx_kwds);
    Py_XDECREF(__pyx_v_args);
    return -1;
  }
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_v) = Py_None; Py_INCREF(((PyObject*)__pyx_v_v));
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);
  __pyx_v_s = Py_None; Py_INCREF(__pyx_v_s);
  __pyx_v_i = Py_None; Py_INCREF(__pyx_v_i);
  __pyx_v_seq = Py_None; Py_INCREF(__pyx_v_seq);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":130 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 130; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 130; goto __pyx_L1;}
  Py_INCREF(__pyx_v_args);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_args);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 130; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_4 = PyInt_AsLong(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 130; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_v_arglen = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":132 */
  __pyx_4 = (__pyx_v_arglen == 0);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":133 */
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x = 0.0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":134 */
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y = 0.0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":135 */
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z = 0.0;
    goto __pyx_L2;
  }
  __pyx_4 = (__pyx_v_arglen == 1);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":137 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 137; goto __pyx_L1;}
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 137; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 137; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 137; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 137; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_v_T);
    __pyx_v_T = __pyx_3;
    __pyx_3 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":139 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 139; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 139; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__pyx_4) {
      __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 139; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 139; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      if (!__pyx_4) {
        __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 139; goto __pyx_L1;}
        if (PyObject_Cmp(__pyx_v_T, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 139; goto __pyx_L1;}
        __pyx_4 = __pyx_4 == 0;
        Py_DECREF(__pyx_3); __pyx_3 = 0;
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":140 */
      __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 140; goto __pyx_L1;}
      __pyx_2 = PyObject_GetItem(__pyx_v_args, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 140; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 140; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":141 */
      ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y = ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":142 */
      ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z = ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x;
      goto __pyx_L3;
    }
    if (PyObject_Cmp(__pyx_v_T, ((PyObject*)__pyx_ptype_7cgtypes_vec3), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 144; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":145 */
      __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 145; goto __pyx_L1;}
      __pyx_1 = PyObject_GetItem(__pyx_v_args, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 145; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 145; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_v));
      ((PyObject *)__pyx_v_v) = __pyx_1;
      __pyx_1 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":146 */
      ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x = __pyx_v_v->x;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":147 */
      ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y = __pyx_v_v->y;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":148 */
      ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z = __pyx_v_v->z;
      goto __pyx_L3;
    }
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_str); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 150; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 150; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_unicode); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 150; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_T, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 150; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":151 */
      __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 151; goto __pyx_L1;}
      __pyx_2 = PyObject_GetItem(__pyx_v_args, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 151; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_replace); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 151; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 151; goto __pyx_L1;}
      Py_INCREF(__pyx_k5p);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k5p);
      Py_INCREF(__pyx_k6p);
      PyTuple_SET_ITEM(__pyx_1, 1, __pyx_k6p);
      __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 151; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_replace); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 151; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 151; goto __pyx_L1;}
      Py_INCREF(__pyx_k7p);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k7p);
      Py_INCREF(__pyx_k8p);
      PyTuple_SET_ITEM(__pyx_1, 1, __pyx_k8p);
      __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 151; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_strip); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 151; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 151; goto __pyx_L1;}
      __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 151; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_split); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 151; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 151; goto __pyx_L1;}
      Py_INCREF(__pyx_k9p);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k9p);
      __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 151; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_v_s);
      __pyx_v_s = __pyx_2;
      __pyx_2 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":152 */
      __pyx_3 = PyList_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 152; goto __pyx_L1;}
      Py_INCREF(__pyx_k10p);
      PyList_SET_ITEM(__pyx_3, 0, __pyx_k10p);
      if (PyObject_Cmp(__pyx_v_s, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 152; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":153 */
        __pyx_1 = PyList_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 153; goto __pyx_L1;}
        Py_DECREF(__pyx_v_s);
        __pyx_v_s = __pyx_1;
        __pyx_1 = 0;
        goto __pyx_L4;
      }
      __pyx_L4:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":154 */
      __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_range); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 154; goto __pyx_L1;}
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 154; goto __pyx_L1;}
      __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 154; goto __pyx_L1;}
      Py_INCREF(__pyx_v_s);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_s);
      __pyx_6 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 154; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 154; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_6);
      __pyx_6 = 0;
      __pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 154; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_6 = PyObject_GetIter(__pyx_1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 154; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      for (;;) {
        __pyx_L5:;
        __pyx_2 = PyIter_Next(__pyx_6);
        if (!__pyx_2) {
          if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 154; goto __pyx_L1;}
          break;
        }
        Py_DECREF(__pyx_v_i);
        __pyx_v_i = __pyx_2;
        __pyx_2 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":155 */
        /*try:*/ {

          /* "D:\Sources\Python\cgkit\cgtypes.pyx":156 */
          __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 156; goto __pyx_L7;}
          __pyx_1 = PyObject_GetItem(__pyx_v_s, __pyx_v_i); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 156; goto __pyx_L7;}
          __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 156; goto __pyx_L7;}
          PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
          __pyx_1 = 0;
          __pyx_1 = PyObject_CallObject(__pyx_3, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 156; goto __pyx_L7;}
          Py_DECREF(__pyx_3); __pyx_3 = 0;
          Py_DECREF(__pyx_2); __pyx_2 = 0;
          if (PyObject_SetItem(__pyx_v_s, __pyx_v_i, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 156; goto __pyx_L7;}
          Py_DECREF(__pyx_1); __pyx_1 = 0;
        }
        goto __pyx_L8;
        __pyx_L7:;
        Py_XDECREF(__pyx_3); __pyx_3 = 0;
        Py_XDECREF(__pyx_2); __pyx_2 = 0;
        Py_XDECREF(__pyx_1); __pyx_1 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":157 */
        /*except:*/ {
          __Pyx_AddTraceback("cgtypes.__new__");
          __pyx_3 = __Pyx_GetExcValue(); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 157; goto __pyx_L1;}
          Py_DECREF(__pyx_3); __pyx_3 = 0;

          /* "D:\Sources\Python\cgkit\cgtypes.pyx":158 */
          __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 158; goto __pyx_L1;}
          __Pyx_Raise(__pyx_2, __pyx_k11p, 0);
          Py_DECREF(__pyx_2); __pyx_2 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 158; goto __pyx_L1;}
          goto __pyx_L8;
        }
        __pyx_L8:;
      }
      __pyx_L6:;
      Py_DECREF(__pyx_6); __pyx_6 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":159 */
      __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 159; goto __pyx_L1;}
      Py_INCREF(__pyx_v_s);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_s);
      __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 159; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 159; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_v));
      ((PyObject *)__pyx_v_v) = __pyx_3;
      __pyx_3 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":160 */
      ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x = __pyx_v_v->x;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":161 */
      ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y = __pyx_v_v->y;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":162 */
      ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z = __pyx_v_v->z;
      goto __pyx_L3;
    }
    /*else*/ {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":165 */
      __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 165; goto __pyx_L1;}
      __pyx_6 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 165; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_v_seq);
      __pyx_v_seq = __pyx_6;
      __pyx_6 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":166 */
      /*try:*/ {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":167 */
        __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 167; goto __pyx_L9;}
        __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 167; goto __pyx_L9;}
        Py_INCREF(__pyx_v_seq);
        PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_seq);
        __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 167; goto __pyx_L9;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_4 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 167; goto __pyx_L9;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_v_seqlen = __pyx_4;
      }
      goto __pyx_L10;
      __pyx_L9:;
      Py_XDECREF(__pyx_6); __pyx_6 = 0;
      Py_XDECREF(__pyx_1); __pyx_1 = 0;
      Py_XDECREF(__pyx_3); __pyx_3 = 0;
      Py_XDECREF(__pyx_2); __pyx_2 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":168 */
      /*except:*/ {
        __Pyx_AddTraceback("cgtypes.__new__");
        __pyx_6 = __Pyx_GetExcValue(); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 168; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":169 */
        __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 169; goto __pyx_L1;}
        __Pyx_Raise(__pyx_1, __pyx_k12p, 0);
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 169; goto __pyx_L1;}
        goto __pyx_L10;
      }
      __pyx_L10:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":171 */
      __pyx_4 = (__pyx_v_seqlen == 3);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":172 */
        __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 172; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 172; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 172; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":173 */
        __pyx_6 = PyInt_FromLong(1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 173; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_seq, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 173; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 173; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":174 */
        __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 174; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 174; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 174; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z = __pyx_5;
        goto __pyx_L11;
      }
      __pyx_4 = (__pyx_v_seqlen == 2);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":176 */
        __pyx_6 = PyInt_FromLong(0); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 176; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_seq, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 176; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 176; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":177 */
        __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 177; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 177; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 177; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":178 */
        ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z = 0.0;
        goto __pyx_L11;
      }
      __pyx_4 = (__pyx_v_seqlen == 1);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":180 */
        __pyx_6 = PyInt_FromLong(0); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 180; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_seq, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 180; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 180; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":181 */
        ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y = ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":182 */
        ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z = ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x;
        goto __pyx_L11;
      }
      __pyx_4 = (__pyx_v_seqlen == 0);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":184 */
        ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x = 0.0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":185 */
        ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y = 0.0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":186 */
        ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z = 0.0;
        goto __pyx_L11;
      }
      /*else*/ {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":188 */
        __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 188; goto __pyx_L1;}
        __Pyx_Raise(__pyx_3, __pyx_k13p, 0);
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 188; goto __pyx_L1;}
      }
      __pyx_L11:;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_4 = (__pyx_v_arglen == 2);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":191 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 191; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 191; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 191; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":192 */
    __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 192; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_args, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 192; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 192; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":193 */
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z = 0.0;
    goto __pyx_L2;
  }
  __pyx_4 = (__pyx_v_arglen == 3);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":196 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 196; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 196; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 196; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":197 */
    __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 197; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_args, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 197; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 197; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":198 */
    __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 198; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 198; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 198; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z = __pyx_5;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":201 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 201; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k14p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 201; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("cgtypes.vec3.__new__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_XDECREF(__pyx_v_args);
  Py_DECREF(__pyx_v_v);
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_s);
  Py_DECREF(__pyx_v_i);
  Py_DECREF(__pyx_v_seq);
  Py_DECREF(__pyx_v_self);
  Py_XDECREF(__pyx_args);
  Py_XDECREF(__pyx_kwds);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec3___reduce__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7cgtypes_4vec3___reduce__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":204 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__vec3construct); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 204; goto __pyx_L1;}
  __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 204; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 204; goto __pyx_L1;}
  __pyx_4 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 204; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 204; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_2);
  PyTuple_SET_ITEM(__pyx_5, 1, __pyx_3);
  PyTuple_SET_ITEM(__pyx_5, 2, __pyx_4);
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 204; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_5);
  __pyx_1 = 0;
  __pyx_5 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("cgtypes.vec3.__reduce__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_repr;

static PyObject *__pyx_k15p;

static char (__pyx_k15[]) = "vec3(%s, %s, %s)";

static PyObject *__pyx_f_7cgtypes_4vec3___repr__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_4vec3___repr__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":207 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 207; goto __pyx_L1;}
  __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 207; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 207; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 207; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 207; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 207; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 207; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 207; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 207; goto __pyx_L1;}
  __pyx_4 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 207; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 207; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_4);
  __pyx_4 = 0;
  __pyx_4 = PyObject_CallObject(__pyx_1, __pyx_5); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 207; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_1 = PyTuple_New(3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 207; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_3);
  PyTuple_SET_ITEM(__pyx_1, 2, __pyx_4);
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_5 = PyNumber_Remainder(__pyx_k15p, __pyx_1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 207; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_5;
  __pyx_5 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("cgtypes.vec3.__repr__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k16p;

static char (__pyx_k16[]) = "(%1.4f, %1.4f, %1.4f)";

static PyObject *__pyx_f_7cgtypes_4vec3___str__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_4vec3___str__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":210 */
  __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 210; goto __pyx_L1;}
  __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 210; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 210; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 210; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
  PyTuple_SET_ITEM(__pyx_4, 1, __pyx_2);
  PyTuple_SET_ITEM(__pyx_4, 2, __pyx_3);
  __pyx_1 = 0;
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_1 = PyNumber_Remainder(__pyx_k16p, __pyx_4); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 210; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("cgtypes.vec3.__str__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec3___iter__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_4vec3___iter__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":213 */
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 213; goto __pyx_L1;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_self);
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3iter), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 213; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.vec3.__iter__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k17p;

static char (__pyx_k17[]) = "internal error: illegal rich comparison number";

static PyObject *__pyx_f_7cgtypes_4vec3___richcmp__(PyObject *__pyx_v_a, PyObject *__pyx_v_b, int __pyx_arg_op); /*proto*/
static PyObject *__pyx_f_7cgtypes_4vec3___richcmp__(PyObject *__pyx_v_a, PyObject *__pyx_v_b, int __pyx_arg_op) {
  PyObject *__pyx_v_op = 0;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_va;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_vb;
  int __pyx_v_cop;
  PyObject *__pyx_v_ta;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  __pyx_v_op = PyInt_FromLong(__pyx_arg_op); if (!__pyx_v_op) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 215; goto __pyx_L1;}
  ((PyObject*)__pyx_v_va) = Py_None; Py_INCREF(((PyObject*)__pyx_v_va));
  ((PyObject*)__pyx_v_vb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_vb));
  __pyx_v_ta = Py_None; Py_INCREF(__pyx_v_ta);
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":219 */
  __pyx_1 = PyInt_AsLong(__pyx_v_op); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 219; goto __pyx_L1;}
  __pyx_v_cop = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":221 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 221; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 221; goto __pyx_L1;}
  Py_INCREF(__pyx_v_a);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_a);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 221; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_ta);
  __pyx_v_ta = __pyx_4;
  __pyx_4 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":222 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 222; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 222; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_b);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 222; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_4;
  __pyx_4 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":223 */
  if (PyObject_Cmp(__pyx_v_ta, ((PyObject*)__pyx_ptype_7cgtypes_vec3), &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 223; goto __pyx_L1;}
  __pyx_1 = __pyx_1 != 0;
  if (!__pyx_1) {
    if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_vec3), &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 223; goto __pyx_L1;}
    __pyx_1 = __pyx_1 != 0;
  }
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":224 */
    __pyx_1 = (__pyx_v_cop == 3);
    if (__pyx_1) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":225 */
      __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 225; goto __pyx_L1;}
      __pyx_r = __pyx_2;
      __pyx_2 = 0;
      goto __pyx_L0;
      goto __pyx_L3;
    }
    /*else*/ {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":227 */
      __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 227; goto __pyx_L1;}
      __pyx_r = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L0;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":229 */
  if (!__Pyx_TypeTest(__pyx_v_a, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 229; goto __pyx_L1;}
  Py_INCREF(__pyx_v_a);
  Py_DECREF(((PyObject *)__pyx_v_va));
  ((PyObject *)__pyx_v_va) = __pyx_v_a;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":230 */
  if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 230; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  Py_DECREF(((PyObject *)__pyx_v_vb));
  ((PyObject *)__pyx_v_vb) = __pyx_v_b;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":233 */
  __pyx_1 = (__pyx_v_cop == 0);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":234 */
    __pyx_1 = (__pyx_v_va->x < __pyx_v_vb->x);
    if (__pyx_1) {
      __pyx_1 = (__pyx_v_va->y < __pyx_v_vb->y);
      if (__pyx_1) {
        __pyx_1 = (__pyx_v_va->z < __pyx_v_vb->z);
      }
    }
    __pyx_4 = PyInt_FromLong(__pyx_1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 234; goto __pyx_L1;}
    __pyx_r = __pyx_4;
    __pyx_4 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 1);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":237 */
    __pyx_1 = ((__pyx_v_va->x - __pyx_v_7cgtypes_eps) <= __pyx_v_vb->x);
    if (__pyx_1) {
      __pyx_1 = ((__pyx_v_va->y - __pyx_v_7cgtypes_eps) <= __pyx_v_vb->y);
      if (__pyx_1) {
        __pyx_1 = ((__pyx_v_va->z - __pyx_v_7cgtypes_eps) <= __pyx_v_vb->z);
      }
    }
    __pyx_2 = PyInt_FromLong(__pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 237; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 2);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":241 */
    __pyx_1 = (fabs((__pyx_v_va->x - __pyx_v_vb->x)) <= __pyx_v_7cgtypes_eps);
    if (__pyx_1) {
      __pyx_1 = (fabs((__pyx_v_va->y - __pyx_v_vb->y)) <= __pyx_v_7cgtypes_eps);
      if (__pyx_1) {
        __pyx_1 = (fabs((__pyx_v_va->z - __pyx_v_vb->z)) <= __pyx_v_7cgtypes_eps);
      }
    }
    __pyx_3 = PyInt_FromLong(__pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 241; goto __pyx_L1;}
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 3);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":245 */
    __pyx_1 = (fabs((__pyx_v_va->x - __pyx_v_vb->x)) > __pyx_v_7cgtypes_eps);
    if (!__pyx_1) {
      __pyx_1 = (fabs((__pyx_v_va->y - __pyx_v_vb->y)) > __pyx_v_7cgtypes_eps);
      if (__pyx_1) {
        __pyx_1 = (fabs((__pyx_v_va->z - __pyx_v_vb->z)) > __pyx_v_7cgtypes_eps);
      }
    }
    __pyx_4 = PyInt_FromLong(__pyx_1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 245; goto __pyx_L1;}
    __pyx_r = __pyx_4;
    __pyx_4 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 4);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":248 */
    __pyx_1 = (__pyx_v_va->x > __pyx_v_vb->x);
    if (__pyx_1) {
      __pyx_1 = (__pyx_v_va->y > __pyx_v_vb->y);
      if (__pyx_1) {
        __pyx_1 = (__pyx_v_va->z > __pyx_v_vb->z);
      }
    }
    __pyx_2 = PyInt_FromLong(__pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 248; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 5);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":251 */
    __pyx_1 = ((__pyx_v_va->x + __pyx_v_7cgtypes_eps) >= __pyx_v_vb->x);
    if (__pyx_1) {
      __pyx_1 = ((__pyx_v_va->y + __pyx_v_7cgtypes_eps) >= __pyx_v_vb->y);
      if (__pyx_1) {
        __pyx_1 = ((__pyx_v_va->z + __pyx_v_7cgtypes_eps) >= __pyx_v_vb->z);
      }
    }
    __pyx_3 = PyInt_FromLong(__pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 251; goto __pyx_L1;}
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":254 */
    __pyx_4 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 254; goto __pyx_L1;}
    __Pyx_Raise(__pyx_4, __pyx_k17p, 0);
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 254; goto __pyx_L1;}
  }
  __pyx_L4:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("cgtypes.vec3.__richcmp__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_op);
  Py_DECREF(__pyx_v_va);
  Py_DECREF(__pyx_v_vb);
  Py_DECREF(__pyx_v_ta);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec3___add__(PyObject *__pyx_v_a, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4vec3___add__[] = "Vector addition.\n\n        >>> a=vec3(1.0, 0.5, -1.8)\n        >>> b=vec3(-0.3, 0.75, 0.5)\n        >>> print a+b\n        (0.7000, 1.2500, -1.3000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3___add__(PyObject *__pyx_v_a, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_a), __pyx_ptype_7cgtypes_vec3, 1, "a")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 257; goto __pyx_L1;}
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_b), __pyx_ptype_7cgtypes_vec3, 1, "b")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 257; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":266 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 266; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 266; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 266; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":267 */
  __pyx_v_res->x = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_a)->x + ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_b)->x);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":268 */
  __pyx_v_res->y = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_a)->y + ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_b)->y);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":269 */
  __pyx_v_res->z = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_a)->z + ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_b)->z);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":270 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.vec3.__add__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec3___sub__(PyObject *__pyx_v_a, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4vec3___sub__[] = "Vector subtraction.\n\n        >>> a=vec3(1.0, 0.5, -1.8)\n        >>> b=vec3(-0.3, 0.75, 0.5)\n        >>> print a-b\n        (1.3000, -0.2500, -2.3000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3___sub__(PyObject *__pyx_v_a, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_a), __pyx_ptype_7cgtypes_vec3, 1, "a")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 272; goto __pyx_L1;}
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_b), __pyx_ptype_7cgtypes_vec3, 1, "b")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 272; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":281 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 281; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 281; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 281; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":282 */
  __pyx_v_res->x = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_a)->x - ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_b)->x);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":283 */
  __pyx_v_res->y = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_a)->y - ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_b)->y);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":284 */
  __pyx_v_res->z = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_a)->z - ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_b)->z);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":285 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.vec3.__sub__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_n___rmul__;

static PyObject *__pyx_k18p;

static char (__pyx_k18[]) = "unsupported operand type for *";

static PyObject *__pyx_f_7cgtypes_4vec3___mul__(PyObject *__pyx_v_a, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4vec3___mul__[] = "Multiplication with a scalar or dot product.\n\n        >>> a=vec3(1.0, 0.5, -1.8)\n        >>> b=vec3(-0.3, 0.75, 0.5)\n        >>> print a*2.0\n        (2.0000, 1.0000, -3.6000)\n        >>> print 2.0*a\n        (2.0000, 1.0000, -3.6000)\n        >>> print a*b\n        -0.825\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3___mul__(PyObject *__pyx_v_a, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_res;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_va;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_vb;
  double __pyx_v_r;
  PyObject *__pyx_v_ta;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  ((PyObject*)__pyx_v_va) = Py_None; Py_INCREF(((PyObject*)__pyx_v_va));
  ((PyObject*)__pyx_v_vb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_vb));
  __pyx_v_ta = Py_None; Py_INCREF(__pyx_v_ta);
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":302 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 302; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 302; goto __pyx_L1;}
  Py_INCREF(__pyx_v_a);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_a);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 302; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_ta);
  __pyx_v_ta = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":303 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 303; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 303; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_b);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 303; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":305 */
  if (PyObject_Cmp(__pyx_v_ta, ((PyObject*)__pyx_ptype_7cgtypes_vec3), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 305; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":306 */
    if (!__Pyx_TypeTest(__pyx_v_a, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 306; goto __pyx_L1;}
    Py_INCREF(__pyx_v_a);
    Py_DECREF(((PyObject *)__pyx_v_va));
    ((PyObject *)__pyx_v_va) = __pyx_v_a;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":307 */
    if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_vec3), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 307; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":309 */
      if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 309; goto __pyx_L1;}
      Py_INCREF(__pyx_v_b);
      Py_DECREF(((PyObject *)__pyx_v_vb));
      ((PyObject *)__pyx_v_vb) = __pyx_v_b;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":310 */
      __pyx_1 = PyFloat_FromDouble((((__pyx_v_va->x * __pyx_v_vb->x) + (__pyx_v_va->y * __pyx_v_vb->y)) + (__pyx_v_va->z * __pyx_v_vb->z))); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 310; goto __pyx_L1;}
      __pyx_r = __pyx_1;
      __pyx_1 = 0;
      goto __pyx_L0;
      goto __pyx_L3;
    }
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (!__pyx_4) {
        __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; goto __pyx_L1;}
        if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; goto __pyx_L1;}
        __pyx_4 = __pyx_4 == 0;
        Py_DECREF(__pyx_1); __pyx_1 = 0;
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":313 */
      __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 313; goto __pyx_L1;}
      __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 313; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 313; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_res));
      ((PyObject *)__pyx_v_res) = __pyx_3;
      __pyx_3 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":314 */
      __pyx_5 = PyFloat_AsDouble(__pyx_v_b); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 314; goto __pyx_L1;}
      __pyx_v_r = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":315 */
      __pyx_v_res->x = (__pyx_v_va->x * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":316 */
      __pyx_v_res->y = (__pyx_v_va->y * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":317 */
      __pyx_v_res->z = (__pyx_v_va->z * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":318 */
      Py_INCREF(((PyObject *)__pyx_v_res));
      __pyx_r = ((PyObject *)__pyx_v_res);
      goto __pyx_L0;
      goto __pyx_L3;
    }
    if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_mat3), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 319; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":321 */
      __pyx_1 = PyObject_GetAttr(__pyx_v_b, __pyx_n___rmul__); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 321; goto __pyx_L1;}
      __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 321; goto __pyx_L1;}
      Py_INCREF(__pyx_v_a);
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_a);
      __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 321; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_r = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L0;
      goto __pyx_L3;
    }
    if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_mat4), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 322; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":324 */
      __pyx_1 = PyObject_GetAttr(__pyx_v_b, __pyx_n___rmul__); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 324; goto __pyx_L1;}
      __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 324; goto __pyx_L1;}
      Py_INCREF(__pyx_v_a);
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_a);
      __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 324; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_r = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L0;
      goto __pyx_L3;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 326; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_ta, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 326; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 326; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_ta, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 326; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 326; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_ta, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 326; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":327 */
    if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_vec3), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 327; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":329 */
      __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 329; goto __pyx_L1;}
      __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 329; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 329; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_res));
      ((PyObject *)__pyx_v_res) = __pyx_2;
      __pyx_2 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":330 */
      if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 330; goto __pyx_L1;}
      Py_INCREF(__pyx_v_b);
      Py_DECREF(((PyObject *)__pyx_v_vb));
      ((PyObject *)__pyx_v_vb) = __pyx_v_b;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":331 */
      __pyx_5 = PyFloat_AsDouble(__pyx_v_a); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 331; goto __pyx_L1;}
      __pyx_v_r = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":332 */
      __pyx_v_res->x = (__pyx_v_r * __pyx_v_vb->x);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":333 */
      __pyx_v_res->y = (__pyx_v_r * __pyx_v_vb->y);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":334 */
      __pyx_v_res->z = (__pyx_v_r * __pyx_v_vb->z);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":335 */
      Py_INCREF(((PyObject *)__pyx_v_res));
      __pyx_r = ((PyObject *)__pyx_v_res);
      goto __pyx_L0;
      goto __pyx_L4;
    }
    __pyx_L4:;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":337 */
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 337; goto __pyx_L1;}
  __Pyx_Raise(__pyx_3, __pyx_k18p, 0);
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 337; goto __pyx_L1;}

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.vec3.__mul__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_va);
  Py_DECREF(__pyx_v_vb);
  Py_DECREF(__pyx_v_ta);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_n_ZeroDivisionError;

static PyObject *__pyx_k19p;
static PyObject *__pyx_k20p;

static char (__pyx_k19[]) = "vec3 division";
static char (__pyx_k20[]) = "unsupported operand type for /";

static PyObject *__pyx_f_7cgtypes_4vec3___div__(PyObject *__pyx_v_a, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4vec3___div__[] = "Division by scalar\n\n        >>> a=vec3(1.0, 0.5, -1.8)\n        >>> print a/2.0\n        (0.5000, 0.2500, -0.9000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3___div__(PyObject *__pyx_v_a, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_res;
  double __pyx_v_r;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_a), __pyx_ptype_7cgtypes_vec3, 1, "a")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 339; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":349 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 349; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 349; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_b);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 349; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":351 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 351; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 351; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 351; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 351; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 351; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 351; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":353 */
    __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 353; goto __pyx_L1;}
    __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 353; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 353; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_res));
    ((PyObject *)__pyx_v_res) = __pyx_2;
    __pyx_2 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":354 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_b); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 354; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":355 */
    __pyx_4 = (fabs(__pyx_v_r) <= __pyx_v_7cgtypes_eps);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":356 */
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 356; goto __pyx_L1;}
      __Pyx_Raise(__pyx_3, __pyx_k19p, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 356; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":357 */
    __pyx_v_res->x = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_a)->x / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":358 */
    __pyx_v_res->y = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_a)->y / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":359 */
    __pyx_v_res->z = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_a)->z / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":360 */
    Py_INCREF(((PyObject *)__pyx_v_res));
    __pyx_r = ((PyObject *)__pyx_v_res);
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":362 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 362; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k20p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 362; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.vec3.__div__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_k21p;
static PyObject *__pyx_k22p;
static PyObject *__pyx_k23p;

static char (__pyx_k21[]) = "vec3 modulo";
static char (__pyx_k22[]) = "vec3 modulo";
static char (__pyx_k23[]) = "unsupported operand type for %";

static PyObject *__pyx_f_7cgtypes_4vec3___mod__(PyObject *__pyx_v_self, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4vec3___mod__[] = "Modulo (component wise).\n\n        >>> a=vec3(3.0, 2.5, -1.8)\n        >>> print a%2.0\n        (1.0000, 0.5000, 0.2000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3___mod__(PyObject *__pyx_v_self, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_res;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_vb;
  double __pyx_v_r;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  ((PyObject*)__pyx_v_vb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_vb));
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_self), __pyx_ptype_7cgtypes_vec3, 1, "self")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 364; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":374 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 374; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 374; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_b);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 374; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":376 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 376; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 376; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 376; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 376; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 376; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 376; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":378 */
    __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 378; goto __pyx_L1;}
    __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 378; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 378; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_res));
    ((PyObject *)__pyx_v_res) = __pyx_2;
    __pyx_2 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":379 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_b); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 379; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":380 */
    __pyx_4 = (fabs(__pyx_v_r) <= __pyx_v_7cgtypes_eps);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":381 */
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 381; goto __pyx_L1;}
      __Pyx_Raise(__pyx_3, __pyx_k21p, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 381; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":382 */
    __pyx_v_res->x = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":383 */
    __pyx_v_res->y = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":384 */
    __pyx_v_res->z = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":385 */
    Py_INCREF(((PyObject *)__pyx_v_res));
    __pyx_r = ((PyObject *)__pyx_v_res);
    goto __pyx_L0;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_vec3), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 386; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":388 */
    __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 388; goto __pyx_L1;}
    __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 388; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 388; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_res));
    ((PyObject *)__pyx_v_res) = __pyx_2;
    __pyx_2 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":389 */
    if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 389; goto __pyx_L1;}
    Py_INCREF(__pyx_v_b);
    Py_DECREF(((PyObject *)__pyx_v_vb));
    ((PyObject *)__pyx_v_vb) = __pyx_v_b;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":390 */
    __pyx_4 = (fabs(__pyx_v_vb->x) <= __pyx_v_7cgtypes_eps);
    if (!__pyx_4) {
      __pyx_4 = (fabs(__pyx_v_vb->y) <= __pyx_v_7cgtypes_eps);
      if (!__pyx_4) {
        __pyx_4 = (fabs(__pyx_v_vb->z) <= __pyx_v_7cgtypes_eps);
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":391 */
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 391; goto __pyx_L1;}
      __Pyx_Raise(__pyx_3, __pyx_k22p, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 391; goto __pyx_L1;}
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":392 */
    __pyx_v_res->x = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x,__pyx_v_vb->x);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":393 */
    __pyx_v_res->y = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y,__pyx_v_vb->y);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":394 */
    __pyx_v_res->z = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z,__pyx_v_vb->z);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":395 */
    Py_INCREF(((PyObject *)__pyx_v_res));
    __pyx_r = ((PyObject *)__pyx_v_res);
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":397 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 397; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k23p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 397; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.vec3.__mod__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_vb);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec3___neg__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_7cgtypes_4vec3___neg__[] = "Negation\n\n        >>> a=vec3(3.0, 2.5, -1.8)\n        >>> print -a\n        (-3.0000, -2.5000, 1.8000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3___neg__(PyObject *__pyx_v_self) {
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":407 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 407; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 407; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 407; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":408 */
  __pyx_v_res->x = (-((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":409 */
  __pyx_v_res->y = (-((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":410 */
  __pyx_v_res->z = (-((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":411 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.vec3.__neg__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec3___pos__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_7cgtypes_4vec3___pos__[] = "\n        >>> a=vec3(3.0, 2.5, -1.8)\n        >>> print +a\n        (3.0000, 2.5000, -1.8000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3___pos__(PyObject *__pyx_v_self) {
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":420 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 420; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 420; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 420; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":421 */
  __pyx_v_res->x = ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":422 */
  __pyx_v_res->y = ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":423 */
  __pyx_v_res->z = ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":424 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.vec3.__pos__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec3___iadd__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4vec3___iadd__[] = "Inline vector addition.\n\n        >>> a=vec3(1.0, 0.5, -1.8)\n        >>> b=vec3(-0.3, 0.75, 0.5)\n        >>> a+=b\n        >>> print a\n        (0.7000, 1.2500, -1.3000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3___iadd__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  PyObject *__pyx_r;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_other), __pyx_ptype_7cgtypes_vec3, 1, "other")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 427; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":436 */
  ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x + ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_other)->x);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":437 */
  ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y + ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_other)->y);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":438 */
  ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z + ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_other)->z);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":439 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.vec3.__iadd__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec3___isub__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4vec3___isub__[] = "Inline vector subtraction.\n\n        >>> a=vec3(1.0, 0.5, -1.8)\n        >>> b=vec3(-0.3, 0.75, 0.5)\n        >>> a-=b\n        >>> print a\n        (1.3000, -0.2500, -2.3000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3___isub__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  PyObject *__pyx_r;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_other), __pyx_ptype_7cgtypes_vec3, 1, "other")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 441; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":450 */
  ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x - ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_other)->x);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":451 */
  ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y - ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_other)->y);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":452 */
  ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z - ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_other)->z);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":453 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.vec3.__isub__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_k24p;

static char (__pyx_k24[]) = "unsupported operand type for *=";

static PyObject *__pyx_f_7cgtypes_4vec3___imul__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4vec3___imul__[] = "Inline multiplication (only with scalar)\n\n        >>> a=vec3(1.0, 0.5, -1.8)\n        >>> a*=2.0\n        >>> print a\n        (2.0000, 1.0000, -3.6000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3___imul__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  double __pyx_v_r;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":464 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 464; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 464; goto __pyx_L1;}
  Py_INCREF(__pyx_v_other);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_other);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 464; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":465 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 465; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 465; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 465; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 465; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 465; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 465; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":466 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_other); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 466; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":467 */
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":468 */
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":469 */
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":470 */
    Py_INCREF(__pyx_v_self);
    __pyx_r = __pyx_v_self;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":472 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 472; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k24p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 472; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.vec3.__imul__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_k25p;
static PyObject *__pyx_k26p;

static char (__pyx_k25[]) = "vec3 division";
static char (__pyx_k26[]) = "unsupported operand type for /=";

static PyObject *__pyx_f_7cgtypes_4vec3___idiv__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4vec3___idiv__[] = "Inline division with scalar\n\n        >>> a=vec3(1.0, 0.5, -1.8)\n        >>> a/=2.0\n        >>> print a\n        (0.5000, 0.2500, -0.9000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3___idiv__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  double __pyx_v_r;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":483 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 483; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 483; goto __pyx_L1;}
  Py_INCREF(__pyx_v_other);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_other);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 483; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":484 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 484; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 484; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 484; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 484; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 484; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 484; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":485 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_other); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 485; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":486 */
    __pyx_4 = (fabs(__pyx_v_r) <= __pyx_v_7cgtypes_eps);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":487 */
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 487; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_k25p, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 487; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":488 */
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":489 */
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":490 */
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":491 */
    Py_INCREF(__pyx_v_self);
    __pyx_r = __pyx_v_self;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":493 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 493; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k26p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 493; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.vec3.__idiv__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_k27p;
static PyObject *__pyx_k28p;
static PyObject *__pyx_k29p;

static char (__pyx_k27[]) = "vec3 modulo";
static char (__pyx_k28[]) = "vec3 modulo";
static char (__pyx_k29[]) = "unsupported operand type for %=";

static PyObject *__pyx_f_7cgtypes_4vec3___imod__(PyObject *__pyx_v_self, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4vec3___imod__[] = "Inline modulo.\n\n        >>> a=vec3(3.0, 2.5, -1.8)\n        >>> a%=2.0\n        >>> print a\n        (1.0000, 0.5000, 0.2000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3___imod__(PyObject *__pyx_v_self, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_vb;
  double __pyx_v_r;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_vb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_vb));
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":506 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 506; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 506; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_b);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 506; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":508 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 508; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 508; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 508; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 508; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 508; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 508; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":510 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_b); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 510; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":511 */
    __pyx_4 = (fabs(__pyx_v_r) <= __pyx_v_7cgtypes_eps);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":512 */
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 512; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_k27p, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 512; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":513 */
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":514 */
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":515 */
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":516 */
    Py_INCREF(__pyx_v_self);
    __pyx_r = __pyx_v_self;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_vec3), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 517; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":519 */
    if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 519; goto __pyx_L1;}
    Py_INCREF(__pyx_v_b);
    Py_DECREF(((PyObject *)__pyx_v_vb));
    ((PyObject *)__pyx_v_vb) = __pyx_v_b;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":520 */
    __pyx_4 = (fabs(__pyx_v_vb->x) <= __pyx_v_7cgtypes_eps);
    if (!__pyx_4) {
      __pyx_4 = (fabs(__pyx_v_vb->y) <= __pyx_v_7cgtypes_eps);
      if (!__pyx_4) {
        __pyx_4 = (fabs(__pyx_v_vb->z) <= __pyx_v_7cgtypes_eps);
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":521 */
      __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 521; goto __pyx_L1;}
      __Pyx_Raise(__pyx_2, __pyx_k28p, 0);
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 521; goto __pyx_L1;}
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":522 */
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x,__pyx_v_vb->x);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":523 */
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y,__pyx_v_vb->y);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":524 */
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z,__pyx_v_vb->z);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":525 */
    Py_INCREF(__pyx_v_self);
    __pyx_r = __pyx_v_self;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":527 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 527; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k29p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 527; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.vec3.__imod__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_vb);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec3___abs__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_7cgtypes_4vec3___abs__[] = "Return the length of the vector.\n\n        abs(v) is equivalent to v.length().\n\n        >>> a=vec3(1.0, 0.5, -1.8)\n        >>> print abs(a)\n        2.11896201004\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3___abs__(PyObject *__pyx_v_self) {
  double __pyx_v_a;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":540 */
  __pyx_v_a = (((((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x * ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x) + (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y * ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y)) + (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z * ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":541 */
  __pyx_1 = PyFloat_FromDouble(sqrt(__pyx_v_a)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 541; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("cgtypes.vec3.__abs__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_AttributeError;

static PyObject *__pyx_k33p;
static PyObject *__pyx_k34p;

static char (__pyx_k33[]) = "vec3 has no attribute '";
static char (__pyx_k34[]) = "\'";

static PyObject *__pyx_f_7cgtypes_4vec3___getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
static PyObject *__pyx_f_7cgtypes_4vec3___getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_name);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":544 */
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_x, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 544; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":545 */
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 545; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_y, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 546; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":547 */
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 547; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_z, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 548; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":549 */
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 549; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":551 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_AttributeError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 551; goto __pyx_L1;}
    __pyx_3 = PyNumber_Add(__pyx_k33p, __pyx_v_name); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 551; goto __pyx_L1;}
    __pyx_4 = PyNumber_Add(__pyx_3, __pyx_k34p); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 551; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, __pyx_4, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 551; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("cgtypes.vec3.__getattr__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_name);
  return __pyx_r;
}

static PyObject *__pyx_k38p;
static PyObject *__pyx_k39p;

static char (__pyx_k38[]) = "vec3 has no writable attribute '";
static char (__pyx_k39[]) = "\'";

static int __pyx_f_7cgtypes_4vec3___setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_val); /*proto*/
static int __pyx_f_7cgtypes_4vec3___setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_val) {
  int __pyx_r;
  int __pyx_1;
  double __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_name);
  Py_INCREF(__pyx_v_val);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":554 */
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_x, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 554; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":555 */
    __pyx_2 = PyFloat_AsDouble(__pyx_v_val); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 555; goto __pyx_L1;}
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x = __pyx_2;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_y, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 556; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":557 */
    __pyx_2 = PyFloat_AsDouble(__pyx_v_val); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 557; goto __pyx_L1;}
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y = __pyx_2;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_z, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 558; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":559 */
    __pyx_2 = PyFloat_AsDouble(__pyx_v_val); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 559; goto __pyx_L1;}
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z = __pyx_2;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":561 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_AttributeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 561; goto __pyx_L1;}
    __pyx_4 = PyNumber_Add(__pyx_k38p, __pyx_v_name); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 561; goto __pyx_L1;}
    __pyx_5 = PyNumber_Add(__pyx_4, __pyx_k39p); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 561; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_3, __pyx_5, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 561; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("cgtypes.vec3.__setattr__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_val);
  return __pyx_r;
}

static int __pyx_f_7cgtypes_4vec3___len__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_7cgtypes_4vec3___len__[] = "Length of the sequence (always 3)";
static int __pyx_f_7cgtypes_4vec3___len__(PyObject *__pyx_v_self) {
  int __pyx_r;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":565 */
  __pyx_r = 3;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.vec3.__len__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_IndexError;

static PyObject *__pyx_k40p;
static PyObject *__pyx_k41p;

static char (__pyx_k40[]) = "index must be integer";
static char (__pyx_k41[]) = "index out of range";

static PyObject *__pyx_f_7cgtypes_4vec3___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key); /*proto*/
static char __pyx_doc_7cgtypes_4vec3___getitem__[] = "Return a component by index (0-based)\n\n        >>> a=vec3(1.0, 0.5, -1.8)\n        >>> print a[0]\n        1.0\n        >>> print a[1]\n        0.5\n        >>> print a[2]\n        -1.8\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key) {
  int __pyx_v_k;
  PyObject *__pyx_v_T;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_key);
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":580 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; goto __pyx_L1;}
  Py_INCREF(__pyx_v_key);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_key);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_T);
  __pyx_v_T = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":581 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 581; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 581; goto __pyx_L1;}
  __pyx_4 = __pyx_4 != 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 581; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 581; goto __pyx_L1;}
    __pyx_4 = __pyx_4 != 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":582 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 582; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k40p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 582; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":584 */
  __pyx_4 = PyInt_AsLong(__pyx_v_key); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 584; goto __pyx_L1;}
  __pyx_v_k = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":585 */
  __pyx_4 = (__pyx_v_k == 0);
  if (__pyx_4) {
    __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 585; goto __pyx_L1;}
    __pyx_r = __pyx_1;
    __pyx_1 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_4 = (__pyx_v_k == 1);
  if (__pyx_4) {
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 586; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_4 = (__pyx_v_k == 2);
  if (__pyx_4) {
    __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 587; goto __pyx_L1;}
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":589 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 589; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k41p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 589; goto __pyx_L1;}
  }
  __pyx_L3:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.vec3.__getitem__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_key);
  return __pyx_r;
}

static PyObject *__pyx_k42p;
static PyObject *__pyx_k43p;

static char (__pyx_k42[]) = "index must be integer";
static char (__pyx_k43[]) = "index out of range";

static int __pyx_f_7cgtypes_4vec3___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key, PyObject *__pyx_v_value); /*proto*/
static char __pyx_doc_7cgtypes_4vec3___setitem__[] = "Set a component by index (0-based)\n\n        >>> a=vec3()\n        >>> a[0]=1.5; a[1]=0.7; a[2]=-0.3\n        >>> print a\n        (1.5000, 0.7000, -0.3000)\n        ";
static int __pyx_f_7cgtypes_4vec3___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key, PyObject *__pyx_v_value) {
  int __pyx_v_k;
  PyObject *__pyx_v_T;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_key);
  Py_INCREF(__pyx_v_value);
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":601 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 601; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 601; goto __pyx_L1;}
  Py_INCREF(__pyx_v_key);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_key);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 601; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_T);
  __pyx_v_T = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":602 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 602; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 602; goto __pyx_L1;}
  __pyx_4 = __pyx_4 != 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 602; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 602; goto __pyx_L1;}
    __pyx_4 = __pyx_4 != 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":603 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 603; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k42p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 603; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":605 */
  __pyx_4 = PyInt_AsLong(__pyx_v_key); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 605; goto __pyx_L1;}
  __pyx_v_k = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":606 */
  __pyx_4 = (__pyx_v_k == 0);
  if (__pyx_4) {
    __pyx_5 = PyFloat_AsDouble(__pyx_v_value); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 606; goto __pyx_L1;}
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x = __pyx_5;
    goto __pyx_L3;
  }
  __pyx_4 = (__pyx_v_k == 1);
  if (__pyx_4) {
    __pyx_5 = PyFloat_AsDouble(__pyx_v_value); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 607; goto __pyx_L1;}
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y = __pyx_5;
    goto __pyx_L3;
  }
  __pyx_4 = (__pyx_v_k == 2);
  if (__pyx_4) {
    __pyx_5 = PyFloat_AsDouble(__pyx_v_value); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 608; goto __pyx_L1;}
    ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z = __pyx_5;
    goto __pyx_L3;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":610 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 610; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k43p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 610; goto __pyx_L1;}
  }
  __pyx_L3:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.vec3.__setitem__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_key);
  Py_DECREF(__pyx_v_value);
  return __pyx_r;
}

static PyObject *__pyx_k44p;

static char (__pyx_k44[]) = "unsupported operand type for cross()";

static PyObject *__pyx_f_7cgtypes_4vec3_cross(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4vec3_cross[] = "Cross product.\n\n        >>> a=vec3(1.0, 0.5, -1.8)\n        >>> b=vec3(-0.3, 0.75, 0.5)\n        >>> c=a.cross(b)\n        >>> print c\n        (1.6000, 0.0400, 0.9000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3_cross(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_other = 0;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  static char *__pyx_argnames[] = {"other",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_other)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_other), __pyx_ptype_7cgtypes_vec3, 1, "other")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 612; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":623 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 623; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 623; goto __pyx_L1;}
  Py_INCREF(((PyObject *)__pyx_v_other));
  PyTuple_SET_ITEM(__pyx_2, 0, ((PyObject *)__pyx_v_other));
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 623; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (PyObject_Cmp(__pyx_3, ((PyObject*)__pyx_ptype_7cgtypes_vec3), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 623; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":624 */
    __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 624; goto __pyx_L1;}
    __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 624; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 624; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_res));
    ((PyObject *)__pyx_v_res) = __pyx_2;
    __pyx_2 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":625 */
    __pyx_v_res->x = ((((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y * __pyx_v_other->z) - (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z * __pyx_v_other->y));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":626 */
    __pyx_v_res->y = ((((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z * __pyx_v_other->x) - (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x * __pyx_v_other->z));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":627 */
    __pyx_v_res->z = ((((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x * __pyx_v_other->y) - (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y * __pyx_v_other->x));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":628 */
    Py_INCREF(((PyObject *)__pyx_v_res));
    __pyx_r = ((PyObject *)__pyx_v_res);
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":630 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 630; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k44p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 630; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.vec3.cross");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec3_length(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4vec3_length[] = "Return the length of the vector.\n\n        v.length() is equivalent to abs(v).\n\n        >>> a=vec3(1.0, 0.5, -1.8)\n        >>> print a.length()\n        2.11896201004\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3_length(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  double __pyx_v_a;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":642 */
  __pyx_v_a = (((((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x * ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x) + (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y * ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y)) + (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z * ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":643 */
  __pyx_1 = PyFloat_FromDouble(sqrt(__pyx_v_a)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 643; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("cgtypes.vec3.length");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k45p;

static char (__pyx_k45[]) = "null vector can't be normalized";

static PyObject *__pyx_f_7cgtypes_4vec3_normalize(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4vec3_normalize[] = "Return normalized vector.\n\n        >>> a=vec3(1.0, 0.5, -1.8)\n        >>> print a.normalize()\n        (0.4719, 0.2360, -0.8495)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3_normalize(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_res;
  double __pyx_v_nlen;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":655 */
  __pyx_v_nlen = sqrt((((((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x * ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x) + (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y * ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y)) + (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z * ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":656 */
  __pyx_1 = (__pyx_v_nlen <= __pyx_v_7cgtypes_eps);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":657 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 657; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k45p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 657; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":658 */
  __pyx_v_nlen = (1.0 / __pyx_v_nlen);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":659 */
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 659; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 659; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 659; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":660 */
  __pyx_v_res->x = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x * __pyx_v_nlen);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":661 */
  __pyx_v_res->y = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y * __pyx_v_nlen);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":662 */
  __pyx_v_res->z = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z * __pyx_v_nlen);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":663 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.vec3.normalize");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k46p;

static char (__pyx_k46[]) = "angle(): null vector can't be normalized";

static PyObject *__pyx_f_7cgtypes_4vec3_angle(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4vec3_angle[] = "Return angle (in radians) between self and other.\n\n        >>> a=vec3(1.0, 0.5, -1.8)\n        >>> b=vec3(-0.3, 0.75, 0.5)\n        >>> print a.angle(b)\n        1.99306755584\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3_angle(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_other = 0;
  double __pyx_v_a;
  double __pyx_v_ls;
  double __pyx_v_lo;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {"other",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_other)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_other), __pyx_ptype_7cgtypes_vec3, 1, "other")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 665; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":676 */
  __pyx_v_ls = sqrt((((((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x * ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x) + (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y * ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y)) + (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z * ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":677 */
  __pyx_v_lo = sqrt((((__pyx_v_other->x * __pyx_v_other->x) + (__pyx_v_other->y * __pyx_v_other->y)) + (__pyx_v_other->z * __pyx_v_other->z)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":678 */
  __pyx_v_a = (__pyx_v_ls * __pyx_v_lo);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":679 */
  __pyx_1 = (__pyx_v_a <= __pyx_v_7cgtypes_eps);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":680 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 680; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k46p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 680; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":681 */
  __pyx_v_a = ((((((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x * __pyx_v_other->x) + (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y * __pyx_v_other->y)) + (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z * __pyx_v_other->z)) / __pyx_v_a);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":682 */
  __pyx_1 = (__pyx_v_a > 1.0);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":683 */
    __pyx_v_a = 1.0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":684 */
  __pyx_1 = (__pyx_v_a < (-1.0));
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":685 */
    __pyx_v_a = (-1.0);
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":686 */
  __pyx_2 = PyFloat_FromDouble(acos(__pyx_v_a)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 686; goto __pyx_L1;}
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.vec3.angle");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec3_reflect(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4vec3_reflect[] = "Return the reflection vector.\n\n        N is the surface normal which has to be of unit length.\n\n        >>> a=vec3(1.0, -1.0, 0.0)\n        >>> print a.reflect(vec3(0,1,0)\n        (1.0000, 1.0000, 0.0000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3_reflect(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_N = 0;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_res;
  double __pyx_v_a;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {"N",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_N)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_N);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_N), __pyx_ptype_7cgtypes_vec3, 1, "N")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 692; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":704 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 704; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 704; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 704; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":705 */
  __pyx_v_a = (2.0 * (((((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x * __pyx_v_N->x) + (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y * __pyx_v_N->y)) + (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z * __pyx_v_N->z)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":706 */
  __pyx_v_res->x = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x - (__pyx_v_a * __pyx_v_N->x));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":707 */
  __pyx_v_res->y = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y - (__pyx_v_a * __pyx_v_N->y));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":708 */
  __pyx_v_res->z = (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z - (__pyx_v_a * __pyx_v_N->z));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":709 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.vec3.reflect");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_N);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec3_refract(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4vec3_refract[] = "Return the transmitted vector.\n\n        N is the surface normal which has to be of unit length.\n        eta is the relative index of refraction. If the returned\n        vector is zero then there is no transmitted light because\n        of total internal reflection.\n        \n        >>> a=vec3(1.0, -1.5, 0.8)\n        >>> print a.refract(vec3(0,1,0), 1.33)\n        (1.3300, -1.7920, 1.0640)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3_refract(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_N = 0;
  PyObject *__pyx_v_eta = 0;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_res;
  double __pyx_v_dot;
  double __pyx_v_k;
  double __pyx_v_ceta;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  double __pyx_3;
  int __pyx_4;
  static char *__pyx_argnames[] = {"N","eta",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_N, &__pyx_v_eta)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_N);
  Py_INCREF(__pyx_v_eta);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_N), __pyx_ptype_7cgtypes_vec3, 1, "N")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 711; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":726 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 726; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 726; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 726; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":728 */
  __pyx_3 = PyFloat_AsDouble(__pyx_v_eta); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 728; goto __pyx_L1;}
  __pyx_v_ceta = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":729 */
  __pyx_v_dot = (((((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x * __pyx_v_N->x) + (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y * __pyx_v_N->y)) + (((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z * __pyx_v_N->z));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":730 */
  __pyx_v_k = (1.0 - ((__pyx_v_ceta * __pyx_v_ceta) * (1.0 - (__pyx_v_dot * __pyx_v_dot))));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":731 */
  __pyx_4 = (__pyx_v_k <= __pyx_v_7cgtypes_eps);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":732 */
    __pyx_v_res->x = 0.0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":733 */
    __pyx_v_res->y = 0.0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":734 */
    __pyx_v_res->z = 0.0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":736 */
    __pyx_v_k = ((__pyx_v_ceta * __pyx_v_dot) + sqrt(__pyx_v_k));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":737 */
    __pyx_v_res->x = ((__pyx_v_ceta * ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x) - (__pyx_v_k * __pyx_v_N->x));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":738 */
    __pyx_v_res->y = ((__pyx_v_ceta * ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y) - (__pyx_v_k * __pyx_v_N->y));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":739 */
    __pyx_v_res->z = ((__pyx_v_ceta * ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z) - (__pyx_v_k * __pyx_v_N->z));
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":741 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.vec3.refract");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_N);
  Py_DECREF(__pyx_v_eta);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec3_ortho(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4vec3_ortho[] = "Returns an orthogonal vector.\n\n        Returns a vector that is orthogonal to self (where\n        self*self.ortho()==0).\n\n        >>> a=vec3(1.0, -1.5, 0.8)\n        >>> print round(a*a.ortho(),8)\n        0.0\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3_ortho(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_res;
  double __pyx_v_x;
  double __pyx_v_y;
  double __pyx_v_z;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  int __pyx_3;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":755 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 755; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 755; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 755; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":757 */
  __pyx_v_x = fabs(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":758 */
  __pyx_v_y = fabs(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":759 */
  __pyx_v_z = fabs(((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":761 */
  __pyx_3 = (__pyx_v_z <= __pyx_v_x);
  if (__pyx_3) {
    __pyx_3 = (__pyx_v_z <= __pyx_v_y);
  }
  if (__pyx_3) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":762 */
    __pyx_v_res->x = (-((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":763 */
    __pyx_v_res->y = ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":764 */
    __pyx_v_res->z = 0.0;
    goto __pyx_L2;
  }
  __pyx_3 = (__pyx_v_y <= __pyx_v_x);
  if (__pyx_3) {
    __pyx_3 = (__pyx_v_y <= __pyx_v_z);
  }
  if (__pyx_3) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":767 */
    __pyx_v_res->x = (-((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":768 */
    __pyx_v_res->y = 0.0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":769 */
    __pyx_v_res->z = ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":772 */
    __pyx_v_res->x = 0.0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":773 */
    __pyx_v_res->y = (-((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":774 */
    __pyx_v_res->z = ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":776 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.vec3.ortho");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec3_fadd(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7cgtypes_4vec3_fadd(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_a = 0;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_b = 0;
  PyObject *__pyx_r;
  static char *__pyx_argnames[] = {"a","b",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_a, &__pyx_v_b)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_a), __pyx_ptype_7cgtypes_vec3, 1, "a")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 779; goto __pyx_L1;}
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_b), __pyx_ptype_7cgtypes_vec3, 1, "b")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 779; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":780 */
  ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x = (__pyx_v_a->x + __pyx_v_b->x);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":781 */
  ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y = (__pyx_v_a->y + __pyx_v_b->y);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":782 */
  ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z = (__pyx_v_a->z + __pyx_v_b->z);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":783 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.vec3.fadd");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_k47p;

static char (__pyx_k47[]) = "null vector can't be normalized";

static PyObject *__pyx_f_7cgtypes_4vec3_fnormalize(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4vec3_fnormalize[] = "Normalize vector a and store result in self.\n        ";
static PyObject *__pyx_f_7cgtypes_4vec3_fnormalize(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_a = 0;
  double __pyx_v_nlen;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {"a",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_a)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_a);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_a), __pyx_ptype_7cgtypes_vec3, 1, "a")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 785; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":790 */
  __pyx_v_nlen = sqrt((((__pyx_v_a->x * __pyx_v_a->x) + (__pyx_v_a->y * __pyx_v_a->y)) + (__pyx_v_a->z * __pyx_v_a->z)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":791 */
  __pyx_1 = (__pyx_v_nlen <= __pyx_v_7cgtypes_eps);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":792 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 792; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k47p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 792; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":793 */
  __pyx_v_nlen = (1.0 / __pyx_v_nlen);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":794 */
  ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->x = (__pyx_v_a->x * __pyx_v_nlen);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":795 */
  ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->y = (__pyx_v_a->y * __pyx_v_nlen);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":796 */
  ((struct __pyx_obj_7cgtypes_vec3 *)__pyx_v_self)->z = (__pyx_v_a->z * __pyx_v_nlen);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":797 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.vec3.fnormalize");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_a);
  return __pyx_r;
}

static int __pyx_f_7cgtypes_8vec4iter___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_7cgtypes_8vec4iter___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_v = 0;
  int __pyx_r;
  static char *__pyx_argnames[] = {"v",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_v)) return -1;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_v);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":808 */
  ((struct __pyx_obj_7cgtypes_vec4iter *)__pyx_v_self)->idx = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":809 */
  Py_INCREF(__pyx_v_v);
  Py_DECREF(((struct __pyx_obj_7cgtypes_vec4iter *)__pyx_v_self)->v);
  ((struct __pyx_obj_7cgtypes_vec4iter *)__pyx_v_self)->v = __pyx_v_v;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.vec4iter.__new__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_v);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_8vec4iter___iter__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_8vec4iter___iter__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":812 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.vec4iter.__iter__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_w;

static PyObject *__pyx_f_7cgtypes_8vec4iter___next__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_8vec4iter___next__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":815 */
  __pyx_1 = (((struct __pyx_obj_7cgtypes_vec4iter *)__pyx_v_self)->idx == 0);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":816 */
    ((struct __pyx_obj_7cgtypes_vec4iter *)__pyx_v_self)->idx = 1;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":817 */
    __pyx_2 = PyObject_GetAttr(((struct __pyx_obj_7cgtypes_vec4iter *)__pyx_v_self)->v, __pyx_n_x); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 817; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_1 = (((struct __pyx_obj_7cgtypes_vec4iter *)__pyx_v_self)->idx == 1);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":819 */
    ((struct __pyx_obj_7cgtypes_vec4iter *)__pyx_v_self)->idx = 2;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":820 */
    __pyx_2 = PyObject_GetAttr(((struct __pyx_obj_7cgtypes_vec4iter *)__pyx_v_self)->v, __pyx_n_y); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 820; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_1 = (((struct __pyx_obj_7cgtypes_vec4iter *)__pyx_v_self)->idx == 2);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":822 */
    ((struct __pyx_obj_7cgtypes_vec4iter *)__pyx_v_self)->idx = 3;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":823 */
    __pyx_2 = PyObject_GetAttr(((struct __pyx_obj_7cgtypes_vec4iter *)__pyx_v_self)->v, __pyx_n_z); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 823; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_1 = (((struct __pyx_obj_7cgtypes_vec4iter *)__pyx_v_self)->idx == 3);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":825 */
    ((struct __pyx_obj_7cgtypes_vec4iter *)__pyx_v_self)->idx = 4;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":826 */
    __pyx_2 = PyObject_GetAttr(((struct __pyx_obj_7cgtypes_vec4iter *)__pyx_v_self)->v, __pyx_n_w); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 826; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":828 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_StopIteration); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 828; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 828; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.vec4iter.__next__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k48p;
static PyObject *__pyx_k49p;
static PyObject *__pyx_k50p;
static PyObject *__pyx_k51p;
static PyObject *__pyx_k52p;
static PyObject *__pyx_k53p;
static PyObject *__pyx_k54p;
static PyObject *__pyx_k55p;
static PyObject *__pyx_k56p;
static PyObject *__pyx_k57p;

static char (__pyx_k48[]) = ",";
static char (__pyx_k49[]) = " ";
static char (__pyx_k50[]) = "  ";
static char (__pyx_k51[]) = " ";
static char (__pyx_k52[]) = " ";
static char (__pyx_k53[]) = "";
static char (__pyx_k54[]) = "vec4() arg is a malformed string";
static char (__pyx_k55[]) = "vec4() arg can't be converted to vec4";
static char (__pyx_k56[]) = "vec4() takes at most 4 arguments";
static char (__pyx_k57[]) = "vec4() takes at most 4 arguments";

static int __pyx_f_7cgtypes_4vec4___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4vec4___new__[] = "Constructor.\n\n        There are several possibilities how to initialize a vector:\n\n        v = vec4()        -> v = <0,0,0,0>\n        v = vec4(a)       -> v = <a,a,a,a>\n        v = vec4(x,y)     -> v = <x,y,0,0>\n        v = vec4(x,y,z)   -> v = <x,y,z,0>\n        v = vec4(x,y,z,w) -> v = <x,y,z,w>\n\n        Note that specifying just one value sets all four components to\n        that value.\n\n        Additionally you can wrap those values in a list or a tuple or\n        specify them as a string:\n\n        v = vec4([1,2,3]) -> v = <1,2,3,0>\n        v = vec4(\"4,5\")   -> v = <4,5,0,0>        \n        ";
static int __pyx_f_7cgtypes_4vec4___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_args = 0;
  int __pyx_v_arglen;
  int __pyx_v_seqlen;
  struct __pyx_obj_7cgtypes_vec4 *__pyx_v_v;
  PyObject *__pyx_v_T;
  PyObject *__pyx_v_s;
  PyObject *__pyx_v_i;
  PyObject *__pyx_v_seq;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  PyObject *__pyx_6 = 0;
  static char *__pyx_argnames[] = {0};
  if (__Pyx_GetStarArgs(&__pyx_args, &__pyx_kwds, __pyx_argnames, 0, &__pyx_v_args, 0) < 0) return -1;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) {
    Py_XDECREF(__pyx_args);
    Py_XDECREF(__pyx_kwds);
    Py_XDECREF(__pyx_v_args);
    return -1;
  }
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_v) = Py_None; Py_INCREF(((PyObject*)__pyx_v_v));
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);
  __pyx_v_s = Py_None; Py_INCREF(__pyx_v_s);
  __pyx_v_i = Py_None; Py_INCREF(__pyx_v_i);
  __pyx_v_seq = Py_None; Py_INCREF(__pyx_v_seq);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":862 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 862; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 862; goto __pyx_L1;}
  Py_INCREF(__pyx_v_args);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_args);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 862; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_4 = PyInt_AsLong(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 862; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_v_arglen = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":864 */
  __pyx_4 = (__pyx_v_arglen == 0);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":865 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x = 0.0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":866 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y = 0.0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":867 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z = 0.0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":868 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w = 0.0;
    goto __pyx_L2;
  }
  __pyx_4 = (__pyx_v_arglen == 1);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":870 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 870; goto __pyx_L1;}
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 870; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 870; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 870; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 870; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_v_T);
    __pyx_v_T = __pyx_3;
    __pyx_3 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":872 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 872; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 872; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__pyx_4) {
      __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 872; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 872; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      if (!__pyx_4) {
        __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 872; goto __pyx_L1;}
        if (PyObject_Cmp(__pyx_v_T, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 872; goto __pyx_L1;}
        __pyx_4 = __pyx_4 == 0;
        Py_DECREF(__pyx_3); __pyx_3 = 0;
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":873 */
      __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 873; goto __pyx_L1;}
      __pyx_2 = PyObject_GetItem(__pyx_v_args, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 873; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 873; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":874 */
      ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y = ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":875 */
      ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z = ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":876 */
      ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w = ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x;
      goto __pyx_L3;
    }
    if (PyObject_Cmp(__pyx_v_T, ((PyObject*)__pyx_ptype_7cgtypes_vec4), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 878; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":879 */
      __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 879; goto __pyx_L1;}
      __pyx_1 = PyObject_GetItem(__pyx_v_args, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 879; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 879; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_v));
      ((PyObject *)__pyx_v_v) = __pyx_1;
      __pyx_1 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":880 */
      ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x = __pyx_v_v->x;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":881 */
      ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y = __pyx_v_v->y;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":882 */
      ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z = __pyx_v_v->z;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":883 */
      ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w = __pyx_v_v->w;
      goto __pyx_L3;
    }
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_str); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 885; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 885; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_unicode); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 885; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_T, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 885; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":886 */
      __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 886; goto __pyx_L1;}
      __pyx_2 = PyObject_GetItem(__pyx_v_args, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 886; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_replace); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 886; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 886; goto __pyx_L1;}
      Py_INCREF(__pyx_k48p);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k48p);
      Py_INCREF(__pyx_k49p);
      PyTuple_SET_ITEM(__pyx_1, 1, __pyx_k49p);
      __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 886; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_replace); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 886; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 886; goto __pyx_L1;}
      Py_INCREF(__pyx_k50p);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k50p);
      Py_INCREF(__pyx_k51p);
      PyTuple_SET_ITEM(__pyx_1, 1, __pyx_k51p);
      __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 886; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_strip); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 886; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 886; goto __pyx_L1;}
      __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 886; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_split); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 886; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 886; goto __pyx_L1;}
      Py_INCREF(__pyx_k52p);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k52p);
      __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 886; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_v_s);
      __pyx_v_s = __pyx_2;
      __pyx_2 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":887 */
      __pyx_3 = PyList_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 887; goto __pyx_L1;}
      Py_INCREF(__pyx_k53p);
      PyList_SET_ITEM(__pyx_3, 0, __pyx_k53p);
      if (PyObject_Cmp(__pyx_v_s, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 887; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":888 */
        __pyx_1 = PyList_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 888; goto __pyx_L1;}
        Py_DECREF(__pyx_v_s);
        __pyx_v_s = __pyx_1;
        __pyx_1 = 0;
        goto __pyx_L4;
      }
      __pyx_L4:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":889 */
      __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_range); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 889; goto __pyx_L1;}
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 889; goto __pyx_L1;}
      __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 889; goto __pyx_L1;}
      Py_INCREF(__pyx_v_s);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_s);
      __pyx_6 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 889; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 889; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_6);
      __pyx_6 = 0;
      __pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 889; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_6 = PyObject_GetIter(__pyx_1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 889; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      for (;;) {
        __pyx_L5:;
        __pyx_2 = PyIter_Next(__pyx_6);
        if (!__pyx_2) {
          if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 889; goto __pyx_L1;}
          break;
        }
        Py_DECREF(__pyx_v_i);
        __pyx_v_i = __pyx_2;
        __pyx_2 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":890 */
        /*try:*/ {

          /* "D:\Sources\Python\cgkit\cgtypes.pyx":891 */
          __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 891; goto __pyx_L7;}
          __pyx_1 = PyObject_GetItem(__pyx_v_s, __pyx_v_i); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 891; goto __pyx_L7;}
          __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 891; goto __pyx_L7;}
          PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
          __pyx_1 = 0;
          __pyx_1 = PyObject_CallObject(__pyx_3, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 891; goto __pyx_L7;}
          Py_DECREF(__pyx_3); __pyx_3 = 0;
          Py_DECREF(__pyx_2); __pyx_2 = 0;
          if (PyObject_SetItem(__pyx_v_s, __pyx_v_i, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 891; goto __pyx_L7;}
          Py_DECREF(__pyx_1); __pyx_1 = 0;
        }
        goto __pyx_L8;
        __pyx_L7:;
        Py_XDECREF(__pyx_3); __pyx_3 = 0;
        Py_XDECREF(__pyx_2); __pyx_2 = 0;
        Py_XDECREF(__pyx_1); __pyx_1 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":892 */
        /*except:*/ {
          __Pyx_AddTraceback("cgtypes.__new__");
          __pyx_3 = __Pyx_GetExcValue(); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 892; goto __pyx_L1;}
          Py_DECREF(__pyx_3); __pyx_3 = 0;

          /* "D:\Sources\Python\cgkit\cgtypes.pyx":893 */
          __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 893; goto __pyx_L1;}
          __Pyx_Raise(__pyx_2, __pyx_k54p, 0);
          Py_DECREF(__pyx_2); __pyx_2 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 893; goto __pyx_L1;}
          goto __pyx_L8;
        }
        __pyx_L8:;
      }
      __pyx_L6:;
      Py_DECREF(__pyx_6); __pyx_6 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":894 */
      __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 894; goto __pyx_L1;}
      Py_INCREF(__pyx_v_s);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_s);
      __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 894; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 894; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_v));
      ((PyObject *)__pyx_v_v) = __pyx_3;
      __pyx_3 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":895 */
      ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x = __pyx_v_v->x;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":896 */
      ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y = __pyx_v_v->y;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":897 */
      ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z = __pyx_v_v->z;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":898 */
      ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w = __pyx_v_v->w;
      goto __pyx_L3;
    }
    /*else*/ {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":901 */
      __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 901; goto __pyx_L1;}
      __pyx_6 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 901; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_v_seq);
      __pyx_v_seq = __pyx_6;
      __pyx_6 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":902 */
      /*try:*/ {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":903 */
        __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 903; goto __pyx_L9;}
        __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 903; goto __pyx_L9;}
        Py_INCREF(__pyx_v_seq);
        PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_seq);
        __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 903; goto __pyx_L9;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_4 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 903; goto __pyx_L9;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_v_seqlen = __pyx_4;
      }
      goto __pyx_L10;
      __pyx_L9:;
      Py_XDECREF(__pyx_6); __pyx_6 = 0;
      Py_XDECREF(__pyx_1); __pyx_1 = 0;
      Py_XDECREF(__pyx_3); __pyx_3 = 0;
      Py_XDECREF(__pyx_2); __pyx_2 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":904 */
      /*except:*/ {
        __Pyx_AddTraceback("cgtypes.__new__");
        __pyx_6 = __Pyx_GetExcValue(); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 904; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":905 */
        __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 905; goto __pyx_L1;}
        __Pyx_Raise(__pyx_1, __pyx_k55p, 0);
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 905; goto __pyx_L1;}
        goto __pyx_L10;
      }
      __pyx_L10:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":907 */
      __pyx_4 = (__pyx_v_seqlen == 4);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":908 */
        __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 908; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 908; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 908; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":909 */
        __pyx_6 = PyInt_FromLong(1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 909; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_seq, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 909; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 909; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":910 */
        __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 910; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 910; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 910; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":911 */
        __pyx_6 = PyInt_FromLong(3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 911; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_seq, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 911; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 911; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w = __pyx_5;
        goto __pyx_L11;
      }
      __pyx_4 = (__pyx_v_seqlen == 3);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":913 */
        __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 913; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 913; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 913; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":914 */
        __pyx_6 = PyInt_FromLong(1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 914; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_seq, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 914; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 914; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":915 */
        __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 915; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 915; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 915; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":916 */
        ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w = 0.0;
        goto __pyx_L11;
      }
      __pyx_4 = (__pyx_v_seqlen == 2);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":918 */
        __pyx_6 = PyInt_FromLong(0); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 918; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_seq, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 918; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 918; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":919 */
        __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 919; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 919; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 919; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":920 */
        ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z = 0.0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":921 */
        ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w = 0.0;
        goto __pyx_L11;
      }
      __pyx_4 = (__pyx_v_seqlen == 1);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":923 */
        __pyx_6 = PyInt_FromLong(0); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 923; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_seq, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 923; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 923; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":924 */
        ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y = ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":925 */
        ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z = ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":926 */
        ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w = ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x;
        goto __pyx_L11;
      }
      __pyx_4 = (__pyx_v_seqlen == 0);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":928 */
        ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x = 0.0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":929 */
        ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y = 0.0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":930 */
        ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z = 0.0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":931 */
        ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w = 0.0;
        goto __pyx_L11;
      }
      /*else*/ {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":933 */
        __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 933; goto __pyx_L1;}
        __Pyx_Raise(__pyx_3, __pyx_k56p, 0);
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 933; goto __pyx_L1;}
      }
      __pyx_L11:;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_4 = (__pyx_v_arglen == 2);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":936 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 936; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 936; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 936; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":937 */
    __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 937; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_args, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 937; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 937; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":938 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z = 0.0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":939 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w = 0.0;
    goto __pyx_L2;
  }
  __pyx_4 = (__pyx_v_arglen == 3);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":942 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 942; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 942; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 942; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":943 */
    __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 943; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_args, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 943; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 943; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":944 */
    __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 944; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 944; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 944; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":945 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w = 0.0;
    goto __pyx_L2;
  }
  __pyx_4 = (__pyx_v_arglen == 4);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":948 */
    __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 948; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_args, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 948; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 948; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":949 */
    __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 949; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 949; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 949; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":950 */
    __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 950; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_args, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 950; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 950; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":951 */
    __pyx_2 = PyInt_FromLong(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 951; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 951; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 951; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w = __pyx_5;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":954 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 954; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k57p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 954; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("cgtypes.vec4.__new__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_XDECREF(__pyx_v_args);
  Py_DECREF(__pyx_v_v);
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_s);
  Py_DECREF(__pyx_v_i);
  Py_DECREF(__pyx_v_seq);
  Py_DECREF(__pyx_v_self);
  Py_XDECREF(__pyx_args);
  Py_XDECREF(__pyx_kwds);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec4___reduce__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7cgtypes_4vec4___reduce__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":957 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__vec4construct); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 957; goto __pyx_L1;}
  __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 957; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 957; goto __pyx_L1;}
  __pyx_4 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 957; goto __pyx_L1;}
  __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 957; goto __pyx_L1;}
  __pyx_6 = PyTuple_New(4); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 957; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
  PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
  PyTuple_SET_ITEM(__pyx_6, 2, __pyx_4);
  PyTuple_SET_ITEM(__pyx_6, 3, __pyx_5);
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_5 = 0;
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 957; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_6);
  __pyx_1 = 0;
  __pyx_6 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("cgtypes.vec4.__reduce__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k58p;

static char (__pyx_k58[]) = "vec4(%s, %s, %s, %s)";

static PyObject *__pyx_f_7cgtypes_4vec4___repr__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_4vec4___repr__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":960 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
  __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
  __pyx_4 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_4);
  __pyx_4 = 0;
  __pyx_4 = PyObject_CallObject(__pyx_1, __pyx_5); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
  __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
  __pyx_6 = PyTuple_New(1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_6, 0, __pyx_5);
  __pyx_5 = 0;
  __pyx_5 = PyObject_CallObject(__pyx_1, __pyx_6); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  __pyx_1 = PyTuple_New(4); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_3);
  PyTuple_SET_ITEM(__pyx_1, 2, __pyx_4);
  PyTuple_SET_ITEM(__pyx_1, 3, __pyx_5);
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_5 = 0;
  __pyx_6 = PyNumber_Remainder(__pyx_k58p, __pyx_1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 960; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_6;
  __pyx_6 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("cgtypes.vec4.__repr__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k59p;

static char (__pyx_k59[]) = "(%1.4f, %1.4f, %1.4f, %1.4f)";

static PyObject *__pyx_f_7cgtypes_4vec4___str__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_4vec4___str__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":963 */
  __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 963; goto __pyx_L1;}
  __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 963; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 963; goto __pyx_L1;}
  __pyx_4 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 963; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(4); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 963; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_1);
  PyTuple_SET_ITEM(__pyx_5, 1, __pyx_2);
  PyTuple_SET_ITEM(__pyx_5, 2, __pyx_3);
  PyTuple_SET_ITEM(__pyx_5, 3, __pyx_4);
  __pyx_1 = 0;
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_1 = PyNumber_Remainder(__pyx_k59p, __pyx_5); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 963; goto __pyx_L1;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("cgtypes.vec4.__str__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec4___iter__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_4vec4___iter__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":966 */
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 966; goto __pyx_L1;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_self);
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4iter), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 966; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.vec4.__iter__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k60p;

static char (__pyx_k60[]) = "internal error: illegal rich comparison number";

static PyObject *__pyx_f_7cgtypes_4vec4___richcmp__(PyObject *__pyx_v_a, PyObject *__pyx_v_b, int __pyx_arg_op); /*proto*/
static PyObject *__pyx_f_7cgtypes_4vec4___richcmp__(PyObject *__pyx_v_a, PyObject *__pyx_v_b, int __pyx_arg_op) {
  PyObject *__pyx_v_op = 0;
  struct __pyx_obj_7cgtypes_vec4 *__pyx_v_va;
  struct __pyx_obj_7cgtypes_vec4 *__pyx_v_vb;
  int __pyx_v_cop;
  PyObject *__pyx_v_ta;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  __pyx_v_op = PyInt_FromLong(__pyx_arg_op); if (!__pyx_v_op) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 968; goto __pyx_L1;}
  ((PyObject*)__pyx_v_va) = Py_None; Py_INCREF(((PyObject*)__pyx_v_va));
  ((PyObject*)__pyx_v_vb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_vb));
  __pyx_v_ta = Py_None; Py_INCREF(__pyx_v_ta);
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":972 */
  __pyx_1 = PyInt_AsLong(__pyx_v_op); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 972; goto __pyx_L1;}
  __pyx_v_cop = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":974 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 974; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 974; goto __pyx_L1;}
  Py_INCREF(__pyx_v_a);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_a);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 974; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_ta);
  __pyx_v_ta = __pyx_4;
  __pyx_4 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":975 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 975; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 975; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_b);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 975; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_4;
  __pyx_4 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":976 */
  if (PyObject_Cmp(__pyx_v_ta, ((PyObject*)__pyx_ptype_7cgtypes_vec4), &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 976; goto __pyx_L1;}
  __pyx_1 = __pyx_1 != 0;
  if (!__pyx_1) {
    if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_vec4), &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 976; goto __pyx_L1;}
    __pyx_1 = __pyx_1 != 0;
  }
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":977 */
    __pyx_1 = (__pyx_v_cop == 3);
    if (__pyx_1) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":978 */
      __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 978; goto __pyx_L1;}
      __pyx_r = __pyx_2;
      __pyx_2 = 0;
      goto __pyx_L0;
      goto __pyx_L3;
    }
    /*else*/ {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":980 */
      __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 980; goto __pyx_L1;}
      __pyx_r = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L0;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":982 */
  if (!__Pyx_TypeTest(__pyx_v_a, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 982; goto __pyx_L1;}
  Py_INCREF(__pyx_v_a);
  Py_DECREF(((PyObject *)__pyx_v_va));
  ((PyObject *)__pyx_v_va) = __pyx_v_a;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":983 */
  if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 983; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  Py_DECREF(((PyObject *)__pyx_v_vb));
  ((PyObject *)__pyx_v_vb) = __pyx_v_b;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":986 */
  __pyx_1 = (__pyx_v_cop == 0);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":987 */
    __pyx_1 = (__pyx_v_va->x < __pyx_v_vb->x);
    if (__pyx_1) {
      __pyx_1 = (__pyx_v_va->y < __pyx_v_vb->y);
      if (__pyx_1) {
        __pyx_1 = (__pyx_v_va->z < __pyx_v_vb->z);
        if (__pyx_1) {
          __pyx_1 = (__pyx_v_va->w < __pyx_v_vb->w);
        }
      }
    }
    __pyx_4 = PyInt_FromLong(__pyx_1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 987; goto __pyx_L1;}
    __pyx_r = __pyx_4;
    __pyx_4 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 1);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":990 */
    __pyx_1 = ((__pyx_v_va->x - __pyx_v_7cgtypes_eps) <= __pyx_v_vb->x);
    if (__pyx_1) {
      __pyx_1 = ((__pyx_v_va->y - __pyx_v_7cgtypes_eps) <= __pyx_v_vb->y);
      if (__pyx_1) {
        __pyx_1 = ((__pyx_v_va->z - __pyx_v_7cgtypes_eps) <= __pyx_v_vb->z);
        if (__pyx_1) {
          __pyx_1 = ((__pyx_v_va->w - __pyx_v_7cgtypes_eps) <= __pyx_v_vb->w);
        }
      }
    }
    __pyx_2 = PyInt_FromLong(__pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 990; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 2);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":993 */
    __pyx_1 = (fabs((__pyx_v_va->x - __pyx_v_vb->x)) <= __pyx_v_7cgtypes_eps);
    if (__pyx_1) {
      __pyx_1 = (fabs((__pyx_v_va->y - __pyx_v_vb->y)) <= __pyx_v_7cgtypes_eps);
      if (__pyx_1) {
        __pyx_1 = (fabs((__pyx_v_va->z - __pyx_v_vb->z)) <= __pyx_v_7cgtypes_eps);
        if (__pyx_1) {
          __pyx_1 = (fabs((__pyx_v_va->w - __pyx_v_vb->w)) <= __pyx_v_7cgtypes_eps);
        }
      }
    }
    __pyx_3 = PyInt_FromLong(__pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 993; goto __pyx_L1;}
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 3);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":996 */
    __pyx_1 = (fabs((__pyx_v_va->x - __pyx_v_vb->x)) > __pyx_v_7cgtypes_eps);
    if (!__pyx_1) {
      __pyx_1 = (fabs((__pyx_v_va->y - __pyx_v_vb->y)) > __pyx_v_7cgtypes_eps);
      if (__pyx_1) {
        __pyx_1 = (fabs((__pyx_v_va->z - __pyx_v_vb->z)) > __pyx_v_7cgtypes_eps);
        if (__pyx_1) {
          __pyx_1 = (fabs((__pyx_v_va->w - __pyx_v_vb->w)) > __pyx_v_7cgtypes_eps);
        }
      }
    }
    __pyx_4 = PyInt_FromLong(__pyx_1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 996; goto __pyx_L1;}
    __pyx_r = __pyx_4;
    __pyx_4 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 4);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":999 */
    __pyx_1 = (__pyx_v_va->x > __pyx_v_vb->x);
    if (__pyx_1) {
      __pyx_1 = (__pyx_v_va->y > __pyx_v_vb->y);
      if (__pyx_1) {
        __pyx_1 = (__pyx_v_va->z > __pyx_v_vb->z);
        if (__pyx_1) {
          __pyx_1 = (__pyx_v_va->w > __pyx_v_vb->w);
        }
      }
    }
    __pyx_2 = PyInt_FromLong(__pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 999; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 5);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1002 */
    __pyx_1 = ((__pyx_v_va->x + __pyx_v_7cgtypes_eps) >= __pyx_v_vb->x);
    if (__pyx_1) {
      __pyx_1 = ((__pyx_v_va->y + __pyx_v_7cgtypes_eps) >= __pyx_v_vb->y);
      if (__pyx_1) {
        __pyx_1 = ((__pyx_v_va->z + __pyx_v_7cgtypes_eps) >= __pyx_v_vb->z);
        if (__pyx_1) {
          __pyx_1 = ((__pyx_v_va->w + __pyx_v_7cgtypes_eps) >= __pyx_v_vb->w);
        }
      }
    }
    __pyx_3 = PyInt_FromLong(__pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1002; goto __pyx_L1;}
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1005 */
    __pyx_4 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1005; goto __pyx_L1;}
    __Pyx_Raise(__pyx_4, __pyx_k60p, 0);
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1005; goto __pyx_L1;}
  }
  __pyx_L4:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("cgtypes.vec4.__richcmp__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_op);
  Py_DECREF(__pyx_v_va);
  Py_DECREF(__pyx_v_vb);
  Py_DECREF(__pyx_v_ta);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec4___add__(PyObject *__pyx_v_a, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4vec4___add__[] = "Vector addition.\n\n        >>> a=vec4(1.0, 0.5, -1.8, 0.2)\n        >>> b=vec4(-0.3, 0.75, 0.5, 0.3)\n        >>> print a+b\n        (0.7000, 1.2500, -1.3000, 0.5000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec4___add__(PyObject *__pyx_v_a, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_vec4 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_a), __pyx_ptype_7cgtypes_vec4, 1, "a")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1007; goto __pyx_L1;}
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_b), __pyx_ptype_7cgtypes_vec4, 1, "b")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1007; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1016 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1016; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1016; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1016; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1017 */
  __pyx_v_res->x = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_a)->x + ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_b)->x);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1018 */
  __pyx_v_res->y = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_a)->y + ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_b)->y);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1019 */
  __pyx_v_res->z = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_a)->z + ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_b)->z);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1020 */
  __pyx_v_res->w = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_a)->w + ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_b)->w);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1021 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.vec4.__add__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec4___sub__(PyObject *__pyx_v_a, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4vec4___sub__[] = "Vector subtraction.\n\n        >>> a=vec4(1.0, 0.5, -1.8, 0.2)\n        >>> b=vec4(-0.3, 0.75, 0.5, 0.3)\n        >>> print a-b\n        (1.3000, -0.2500, -2.3000, -0.1000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec4___sub__(PyObject *__pyx_v_a, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_vec4 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_a), __pyx_ptype_7cgtypes_vec4, 1, "a")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1023; goto __pyx_L1;}
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_b), __pyx_ptype_7cgtypes_vec4, 1, "b")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1023; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1032 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1032; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1032; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1032; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1033 */
  __pyx_v_res->x = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_a)->x - ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_b)->x);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1034 */
  __pyx_v_res->y = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_a)->y - ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_b)->y);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1035 */
  __pyx_v_res->z = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_a)->z - ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_b)->z);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1036 */
  __pyx_v_res->w = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_a)->w - ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_b)->w);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1037 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.vec4.__sub__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_k61p;

static char (__pyx_k61[]) = "unsupported operand type for *";

static PyObject *__pyx_f_7cgtypes_4vec4___mul__(PyObject *__pyx_v_a, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4vec4___mul__[] = "Multiplication with a scalar or dot product.\n\n        >>> a=vec4(1.0, 0.5, -1.8, 0.2)\n        >>> b=vec4(-0.3, 0.75, 0.5, 0.3)\n        >>> print a*2.0\n        (2.0000, 1.0000, -3.6000, 0.4000)\n        >>> print 2.0*a\n        (2.0000, 1.0000, -3.6000, 0.4000)\n        >>> print a*b\n        -0.765\n        ";
static PyObject *__pyx_f_7cgtypes_4vec4___mul__(PyObject *__pyx_v_a, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_vec4 *__pyx_v_res;
  struct __pyx_obj_7cgtypes_vec4 *__pyx_v_va;
  struct __pyx_obj_7cgtypes_vec4 *__pyx_v_vb;
  double __pyx_v_r;
  PyObject *__pyx_v_ta;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  ((PyObject*)__pyx_v_va) = Py_None; Py_INCREF(((PyObject*)__pyx_v_va));
  ((PyObject*)__pyx_v_vb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_vb));
  __pyx_v_ta = Py_None; Py_INCREF(__pyx_v_ta);
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1055 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1055; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1055; goto __pyx_L1;}
  Py_INCREF(__pyx_v_a);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_a);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1055; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_ta);
  __pyx_v_ta = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1056 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1056; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1056; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_b);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1056; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1058 */
  if (PyObject_Cmp(__pyx_v_ta, ((PyObject*)__pyx_ptype_7cgtypes_vec4), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1058; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1059 */
    if (!__Pyx_TypeTest(__pyx_v_a, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1059; goto __pyx_L1;}
    Py_INCREF(__pyx_v_a);
    Py_DECREF(((PyObject *)__pyx_v_va));
    ((PyObject *)__pyx_v_va) = __pyx_v_a;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1060 */
    if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_vec4), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1060; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1062 */
      if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1062; goto __pyx_L1;}
      Py_INCREF(__pyx_v_b);
      Py_DECREF(((PyObject *)__pyx_v_vb));
      ((PyObject *)__pyx_v_vb) = __pyx_v_b;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1063 */
      __pyx_1 = PyFloat_FromDouble(((((__pyx_v_va->x * __pyx_v_vb->x) + (__pyx_v_va->y * __pyx_v_vb->y)) + (__pyx_v_va->z * __pyx_v_vb->z)) + (__pyx_v_va->w * __pyx_v_vb->w))); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1063; goto __pyx_L1;}
      __pyx_r = __pyx_1;
      __pyx_1 = 0;
      goto __pyx_L0;
      goto __pyx_L3;
    }
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1064; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1064; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1064; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1064; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (!__pyx_4) {
        __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1064; goto __pyx_L1;}
        if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1064; goto __pyx_L1;}
        __pyx_4 = __pyx_4 == 0;
        Py_DECREF(__pyx_1); __pyx_1 = 0;
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1066 */
      __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1066; goto __pyx_L1;}
      __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1066; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1066; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_res));
      ((PyObject *)__pyx_v_res) = __pyx_3;
      __pyx_3 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1067 */
      __pyx_5 = PyFloat_AsDouble(__pyx_v_b); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1067; goto __pyx_L1;}
      __pyx_v_r = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1068 */
      __pyx_v_res->x = (__pyx_v_va->x * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1069 */
      __pyx_v_res->y = (__pyx_v_va->y * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1070 */
      __pyx_v_res->z = (__pyx_v_va->z * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1071 */
      __pyx_v_res->w = (__pyx_v_va->w * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1072 */
      Py_INCREF(((PyObject *)__pyx_v_res));
      __pyx_r = ((PyObject *)__pyx_v_res);
      goto __pyx_L0;
      goto __pyx_L3;
    }
    if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_mat4), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1073; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1075 */
      __pyx_1 = PyObject_GetAttr(__pyx_v_b, __pyx_n___rmul__); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1075; goto __pyx_L1;}
      __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1075; goto __pyx_L1;}
      Py_INCREF(__pyx_v_a);
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_a);
      __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1075; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_r = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L0;
      goto __pyx_L3;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1076; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_ta, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1076; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1076; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_ta, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1076; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1076; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_ta, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1076; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1077 */
    if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_vec4), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1077; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1079 */
      __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1079; goto __pyx_L1;}
      __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1079; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1079; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_res));
      ((PyObject *)__pyx_v_res) = __pyx_2;
      __pyx_2 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1080 */
      if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1080; goto __pyx_L1;}
      Py_INCREF(__pyx_v_b);
      Py_DECREF(((PyObject *)__pyx_v_vb));
      ((PyObject *)__pyx_v_vb) = __pyx_v_b;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1081 */
      __pyx_5 = PyFloat_AsDouble(__pyx_v_a); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1081; goto __pyx_L1;}
      __pyx_v_r = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1082 */
      __pyx_v_res->x = (__pyx_v_r * __pyx_v_vb->x);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1083 */
      __pyx_v_res->y = (__pyx_v_r * __pyx_v_vb->y);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1084 */
      __pyx_v_res->z = (__pyx_v_r * __pyx_v_vb->z);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1085 */
      __pyx_v_res->w = (__pyx_v_r * __pyx_v_vb->w);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1086 */
      Py_INCREF(((PyObject *)__pyx_v_res));
      __pyx_r = ((PyObject *)__pyx_v_res);
      goto __pyx_L0;
      goto __pyx_L4;
    }
    __pyx_L4:;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1088 */
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1088; goto __pyx_L1;}
  __Pyx_Raise(__pyx_3, __pyx_k61p, 0);
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1088; goto __pyx_L1;}

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.vec4.__mul__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_va);
  Py_DECREF(__pyx_v_vb);
  Py_DECREF(__pyx_v_ta);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_k62p;
static PyObject *__pyx_k63p;

static char (__pyx_k62[]) = "vec4 division";
static char (__pyx_k63[]) = "unsupported operand type for /";

static PyObject *__pyx_f_7cgtypes_4vec4___div__(PyObject *__pyx_v_a, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4vec4___div__[] = "Division by scalar.\n\n        >>> a=vec4(1.0, 0.5, -1.8, 0.2)\n        >>> print a/2.0\n        (0.5000, 0.2500, -0.9000, 0.1000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec4___div__(PyObject *__pyx_v_a, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_vec4 *__pyx_v_res;
  double __pyx_v_r;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_a), __pyx_ptype_7cgtypes_vec4, 1, "a")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1090; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1101 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1101; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1101; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_b);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1101; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1103 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1103; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1103; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1103; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1103; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1103; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1103; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1105 */
    __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1105; goto __pyx_L1;}
    __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1105; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1105; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_res));
    ((PyObject *)__pyx_v_res) = __pyx_2;
    __pyx_2 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1106 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_b); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1106; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1107 */
    __pyx_4 = (fabs(__pyx_v_r) <= __pyx_v_7cgtypes_eps);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1108 */
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1108; goto __pyx_L1;}
      __Pyx_Raise(__pyx_3, __pyx_k62p, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1108; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1109 */
    __pyx_v_res->x = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_a)->x / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1110 */
    __pyx_v_res->y = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_a)->y / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1111 */
    __pyx_v_res->z = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_a)->z / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1112 */
    __pyx_v_res->w = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_a)->w / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1113 */
    Py_INCREF(((PyObject *)__pyx_v_res));
    __pyx_r = ((PyObject *)__pyx_v_res);
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1115 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1115; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k63p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1115; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.vec4.__div__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_k64p;
static PyObject *__pyx_k65p;
static PyObject *__pyx_k66p;

static char (__pyx_k64[]) = "vec4 modulo";
static char (__pyx_k65[]) = "vec4 modulo";
static char (__pyx_k66[]) = "unsupported operand type for %";

static PyObject *__pyx_f_7cgtypes_4vec4___mod__(PyObject *__pyx_v_self, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4vec4___mod__[] = "Modulo (component wise)\n\n        >>> a=vec4(3.0, 2.5, -1.8, 0.2)\n        >>> print a%2.0\n        (1.0000, 0.5000, 0.2000, 0.2000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec4___mod__(PyObject *__pyx_v_self, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_vec4 *__pyx_v_res;
  struct __pyx_obj_7cgtypes_vec4 *__pyx_v_vb;
  double __pyx_v_r;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  ((PyObject*)__pyx_v_vb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_vb));
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_self), __pyx_ptype_7cgtypes_vec4, 1, "self")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1117; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1127 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1127; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1127; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_b);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1127; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1129 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1129; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1129; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1129; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1129; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1129; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1129; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1131 */
    __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1131; goto __pyx_L1;}
    __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1131; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1131; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_res));
    ((PyObject *)__pyx_v_res) = __pyx_2;
    __pyx_2 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1132 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_b); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1132; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1133 */
    __pyx_4 = (fabs(__pyx_v_r) <= __pyx_v_7cgtypes_eps);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1134 */
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1134; goto __pyx_L1;}
      __Pyx_Raise(__pyx_3, __pyx_k64p, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1134; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1135 */
    __pyx_v_res->x = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1136 */
    __pyx_v_res->y = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1137 */
    __pyx_v_res->z = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1138 */
    __pyx_v_res->w = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1139 */
    Py_INCREF(((PyObject *)__pyx_v_res));
    __pyx_r = ((PyObject *)__pyx_v_res);
    goto __pyx_L0;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_vec4), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1140; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1142 */
    __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1142; goto __pyx_L1;}
    __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1142; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1142; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_res));
    ((PyObject *)__pyx_v_res) = __pyx_2;
    __pyx_2 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1143 */
    if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1143; goto __pyx_L1;}
    Py_INCREF(__pyx_v_b);
    Py_DECREF(((PyObject *)__pyx_v_vb));
    ((PyObject *)__pyx_v_vb) = __pyx_v_b;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1144 */
    __pyx_4 = (fabs(__pyx_v_vb->x) <= __pyx_v_7cgtypes_eps);
    if (!__pyx_4) {
      __pyx_4 = (fabs(__pyx_v_vb->y) <= __pyx_v_7cgtypes_eps);
      if (!__pyx_4) {
        __pyx_4 = (fabs(__pyx_v_vb->z) <= __pyx_v_7cgtypes_eps);
        if (!__pyx_4) {
          __pyx_4 = (fabs(__pyx_v_vb->w) <= __pyx_v_7cgtypes_eps);
        }
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1146 */
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1146; goto __pyx_L1;}
      __Pyx_Raise(__pyx_3, __pyx_k65p, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1146; goto __pyx_L1;}
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1147 */
    __pyx_v_res->x = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x,__pyx_v_vb->x);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1148 */
    __pyx_v_res->y = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y,__pyx_v_vb->y);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1149 */
    __pyx_v_res->z = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z,__pyx_v_vb->z);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1150 */
    __pyx_v_res->w = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w,__pyx_v_vb->w);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1151 */
    Py_INCREF(((PyObject *)__pyx_v_res));
    __pyx_r = ((PyObject *)__pyx_v_res);
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1153 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1153; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k66p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1153; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.vec4.__mod__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_vb);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec4___neg__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_7cgtypes_4vec4___neg__[] = "Negation.\n\n        >>> a=vec4(3.0, 2.5, -1.8, 0.2)\n        >>> print -a\n        (-3.0000, -2.5000, 1.8000, -0.2000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec4___neg__(PyObject *__pyx_v_self) {
  struct __pyx_obj_7cgtypes_vec4 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1163 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1163; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1163; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1163; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1164 */
  __pyx_v_res->x = (-((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1165 */
  __pyx_v_res->y = (-((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1166 */
  __pyx_v_res->z = (-((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1167 */
  __pyx_v_res->w = (-((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1168 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.vec4.__neg__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec4___pos__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_7cgtypes_4vec4___pos__[] = "\n        >>> a=vec4(3.0, 2.5, -1.8, 0.2)\n        >>> print +a\n        (3.0000, 2.5000, -1.8000, 0.2000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec4___pos__(PyObject *__pyx_v_self) {
  struct __pyx_obj_7cgtypes_vec4 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1177 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1177; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1177; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1177; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1178 */
  __pyx_v_res->x = ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1179 */
  __pyx_v_res->y = ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1180 */
  __pyx_v_res->z = ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1181 */
  __pyx_v_res->w = ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1182 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.vec4.__pos__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec4___iadd__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4vec4___iadd__[] = "Inline vector addition.\n\n        >>> a=vec4(1.0, 0.5, -1.8, 0.2)\n        >>> b=vec4(-0.3, 0.75, 0.5, 0.3)\n        >>> a+=b\n        >>> print a\n        (0.7000, 1.2500, -1.3000, 0.5000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec4___iadd__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  PyObject *__pyx_r;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_other), __pyx_ptype_7cgtypes_vec4, 1, "other")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1184; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1193 */
  ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x + ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_other)->x);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1194 */
  ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y + ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_other)->y);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1195 */
  ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z + ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_other)->z);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1196 */
  ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w + ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_other)->w);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1197 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.vec4.__iadd__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec4___isub__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4vec4___isub__[] = "Inline vector subtraction.\n\n        >>> a=vec4(1.0, 0.5, -1.8, 0.2)\n        >>> b=vec4(-0.3, 0.75, 0.5, 0.3)\n        >>> a-=b\n        >>> print a\n        (1.3000, -0.2500, -2.3000, -0.1000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec4___isub__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  PyObject *__pyx_r;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_other), __pyx_ptype_7cgtypes_vec4, 1, "other")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1199; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1208 */
  ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x - ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_other)->x);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1209 */
  ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y - ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_other)->y);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1210 */
  ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z - ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_other)->z);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1211 */
  ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w - ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_other)->w);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1212 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.vec4.__isub__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_k67p;

static char (__pyx_k67[]) = "unsupported operand type for *=";

static PyObject *__pyx_f_7cgtypes_4vec4___imul__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4vec4___imul__[] = "Inline multiplication (only with scalar)\n\n        >>> a=vec4(1.0, 0.5, -1.8, 0.2)\n        >>> a*=2.0\n        >>> print a\n        (2.0000, 1.0000, -3.6000, 0.4000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec4___imul__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  double __pyx_v_r;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1223 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1223; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1223; goto __pyx_L1;}
  Py_INCREF(__pyx_v_other);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_other);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1223; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1224 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1224; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1224; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1224; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1224; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1224; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1224; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1225 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_other); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1225; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1226 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1227 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1228 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1229 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1230 */
    Py_INCREF(__pyx_v_self);
    __pyx_r = __pyx_v_self;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1232 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1232; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k67p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1232; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.vec4.__imul__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_k68p;
static PyObject *__pyx_k69p;

static char (__pyx_k68[]) = "vec4 division";
static char (__pyx_k69[]) = "unsupported operand type for /=";

static PyObject *__pyx_f_7cgtypes_4vec4___idiv__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4vec4___idiv__[] = "Inline division with scalar\n\n        >>> a=vec4(1.0, 0.5, -1.8, 0.2)\n        >>> a/=2.0\n        >>> print a\n        (0.5000, 0.2500, -0.9000, 0.1000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec4___idiv__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  double __pyx_v_r;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1243 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1243; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1243; goto __pyx_L1;}
  Py_INCREF(__pyx_v_other);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_other);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1243; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1244 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1244; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1244; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1244; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1244; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1244; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1244; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1245 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_other); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1245; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1246 */
    __pyx_4 = (fabs(__pyx_v_r) <= __pyx_v_7cgtypes_eps);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1247 */
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1247; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_k68p, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1247; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1248 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1249 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1250 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1251 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1252 */
    Py_INCREF(__pyx_v_self);
    __pyx_r = __pyx_v_self;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1254 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1254; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k69p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1254; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.vec4.__idiv__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_k70p;
static PyObject *__pyx_k71p;
static PyObject *__pyx_k72p;

static char (__pyx_k70[]) = "vec4 modulo";
static char (__pyx_k71[]) = "vec4 modulo";
static char (__pyx_k72[]) = "unsupported operand type for %=";

static PyObject *__pyx_f_7cgtypes_4vec4___imod__(PyObject *__pyx_v_self, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4vec4___imod__[] = "Inline modulo.\n\n        >>> a=vec4(3.0, 2.5, -1.8, 0.2)\n        >>> a%=2.0\n        >>> print a\n        (1.0000, 0.5000, 0.2000, 0.2000)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec4___imod__(PyObject *__pyx_v_self, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_vec4 *__pyx_v_vb;
  double __pyx_v_r;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_vb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_vb));
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1267 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1267; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1267; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_b);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1267; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1269 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1269; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1269; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1269; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1269; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1269; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1269; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1271 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_b); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1271; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1272 */
    __pyx_4 = (fabs(__pyx_v_r) <= __pyx_v_7cgtypes_eps);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1273 */
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1273; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_k70p, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1273; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1274 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1275 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1276 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1277 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1278 */
    Py_INCREF(__pyx_v_self);
    __pyx_r = __pyx_v_self;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_vec4), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1279; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1281 */
    if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1281; goto __pyx_L1;}
    Py_INCREF(__pyx_v_b);
    Py_DECREF(((PyObject *)__pyx_v_vb));
    ((PyObject *)__pyx_v_vb) = __pyx_v_b;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1282 */
    __pyx_4 = (fabs(__pyx_v_vb->x) <= __pyx_v_7cgtypes_eps);
    if (!__pyx_4) {
      __pyx_4 = (fabs(__pyx_v_vb->y) <= __pyx_v_7cgtypes_eps);
      if (!__pyx_4) {
        __pyx_4 = (fabs(__pyx_v_vb->z) <= __pyx_v_7cgtypes_eps);
        if (!__pyx_4) {
          __pyx_4 = (fabs(__pyx_v_vb->w) <= __pyx_v_7cgtypes_eps);
        }
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1284 */
      __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1284; goto __pyx_L1;}
      __Pyx_Raise(__pyx_2, __pyx_k71p, 0);
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1284; goto __pyx_L1;}
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1285 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x,__pyx_v_vb->x);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1286 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y,__pyx_v_vb->y);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1287 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z,__pyx_v_vb->z);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1288 */
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w,__pyx_v_vb->w);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1289 */
    Py_INCREF(__pyx_v_self);
    __pyx_r = __pyx_v_self;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1291 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1291; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k72p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1291; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.vec4.__imod__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_vb);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec4___abs__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_7cgtypes_4vec4___abs__[] = "Return the length of the vector.\n\n        abs(v) is equivalent to v.length().\n\n        >>> a=vec4(1.0, 0.5, -1.8, 0.2)\n        >>> print abs(a)\n        2.12837966538\n        ";
static PyObject *__pyx_f_7cgtypes_4vec4___abs__(PyObject *__pyx_v_self) {
  double __pyx_v_a;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1304 */
  __pyx_v_a = ((((((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x * ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x) + (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y * ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y)) + (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z * ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z)) + (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w * ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1305 */
  __pyx_1 = PyFloat_FromDouble(sqrt(__pyx_v_a)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1305; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("cgtypes.vec4.__abs__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_t;

static PyObject *__pyx_k78p;
static PyObject *__pyx_k79p;

static char (__pyx_k78[]) = "vec4 has no attribute '";
static char (__pyx_k79[]) = "\'";

static PyObject *__pyx_f_7cgtypes_4vec4___getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
static PyObject *__pyx_f_7cgtypes_4vec4___getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_name);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1308 */
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_x, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1308; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1309 */
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1309; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_y, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1310; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1311 */
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1311; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_z, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1312; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1313 */
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1313; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_w, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1314; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (!__pyx_1) {
    if (PyObject_Cmp(__pyx_v_name, __pyx_n_t, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1314; goto __pyx_L1;}
    __pyx_1 = __pyx_1 == 0;
  }
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1315 */
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1315; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1317 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_AttributeError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1317; goto __pyx_L1;}
    __pyx_3 = PyNumber_Add(__pyx_k78p, __pyx_v_name); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1317; goto __pyx_L1;}
    __pyx_4 = PyNumber_Add(__pyx_3, __pyx_k79p); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1317; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, __pyx_4, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1317; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("cgtypes.vec4.__getattr__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_name);
  return __pyx_r;
}

static PyObject *__pyx_k85p;
static PyObject *__pyx_k86p;

static char (__pyx_k85[]) = "vec4 has no writable attribute '";
static char (__pyx_k86[]) = "\'";

static int __pyx_f_7cgtypes_4vec4___setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_val); /*proto*/
static int __pyx_f_7cgtypes_4vec4___setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_val) {
  int __pyx_r;
  int __pyx_1;
  double __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_name);
  Py_INCREF(__pyx_v_val);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1320 */
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_x, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1320; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1321 */
    __pyx_2 = PyFloat_AsDouble(__pyx_v_val); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1321; goto __pyx_L1;}
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x = __pyx_2;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_y, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1322; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1323 */
    __pyx_2 = PyFloat_AsDouble(__pyx_v_val); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1323; goto __pyx_L1;}
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y = __pyx_2;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_z, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1324; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1325 */
    __pyx_2 = PyFloat_AsDouble(__pyx_v_val); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1325; goto __pyx_L1;}
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z = __pyx_2;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_w, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1326; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (!__pyx_1) {
    if (PyObject_Cmp(__pyx_v_name, __pyx_n_t, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1326; goto __pyx_L1;}
    __pyx_1 = __pyx_1 == 0;
  }
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1327 */
    __pyx_2 = PyFloat_AsDouble(__pyx_v_val); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1327; goto __pyx_L1;}
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w = __pyx_2;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1329 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_AttributeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1329; goto __pyx_L1;}
    __pyx_4 = PyNumber_Add(__pyx_k85p, __pyx_v_name); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1329; goto __pyx_L1;}
    __pyx_5 = PyNumber_Add(__pyx_4, __pyx_k86p); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1329; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_3, __pyx_5, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1329; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("cgtypes.vec4.__setattr__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_val);
  return __pyx_r;
}

static int __pyx_f_7cgtypes_4vec4___len__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_7cgtypes_4vec4___len__[] = "Length of the sequence (always 4).";
static int __pyx_f_7cgtypes_4vec4___len__(PyObject *__pyx_v_self) {
  int __pyx_r;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1333 */
  __pyx_r = 4;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.vec4.__len__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k87p;
static PyObject *__pyx_k88p;

static char (__pyx_k87[]) = "index must be integer";
static char (__pyx_k88[]) = "index out of range";

static PyObject *__pyx_f_7cgtypes_4vec4___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key); /*proto*/
static char __pyx_doc_7cgtypes_4vec4___getitem__[] = "Return a component by index (0-based).\n\n        >>> a=vec4(1.0, 0.5, -1.8, 0.2)\n        >>> print a[0]\n        1.0\n        >>> print a[1]\n        0.5\n        >>> print a[2]\n        -1.8\n        >>> print a[3]\n        0.2\n        ";
static PyObject *__pyx_f_7cgtypes_4vec4___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key) {
  int __pyx_v_k;
  PyObject *__pyx_v_T;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_key);
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1350 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1350; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1350; goto __pyx_L1;}
  Py_INCREF(__pyx_v_key);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_key);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1350; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_T);
  __pyx_v_T = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1351 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1351; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1351; goto __pyx_L1;}
  __pyx_4 = __pyx_4 != 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1351; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1351; goto __pyx_L1;}
    __pyx_4 = __pyx_4 != 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1352 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1352; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k87p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1352; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1354 */
  __pyx_4 = PyInt_AsLong(__pyx_v_key); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1354; goto __pyx_L1;}
  __pyx_v_k = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1355 */
  __pyx_4 = (__pyx_v_k == 0);
  if (__pyx_4) {
    __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1355; goto __pyx_L1;}
    __pyx_r = __pyx_1;
    __pyx_1 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_4 = (__pyx_v_k == 1);
  if (__pyx_4) {
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1356; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_4 = (__pyx_v_k == 2);
  if (__pyx_4) {
    __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1357; goto __pyx_L1;}
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_4 = (__pyx_v_k == 3);
  if (__pyx_4) {
    __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1358; goto __pyx_L1;}
    __pyx_r = __pyx_1;
    __pyx_1 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1360 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1360; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k88p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1360; goto __pyx_L1;}
  }
  __pyx_L3:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.vec4.__getitem__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_key);
  return __pyx_r;
}

static PyObject *__pyx_k89p;
static PyObject *__pyx_k90p;

static char (__pyx_k89[]) = "index must be integer";
static char (__pyx_k90[]) = "index out of range";

static int __pyx_f_7cgtypes_4vec4___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key, PyObject *__pyx_v_value); /*proto*/
static char __pyx_doc_7cgtypes_4vec4___setitem__[] = "Set a component by index (0-based).\n\n        >>> a=vec4()\n        >>> a[0]=1.5; a[1]=0.7; a[2]=-0.3; a[3]=0.2\n        >>> print a\n        (1.5000, 0.7000, -0.3000, 0.2000)\n        ";
static int __pyx_f_7cgtypes_4vec4___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key, PyObject *__pyx_v_value) {
  int __pyx_v_k;
  PyObject *__pyx_v_T;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_key);
  Py_INCREF(__pyx_v_value);
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1372 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1372; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1372; goto __pyx_L1;}
  Py_INCREF(__pyx_v_key);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_key);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1372; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_T);
  __pyx_v_T = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1373 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1373; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1373; goto __pyx_L1;}
  __pyx_4 = __pyx_4 != 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1373; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1373; goto __pyx_L1;}
    __pyx_4 = __pyx_4 != 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1374 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1374; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k89p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1374; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1376 */
  __pyx_4 = PyInt_AsLong(__pyx_v_key); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1376; goto __pyx_L1;}
  __pyx_v_k = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1377 */
  __pyx_4 = (__pyx_v_k == 0);
  if (__pyx_4) {
    __pyx_5 = PyFloat_AsDouble(__pyx_v_value); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1377; goto __pyx_L1;}
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x = __pyx_5;
    goto __pyx_L3;
  }
  __pyx_4 = (__pyx_v_k == 1);
  if (__pyx_4) {
    __pyx_5 = PyFloat_AsDouble(__pyx_v_value); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1378; goto __pyx_L1;}
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y = __pyx_5;
    goto __pyx_L3;
  }
  __pyx_4 = (__pyx_v_k == 2);
  if (__pyx_4) {
    __pyx_5 = PyFloat_AsDouble(__pyx_v_value); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1379; goto __pyx_L1;}
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z = __pyx_5;
    goto __pyx_L3;
  }
  __pyx_4 = (__pyx_v_k == 3);
  if (__pyx_4) {
    __pyx_5 = PyFloat_AsDouble(__pyx_v_value); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1380; goto __pyx_L1;}
    ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w = __pyx_5;
    goto __pyx_L3;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1382 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1382; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k90p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1382; goto __pyx_L1;}
  }
  __pyx_L3:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.vec4.__setitem__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_key);
  Py_DECREF(__pyx_v_value);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4vec4_length(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4vec4_length[] = "Return the length of the vector.\n\n        v.length() is equivalent to abs(v).\n\n        >>> a=vec4(1.0, 0.5, -1.8, 0.2)\n        >>> print a.length()\n        2.12837966538\n        ";
static PyObject *__pyx_f_7cgtypes_4vec4_length(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  double __pyx_v_a;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1394 */
  __pyx_v_a = ((((((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x * ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x) + (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y * ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y)) + (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z * ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z)) + (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w * ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1395 */
  __pyx_1 = PyFloat_FromDouble(sqrt(__pyx_v_a)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1395; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("cgtypes.vec4.length");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k91p;

static char (__pyx_k91[]) = "null vector can't be normalized";

static PyObject *__pyx_f_7cgtypes_4vec4_normalize(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4vec4_normalize[] = "Return normalized vector.\n\n        >>> a=vec4(1.0, 0.5, -1.8, 1.2)\n        >>> print a.normalize()\n        (0.4107, 0.2053, -0.7392, 0.4928)\n        ";
static PyObject *__pyx_f_7cgtypes_4vec4_normalize(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_vec4 *__pyx_v_res;
  double __pyx_v_nlen;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1407 */
  __pyx_v_nlen = sqrt(((((((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x * ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x) + (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y * ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y)) + (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z * ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z)) + (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w * ((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1408 */
  __pyx_1 = (__pyx_v_nlen <= __pyx_v_7cgtypes_eps);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1409 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1409; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k91p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1409; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1410 */
  __pyx_v_nlen = (1.0 / __pyx_v_nlen);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1411 */
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1411; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1411; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1411; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1412 */
  __pyx_v_res->x = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->x * __pyx_v_nlen);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1413 */
  __pyx_v_res->y = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->y * __pyx_v_nlen);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1414 */
  __pyx_v_res->z = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->z * __pyx_v_nlen);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1415 */
  __pyx_v_res->w = (((struct __pyx_obj_7cgtypes_vec4 *)__pyx_v_self)->w * __pyx_v_nlen);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1416 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.vec4.normalize");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static int __pyx_f_7cgtypes_8mat3iter___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_7cgtypes_8mat3iter___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_m = 0;
  int __pyx_r;
  static char *__pyx_argnames[] = {"m",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_m)) return -1;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_m);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1427 */
  ((struct __pyx_obj_7cgtypes_mat3iter *)__pyx_v_self)->idx = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1428 */
  Py_INCREF(__pyx_v_m);
  Py_DECREF(((struct __pyx_obj_7cgtypes_mat3iter *)__pyx_v_self)->m);
  ((struct __pyx_obj_7cgtypes_mat3iter *)__pyx_v_self)->m = __pyx_v_m;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.mat3iter.__new__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_m);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_8mat3iter___iter__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_8mat3iter___iter__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1431 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.mat3iter.__iter__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_8mat3iter___next__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_8mat3iter___next__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1434 */
  __pyx_1 = (((struct __pyx_obj_7cgtypes_mat3iter *)__pyx_v_self)->idx == 0);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1435 */
    ((struct __pyx_obj_7cgtypes_mat3iter *)__pyx_v_self)->idx = 1;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1436 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1436; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(((struct __pyx_obj_7cgtypes_mat3iter *)__pyx_v_self)->m, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1436; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_1 = (((struct __pyx_obj_7cgtypes_mat3iter *)__pyx_v_self)->idx == 1);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1438 */
    ((struct __pyx_obj_7cgtypes_mat3iter *)__pyx_v_self)->idx = 2;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1439 */
    __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1439; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(((struct __pyx_obj_7cgtypes_mat3iter *)__pyx_v_self)->m, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1439; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_1 = (((struct __pyx_obj_7cgtypes_mat3iter *)__pyx_v_self)->idx == 2);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1441 */
    ((struct __pyx_obj_7cgtypes_mat3iter *)__pyx_v_self)->idx = 3;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1442 */
    __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1442; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(((struct __pyx_obj_7cgtypes_mat3iter *)__pyx_v_self)->m, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1442; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1444 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_StopIteration); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1444; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1444; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat3iter.__next__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k92p;
static PyObject *__pyx_k93p;
static PyObject *__pyx_k94p;
static PyObject *__pyx_k95p;
static PyObject *__pyx_k96p;
static PyObject *__pyx_k97p;
static PyObject *__pyx_k98p;
static PyObject *__pyx_k99p;
static PyObject *__pyx_k100p;
static PyObject *__pyx_k101p;

static char (__pyx_k92[]) = ",";
static char (__pyx_k93[]) = " ";
static char (__pyx_k94[]) = "  ";
static char (__pyx_k95[]) = " ";
static char (__pyx_k96[]) = " ";
static char (__pyx_k97[]) = "";
static char (__pyx_k98[]) = "mat3() arg is a malformed string";
static char (__pyx_k99[]) = "mat3() arg can't be converted to mat3";
static char (__pyx_k100[]) = "mat3() takes at most 9 arguments";
static char (__pyx_k101[]) = "mat3() arg can't be converted to mat3";

static int __pyx_f_7cgtypes_4mat3___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat3___new__[] = "Constructor.\n\n        There are several possibilities how to initialize a matrix,\n        depending on the number of arguments you provide to the constructor.\n\n        - 0 arguments: Every component is zero.\n        - 1 number argument: The diagonal is initialized to that number,\n          all the other elements are zero.\n        - 1 sequence argument: The elements are initialized with the numbers\n          in the sequence (the sequence must contain 9 numbers).\n        - 1 mat3 argument: The matrix is copied.\n        - 3 sequence arguments: The columns are initialized with the\n          respective sequence (each sequence must contain 3 numbers).\n        - 9 number arguments: The matrix is initialized with those values\n          (row-major order).\n        ";
static int __pyx_f_7cgtypes_4mat3___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_args = 0;
  int __pyx_v_arglen;
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_B;
  PyObject *__pyx_v_m11;
  PyObject *__pyx_v_m12;
  PyObject *__pyx_v_m13;
  PyObject *__pyx_v_m21;
  PyObject *__pyx_v_m22;
  PyObject *__pyx_v_m23;
  PyObject *__pyx_v_m31;
  PyObject *__pyx_v_m32;
  PyObject *__pyx_v_m33;
  PyObject *__pyx_v_T;
  PyObject *__pyx_v_s;
  PyObject *__pyx_v_i;
  PyObject *__pyx_v_seq;
  PyObject *__pyx_v_seqlen;
  PyObject *__pyx_v_b;
  PyObject *__pyx_v_a;
  PyObject *__pyx_v_c;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  PyObject *__pyx_6 = 0;
  static char *__pyx_argnames[] = {0};
  if (__Pyx_GetStarArgs(&__pyx_args, &__pyx_kwds, __pyx_argnames, 0, &__pyx_v_args, 0) < 0) return -1;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) {
    Py_XDECREF(__pyx_args);
    Py_XDECREF(__pyx_kwds);
    Py_XDECREF(__pyx_v_args);
    return -1;
  }
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_B) = Py_None; Py_INCREF(((PyObject*)__pyx_v_B));
  __pyx_v_m11 = Py_None; Py_INCREF(__pyx_v_m11);
  __pyx_v_m12 = Py_None; Py_INCREF(__pyx_v_m12);
  __pyx_v_m13 = Py_None; Py_INCREF(__pyx_v_m13);
  __pyx_v_m21 = Py_None; Py_INCREF(__pyx_v_m21);
  __pyx_v_m22 = Py_None; Py_INCREF(__pyx_v_m22);
  __pyx_v_m23 = Py_None; Py_INCREF(__pyx_v_m23);
  __pyx_v_m31 = Py_None; Py_INCREF(__pyx_v_m31);
  __pyx_v_m32 = Py_None; Py_INCREF(__pyx_v_m32);
  __pyx_v_m33 = Py_None; Py_INCREF(__pyx_v_m33);
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);
  __pyx_v_s = Py_None; Py_INCREF(__pyx_v_s);
  __pyx_v_i = Py_None; Py_INCREF(__pyx_v_i);
  __pyx_v_seq = Py_None; Py_INCREF(__pyx_v_seq);
  __pyx_v_seqlen = Py_None; Py_INCREF(__pyx_v_seqlen);
  __pyx_v_b = Py_None; Py_INCREF(__pyx_v_b);
  __pyx_v_a = Py_None; Py_INCREF(__pyx_v_a);
  __pyx_v_c = Py_None; Py_INCREF(__pyx_v_c);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1472 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1472; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1472; goto __pyx_L1;}
  Py_INCREF(__pyx_v_args);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_args);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1472; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_4 = PyInt_AsLong(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1472; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_v_arglen = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1475 */
  __pyx_4 = (__pyx_v_arglen == 0);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1476 */
    __pyx_1 = PyFloat_FromDouble(0.0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1476; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m11);
    __pyx_v_m11 = __pyx_1;
    __pyx_1 = 0;
    __pyx_2 = PyFloat_FromDouble(0.0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1476; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m12);
    __pyx_v_m12 = __pyx_2;
    __pyx_2 = 0;
    __pyx_3 = PyFloat_FromDouble(0.0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1476; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m13);
    __pyx_v_m13 = __pyx_3;
    __pyx_3 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1477 */
    __pyx_1 = PyFloat_FromDouble(0.0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1477; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m21);
    __pyx_v_m21 = __pyx_1;
    __pyx_1 = 0;
    __pyx_2 = PyFloat_FromDouble(0.0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1477; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m22);
    __pyx_v_m22 = __pyx_2;
    __pyx_2 = 0;
    __pyx_3 = PyFloat_FromDouble(0.0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1477; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m23);
    __pyx_v_m23 = __pyx_3;
    __pyx_3 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1478 */
    __pyx_1 = PyFloat_FromDouble(0.0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1478; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m31);
    __pyx_v_m31 = __pyx_1;
    __pyx_1 = 0;
    __pyx_2 = PyFloat_FromDouble(0.0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1478; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m32);
    __pyx_v_m32 = __pyx_2;
    __pyx_2 = 0;
    __pyx_3 = PyFloat_FromDouble(0.0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1478; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m33);
    __pyx_v_m33 = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L2;
  }
  __pyx_4 = (__pyx_v_arglen == 1);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1482 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1482; goto __pyx_L1;}
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1482; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1482; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1482; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1482; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_v_T);
    __pyx_v_T = __pyx_3;
    __pyx_3 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1484 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1484; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1484; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__pyx_4) {
      __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1484; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1484; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      if (!__pyx_4) {
        __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1484; goto __pyx_L1;}
        if (PyObject_Cmp(__pyx_v_T, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1484; goto __pyx_L1;}
        __pyx_4 = __pyx_4 == 0;
        Py_DECREF(__pyx_3); __pyx_3 = 0;
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1485 */
      __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1485; goto __pyx_L1;}
      __pyx_2 = PyObject_GetItem(__pyx_v_args, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1485; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1485; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1486 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 = 0.0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1487 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 = 0.0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1488 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 = 0.0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1489 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1490 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 = 0.0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1491 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 = 0.0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1492 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 = 0.0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1493 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11;
      goto __pyx_L3;
    }
    if (PyObject_Cmp(__pyx_v_T, ((PyObject*)__pyx_ptype_7cgtypes_mat3), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1496; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1497 */
      __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1497; goto __pyx_L1;}
      __pyx_1 = PyObject_GetItem(__pyx_v_args, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1497; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1497; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_B));
      ((PyObject *)__pyx_v_B) = __pyx_1;
      __pyx_1 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1498 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 = __pyx_v_B->m11;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1499 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 = __pyx_v_B->m12;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1500 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 = __pyx_v_B->m13;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1501 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 = __pyx_v_B->m21;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1502 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 = __pyx_v_B->m22;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1503 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 = __pyx_v_B->m23;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1504 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 = __pyx_v_B->m31;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1505 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 = __pyx_v_B->m32;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1506 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 = __pyx_v_B->m33;
      goto __pyx_L3;
    }
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_str); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1508; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1508; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_unicode); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1508; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_T, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1508; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1509 */
      __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1509; goto __pyx_L1;}
      __pyx_2 = PyObject_GetItem(__pyx_v_args, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1509; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_replace); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1509; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1509; goto __pyx_L1;}
      Py_INCREF(__pyx_k92p);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k92p);
      Py_INCREF(__pyx_k93p);
      PyTuple_SET_ITEM(__pyx_1, 1, __pyx_k93p);
      __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1509; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_replace); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1509; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1509; goto __pyx_L1;}
      Py_INCREF(__pyx_k94p);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k94p);
      Py_INCREF(__pyx_k95p);
      PyTuple_SET_ITEM(__pyx_1, 1, __pyx_k95p);
      __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1509; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_strip); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1509; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1509; goto __pyx_L1;}
      __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1509; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_split); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1509; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1509; goto __pyx_L1;}
      Py_INCREF(__pyx_k96p);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k96p);
      __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1509; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_v_s);
      __pyx_v_s = __pyx_2;
      __pyx_2 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1510 */
      __pyx_3 = PyList_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1510; goto __pyx_L1;}
      Py_INCREF(__pyx_k97p);
      PyList_SET_ITEM(__pyx_3, 0, __pyx_k97p);
      if (PyObject_Cmp(__pyx_v_s, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1510; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1511 */
        __pyx_1 = PyList_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1511; goto __pyx_L1;}
        Py_DECREF(__pyx_v_s);
        __pyx_v_s = __pyx_1;
        __pyx_1 = 0;
        goto __pyx_L4;
      }
      __pyx_L4:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1512 */
      __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_range); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1512; goto __pyx_L1;}
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1512; goto __pyx_L1;}
      __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1512; goto __pyx_L1;}
      Py_INCREF(__pyx_v_s);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_s);
      __pyx_6 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1512; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1512; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_6);
      __pyx_6 = 0;
      __pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1512; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_6 = PyObject_GetIter(__pyx_1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1512; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      for (;;) {
        __pyx_L5:;
        __pyx_2 = PyIter_Next(__pyx_6);
        if (!__pyx_2) {
          if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1512; goto __pyx_L1;}
          break;
        }
        Py_DECREF(__pyx_v_i);
        __pyx_v_i = __pyx_2;
        __pyx_2 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1513 */
        /*try:*/ {

          /* "D:\Sources\Python\cgkit\cgtypes.pyx":1514 */
          __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1514; goto __pyx_L7;}
          __pyx_1 = PyObject_GetItem(__pyx_v_s, __pyx_v_i); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1514; goto __pyx_L7;}
          __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1514; goto __pyx_L7;}
          PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
          __pyx_1 = 0;
          __pyx_1 = PyObject_CallObject(__pyx_3, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1514; goto __pyx_L7;}
          Py_DECREF(__pyx_3); __pyx_3 = 0;
          Py_DECREF(__pyx_2); __pyx_2 = 0;
          if (PyObject_SetItem(__pyx_v_s, __pyx_v_i, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1514; goto __pyx_L7;}
          Py_DECREF(__pyx_1); __pyx_1 = 0;
        }
        goto __pyx_L8;
        __pyx_L7:;
        Py_XDECREF(__pyx_3); __pyx_3 = 0;
        Py_XDECREF(__pyx_2); __pyx_2 = 0;
        Py_XDECREF(__pyx_1); __pyx_1 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1515 */
        /*except:*/ {
          __Pyx_AddTraceback("cgtypes.__new__");
          __pyx_3 = __Pyx_GetExcValue(); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1515; goto __pyx_L1;}
          Py_DECREF(__pyx_3); __pyx_3 = 0;

          /* "D:\Sources\Python\cgkit\cgtypes.pyx":1516 */
          __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1516; goto __pyx_L1;}
          __Pyx_Raise(__pyx_2, __pyx_k98p, 0);
          Py_DECREF(__pyx_2); __pyx_2 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1516; goto __pyx_L1;}
          goto __pyx_L8;
        }
        __pyx_L8:;
      }
      __pyx_L6:;
      Py_DECREF(__pyx_6); __pyx_6 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1517 */
      __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1517; goto __pyx_L1;}
      Py_INCREF(__pyx_v_s);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_s);
      __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat3), __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1517; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1517; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_B));
      ((PyObject *)__pyx_v_B) = __pyx_3;
      __pyx_3 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1518 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 = __pyx_v_B->m11;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1519 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 = __pyx_v_B->m12;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1520 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 = __pyx_v_B->m13;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1521 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 = __pyx_v_B->m21;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1522 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 = __pyx_v_B->m22;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1523 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 = __pyx_v_B->m23;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1524 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 = __pyx_v_B->m31;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1525 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 = __pyx_v_B->m32;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1526 */
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 = __pyx_v_B->m33;
      goto __pyx_L3;
    }
    /*else*/ {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1529 */
      __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1529; goto __pyx_L1;}
      __pyx_6 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1529; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_v_seq);
      __pyx_v_seq = __pyx_6;
      __pyx_6 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1530 */
      /*try:*/ {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1531 */
        __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1531; goto __pyx_L9;}
        __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1531; goto __pyx_L9;}
        Py_INCREF(__pyx_v_seq);
        PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_seq);
        __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1531; goto __pyx_L9;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        Py_DECREF(__pyx_v_seqlen);
        __pyx_v_seqlen = __pyx_2;
        __pyx_2 = 0;
      }
      goto __pyx_L10;
      __pyx_L9:;
      Py_XDECREF(__pyx_6); __pyx_6 = 0;
      Py_XDECREF(__pyx_1); __pyx_1 = 0;
      Py_XDECREF(__pyx_3); __pyx_3 = 0;
      Py_XDECREF(__pyx_2); __pyx_2 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1532 */
      /*except:*/ {
        __Pyx_AddTraceback("cgtypes.__new__");
        __pyx_6 = __Pyx_GetExcValue(); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1532; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1533 */
        __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1533; goto __pyx_L1;}
        __Pyx_Raise(__pyx_1, __pyx_k99p, 0);
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1533; goto __pyx_L1;}
        goto __pyx_L10;
      }
      __pyx_L10:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1535 */
      __pyx_3 = PyInt_FromLong(9); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1535; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_seqlen, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1535; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1536 */
        __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1536; goto __pyx_L1;}
        __pyx_6 = PyObject_GetItem(__pyx_v_seq, __pyx_2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1536; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1536; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1537 */
        __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1537; goto __pyx_L1;}
        __pyx_3 = PyObject_GetItem(__pyx_v_seq, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1537; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1537; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1538 */
        __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1538; goto __pyx_L1;}
        __pyx_6 = PyObject_GetItem(__pyx_v_seq, __pyx_2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1538; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1538; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1539 */
        __pyx_1 = PyInt_FromLong(3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1539; goto __pyx_L1;}
        __pyx_3 = PyObject_GetItem(__pyx_v_seq, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1539; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1539; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1540 */
        __pyx_2 = PyInt_FromLong(4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1540; goto __pyx_L1;}
        __pyx_6 = PyObject_GetItem(__pyx_v_seq, __pyx_2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1540; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1540; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1541 */
        __pyx_1 = PyInt_FromLong(5); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1541; goto __pyx_L1;}
        __pyx_3 = PyObject_GetItem(__pyx_v_seq, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1541; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1541; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1542 */
        __pyx_2 = PyInt_FromLong(6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1542; goto __pyx_L1;}
        __pyx_6 = PyObject_GetItem(__pyx_v_seq, __pyx_2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1542; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1542; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1543 */
        __pyx_1 = PyInt_FromLong(7); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1543; goto __pyx_L1;}
        __pyx_3 = PyObject_GetItem(__pyx_v_seq, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1543; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1543; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1544 */
        __pyx_2 = PyInt_FromLong(8); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1544; goto __pyx_L1;}
        __pyx_6 = PyObject_GetItem(__pyx_v_seq, __pyx_2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1544; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1544; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 = __pyx_5;
        goto __pyx_L11;
      }
      __pyx_1 = PyInt_FromLong(3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1545; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_seqlen, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1545; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1546 */
        __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1546; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1546; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        Py_DECREF(__pyx_v_b);
        __pyx_v_b = __pyx_2;
        __pyx_2 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1547 */
        __pyx_6 = PyInt_FromLong(0); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1547; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_b, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1547; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1547; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1548 */
        __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1548; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_b, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1548; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1548; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1549 */
        __pyx_6 = PyInt_FromLong(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1549; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_b, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1549; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1549; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1550 */
        __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1550; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1550; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        Py_DECREF(__pyx_v_b);
        __pyx_v_b = __pyx_2;
        __pyx_2 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1551 */
        __pyx_6 = PyInt_FromLong(0); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1551; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_b, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1551; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1551; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1552 */
        __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1552; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_b, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1552; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1552; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1553 */
        __pyx_6 = PyInt_FromLong(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1553; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_b, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1553; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1553; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1554 */
        __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1554; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1554; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        Py_DECREF(__pyx_v_b);
        __pyx_v_b = __pyx_2;
        __pyx_2 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1555 */
        __pyx_6 = PyInt_FromLong(0); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1555; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_b, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1555; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1555; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1556 */
        __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1556; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_b, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1556; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1556; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1557 */
        __pyx_6 = PyInt_FromLong(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1557; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_b, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1557; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1557; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 = __pyx_5;
        goto __pyx_L11;
      }
      /*else*/ {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":1559 */
        __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1559; goto __pyx_L1;}
        __Pyx_Raise(__pyx_3, __pyx_k100p, 0);
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1559; goto __pyx_L1;}
      }
      __pyx_L11:;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_4 = (__pyx_v_arglen == 3);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1563 */
    __pyx_2 = __Pyx_UnpackItem(__pyx_v_args, 0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1563; goto __pyx_L1;}
    Py_DECREF(__pyx_v_a);
    __pyx_v_a = __pyx_2;
    __pyx_2 = 0;
    __pyx_6 = __Pyx_UnpackItem(__pyx_v_args, 1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1563; goto __pyx_L1;}
    Py_DECREF(__pyx_v_b);
    __pyx_v_b = __pyx_6;
    __pyx_6 = 0;
    __pyx_1 = __Pyx_UnpackItem(__pyx_v_args, 2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1563; goto __pyx_L1;}
    Py_DECREF(__pyx_v_c);
    __pyx_v_c = __pyx_1;
    __pyx_1 = 0;
    if (__Pyx_EndUnpack(__pyx_v_args, 3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1563; goto __pyx_L1;}

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1564 */
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1564; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_a, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1564; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1564; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1565 */
    __pyx_6 = PyInt_FromLong(0); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1565; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_b, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1565; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1565; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1566 */
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1566; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_c, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1566; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1566; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1567 */
    __pyx_6 = PyInt_FromLong(1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1567; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_a, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1567; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1567; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1568 */
    __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1568; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_b, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1568; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1568; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1569 */
    __pyx_6 = PyInt_FromLong(1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1569; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_c, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1569; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1569; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1570 */
    __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1570; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_a, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1570; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1570; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1571 */
    __pyx_6 = PyInt_FromLong(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1571; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_b, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1571; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1571; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1572 */
    __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1572; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_c, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1572; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1572; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 = __pyx_5;
    goto __pyx_L2;
  }
  __pyx_4 = (__pyx_v_arglen == 9);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1576 */
    __pyx_6 = PyInt_FromLong(0); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1576; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_args, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1576; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1576; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1577 */
    __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1577; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_args, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1577; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1577; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1578 */
    __pyx_6 = PyInt_FromLong(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1578; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_args, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1578; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1578; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1579 */
    __pyx_3 = PyInt_FromLong(3); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1579; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_args, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1579; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1579; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1580 */
    __pyx_6 = PyInt_FromLong(4); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1580; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_args, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1580; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1580; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1581 */
    __pyx_3 = PyInt_FromLong(5); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1581; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_args, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1581; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1581; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1582 */
    __pyx_6 = PyInt_FromLong(6); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1582; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_args, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1582; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1582; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1583 */
    __pyx_3 = PyInt_FromLong(7); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1583; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_args, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1583; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1583; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1584 */
    __pyx_6 = PyInt_FromLong(8); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1584; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_args, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1584; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1584; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 = __pyx_5;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1587 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1587; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k101p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1587; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("cgtypes.mat3.__new__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_XDECREF(__pyx_v_args);
  Py_DECREF(__pyx_v_B);
  Py_DECREF(__pyx_v_m11);
  Py_DECREF(__pyx_v_m12);
  Py_DECREF(__pyx_v_m13);
  Py_DECREF(__pyx_v_m21);
  Py_DECREF(__pyx_v_m22);
  Py_DECREF(__pyx_v_m23);
  Py_DECREF(__pyx_v_m31);
  Py_DECREF(__pyx_v_m32);
  Py_DECREF(__pyx_v_m33);
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_s);
  Py_DECREF(__pyx_v_i);
  Py_DECREF(__pyx_v_seq);
  Py_DECREF(__pyx_v_seqlen);
  Py_DECREF(__pyx_v_b);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_c);
  Py_DECREF(__pyx_v_self);
  Py_XDECREF(__pyx_args);
  Py_XDECREF(__pyx_kwds);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat3___reduce__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7cgtypes_4mat3___reduce__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1590 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__mat3construct); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1590; goto __pyx_L1;}
  __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1590; goto __pyx_L1;}
  __pyx_3 = PyObject_GetItem(__pyx_v_self, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1590; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1590; goto __pyx_L1;}
  __pyx_4 = PyObject_GetItem(__pyx_v_self, __pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1590; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1590; goto __pyx_L1;}
  __pyx_5 = PyObject_GetItem(__pyx_v_self, __pyx_2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1590; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyTuple_New(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1590; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_4);
  PyTuple_SET_ITEM(__pyx_2, 2, __pyx_5);
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_5 = 0;
  __pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1590; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
  PyTuple_SET_ITEM(__pyx_3, 1, __pyx_2);
  __pyx_1 = 0;
  __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("cgtypes.mat3.__reduce__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k102p;

static char (__pyx_k102[]) = "mat3(%s, %s, %s, %s, %s, %s, %s, %s, %s)";

static PyObject *__pyx_f_7cgtypes_4mat3___repr__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_4mat3___repr__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  PyObject *__pyx_7 = 0;
  PyObject *__pyx_8 = 0;
  PyObject *__pyx_9 = 0;
  PyObject *__pyx_10 = 0;
  PyObject *__pyx_11 = 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1593 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1594; goto __pyx_L1;}
  __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1594; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1594; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1594; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1594; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1594; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1594; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1594; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1594; goto __pyx_L1;}
  __pyx_4 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1594; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1594; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_4);
  __pyx_4 = 0;
  __pyx_4 = PyObject_CallObject(__pyx_1, __pyx_5); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1594; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1595; goto __pyx_L1;}
  __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1595; goto __pyx_L1;}
  __pyx_6 = PyTuple_New(1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1595; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_6, 0, __pyx_5);
  __pyx_5 = 0;
  __pyx_5 = PyObject_CallObject(__pyx_1, __pyx_6); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1595; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1595; goto __pyx_L1;}
  __pyx_6 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1595; goto __pyx_L1;}
  __pyx_7 = PyTuple_New(1); if (!__pyx_7) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1595; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_7, 0, __pyx_6);
  __pyx_6 = 0;
  __pyx_6 = PyObject_CallObject(__pyx_1, __pyx_7); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1595; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_7); __pyx_7 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1595; goto __pyx_L1;}
  __pyx_7 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23); if (!__pyx_7) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1595; goto __pyx_L1;}
  __pyx_8 = PyTuple_New(1); if (!__pyx_8) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1595; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_8, 0, __pyx_7);
  __pyx_7 = 0;
  __pyx_7 = PyObject_CallObject(__pyx_1, __pyx_8); if (!__pyx_7) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1595; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_8); __pyx_8 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1596; goto __pyx_L1;}
  __pyx_8 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31); if (!__pyx_8) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1596; goto __pyx_L1;}
  __pyx_9 = PyTuple_New(1); if (!__pyx_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1596; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_9, 0, __pyx_8);
  __pyx_8 = 0;
  __pyx_8 = PyObject_CallObject(__pyx_1, __pyx_9); if (!__pyx_8) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1596; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_9); __pyx_9 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1596; goto __pyx_L1;}
  __pyx_9 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32); if (!__pyx_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1596; goto __pyx_L1;}
  __pyx_10 = PyTuple_New(1); if (!__pyx_10) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1596; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_10, 0, __pyx_9);
  __pyx_9 = 0;
  __pyx_9 = PyObject_CallObject(__pyx_1, __pyx_10); if (!__pyx_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1596; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_10); __pyx_10 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1596; goto __pyx_L1;}
  __pyx_10 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33); if (!__pyx_10) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1596; goto __pyx_L1;}
  __pyx_11 = PyTuple_New(1); if (!__pyx_11) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1596; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_11, 0, __pyx_10);
  __pyx_10 = 0;
  __pyx_10 = PyObject_CallObject(__pyx_1, __pyx_11); if (!__pyx_10) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1596; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_11); __pyx_11 = 0;
  __pyx_1 = PyTuple_New(9); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1594; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_3);
  PyTuple_SET_ITEM(__pyx_1, 2, __pyx_4);
  PyTuple_SET_ITEM(__pyx_1, 3, __pyx_5);
  PyTuple_SET_ITEM(__pyx_1, 4, __pyx_6);
  PyTuple_SET_ITEM(__pyx_1, 5, __pyx_7);
  PyTuple_SET_ITEM(__pyx_1, 6, __pyx_8);
  PyTuple_SET_ITEM(__pyx_1, 7, __pyx_9);
  PyTuple_SET_ITEM(__pyx_1, 8, __pyx_10);
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_5 = 0;
  __pyx_6 = 0;
  __pyx_7 = 0;
  __pyx_8 = 0;
  __pyx_9 = 0;
  __pyx_10 = 0;
  __pyx_11 = PyNumber_Remainder(__pyx_k102p, __pyx_1); if (!__pyx_11) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1593; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_11;
  __pyx_11 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  Py_XDECREF(__pyx_7);
  Py_XDECREF(__pyx_8);
  Py_XDECREF(__pyx_9);
  Py_XDECREF(__pyx_10);
  Py_XDECREF(__pyx_11);
  __Pyx_AddTraceback("cgtypes.mat3.__repr__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k103p;

static char (__pyx_k103[]) = "[%9.4f, %9.4f, %9.4f]\n[%9.4f, %9.4f, %9.4f]\n[%9.4f, %9.4f, %9.4f]";

static PyObject *__pyx_f_7cgtypes_4mat3___str__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_4mat3___str__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  PyObject *__pyx_7 = 0;
  PyObject *__pyx_8 = 0;
  PyObject *__pyx_9 = 0;
  PyObject *__pyx_10 = 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1599 */
  __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1600; goto __pyx_L1;}
  __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1600; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1600; goto __pyx_L1;}
  __pyx_4 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1601; goto __pyx_L1;}
  __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1601; goto __pyx_L1;}
  __pyx_6 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1601; goto __pyx_L1;}
  __pyx_7 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31); if (!__pyx_7) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1602; goto __pyx_L1;}
  __pyx_8 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32); if (!__pyx_8) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1602; goto __pyx_L1;}
  __pyx_9 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33); if (!__pyx_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1602; goto __pyx_L1;}
  __pyx_10 = PyTuple_New(9); if (!__pyx_10) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1600; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_10, 0, __pyx_1);
  PyTuple_SET_ITEM(__pyx_10, 1, __pyx_2);
  PyTuple_SET_ITEM(__pyx_10, 2, __pyx_3);
  PyTuple_SET_ITEM(__pyx_10, 3, __pyx_4);
  PyTuple_SET_ITEM(__pyx_10, 4, __pyx_5);
  PyTuple_SET_ITEM(__pyx_10, 5, __pyx_6);
  PyTuple_SET_ITEM(__pyx_10, 6, __pyx_7);
  PyTuple_SET_ITEM(__pyx_10, 7, __pyx_8);
  PyTuple_SET_ITEM(__pyx_10, 8, __pyx_9);
  __pyx_1 = 0;
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_5 = 0;
  __pyx_6 = 0;
  __pyx_7 = 0;
  __pyx_8 = 0;
  __pyx_9 = 0;
  __pyx_1 = PyNumber_Remainder(__pyx_k103p, __pyx_10); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1599; goto __pyx_L1;}
  Py_DECREF(__pyx_10); __pyx_10 = 0;
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  Py_XDECREF(__pyx_7);
  Py_XDECREF(__pyx_8);
  Py_XDECREF(__pyx_9);
  Py_XDECREF(__pyx_10);
  __Pyx_AddTraceback("cgtypes.mat3.__str__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat3___iter__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_4mat3___iter__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1605 */
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1605; goto __pyx_L1;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_self);
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat3iter), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1605; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.mat3.__iter__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k104p;

static char (__pyx_k104[]) = "internal error: illegal rich comparison number";

static PyObject *__pyx_f_7cgtypes_4mat3___richcmp__(PyObject *__pyx_v_a, PyObject *__pyx_v_b, int __pyx_arg_op); /*proto*/
static PyObject *__pyx_f_7cgtypes_4mat3___richcmp__(PyObject *__pyx_v_a, PyObject *__pyx_v_b, int __pyx_arg_op) {
  PyObject *__pyx_v_op = 0;
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_ma;
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_mb;
  int __pyx_v_cop;
  PyObject *__pyx_v_ta;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  __pyx_v_op = PyInt_FromLong(__pyx_arg_op); if (!__pyx_v_op) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1607; goto __pyx_L1;}
  ((PyObject*)__pyx_v_ma) = Py_None; Py_INCREF(((PyObject*)__pyx_v_ma));
  ((PyObject*)__pyx_v_mb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_mb));
  __pyx_v_ta = Py_None; Py_INCREF(__pyx_v_ta);
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1611 */
  __pyx_1 = PyInt_AsLong(__pyx_v_op); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1611; goto __pyx_L1;}
  __pyx_v_cop = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1613 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1613; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1613; goto __pyx_L1;}
  Py_INCREF(__pyx_v_a);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_a);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1613; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_ta);
  __pyx_v_ta = __pyx_4;
  __pyx_4 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1614 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1614; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1614; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_b);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1614; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_4;
  __pyx_4 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1615 */
  if (PyObject_Cmp(__pyx_v_ta, ((PyObject*)__pyx_ptype_7cgtypes_mat3), &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1615; goto __pyx_L1;}
  __pyx_1 = __pyx_1 != 0;
  if (!__pyx_1) {
    if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_mat3), &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1615; goto __pyx_L1;}
    __pyx_1 = __pyx_1 != 0;
  }
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1616 */
    __pyx_1 = (__pyx_v_cop == 3);
    if (__pyx_1) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1617 */
      __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1617; goto __pyx_L1;}
      __pyx_r = __pyx_2;
      __pyx_2 = 0;
      goto __pyx_L0;
      goto __pyx_L3;
    }
    /*else*/ {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1619 */
      __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1619; goto __pyx_L1;}
      __pyx_r = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L0;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1621 */
  if (!__Pyx_TypeTest(__pyx_v_a, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1621; goto __pyx_L1;}
  Py_INCREF(__pyx_v_a);
  Py_DECREF(((PyObject *)__pyx_v_ma));
  ((PyObject *)__pyx_v_ma) = __pyx_v_a;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1622 */
  if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1622; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  Py_DECREF(((PyObject *)__pyx_v_mb));
  ((PyObject *)__pyx_v_mb) = __pyx_v_b;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1625 */
  __pyx_1 = (__pyx_v_cop == 0);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1626 */
    __pyx_4 = PyInt_FromLong(0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1626; goto __pyx_L1;}
    __pyx_r = __pyx_4;
    __pyx_4 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 1);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1629 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1629; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 2);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1632 */
    __pyx_1 = (fabs((__pyx_v_ma->m11 - __pyx_v_mb->m11)) <= __pyx_v_7cgtypes_eps);
    if (__pyx_1) {
      __pyx_1 = (fabs((__pyx_v_ma->m12 - __pyx_v_mb->m12)) <= __pyx_v_7cgtypes_eps);
      if (__pyx_1) {
        __pyx_1 = (fabs((__pyx_v_ma->m13 - __pyx_v_mb->m13)) <= __pyx_v_7cgtypes_eps);
        if (__pyx_1) {
          __pyx_1 = (fabs((__pyx_v_ma->m21 - __pyx_v_mb->m21)) <= __pyx_v_7cgtypes_eps);
          if (__pyx_1) {
            __pyx_1 = (fabs((__pyx_v_ma->m22 - __pyx_v_mb->m22)) <= __pyx_v_7cgtypes_eps);
            if (__pyx_1) {
              __pyx_1 = (fabs((__pyx_v_ma->m23 - __pyx_v_mb->m23)) <= __pyx_v_7cgtypes_eps);
              if (__pyx_1) {
                __pyx_1 = (fabs((__pyx_v_ma->m31 - __pyx_v_mb->m31)) <= __pyx_v_7cgtypes_eps);
                if (__pyx_1) {
                  __pyx_1 = (fabs((__pyx_v_ma->m32 - __pyx_v_mb->m32)) <= __pyx_v_7cgtypes_eps);
                  if (__pyx_1) {
                    __pyx_1 = (fabs((__pyx_v_ma->m33 - __pyx_v_mb->m33)) <= __pyx_v_7cgtypes_eps);
                  }
                }
              }
            }
          }
        }
      }
    }
    __pyx_3 = PyInt_FromLong(__pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1632; goto __pyx_L1;}
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 3);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1640 */
    __pyx_1 = (fabs((__pyx_v_ma->m11 - __pyx_v_mb->m11)) > __pyx_v_7cgtypes_eps);
    if (!__pyx_1) {
      __pyx_1 = (fabs((__pyx_v_ma->m12 - __pyx_v_mb->m12)) > __pyx_v_7cgtypes_eps);
      if (!__pyx_1) {
        __pyx_1 = (fabs((__pyx_v_ma->m13 - __pyx_v_mb->m13)) > __pyx_v_7cgtypes_eps);
        if (!__pyx_1) {
          __pyx_1 = (fabs((__pyx_v_ma->m21 - __pyx_v_mb->m21)) > __pyx_v_7cgtypes_eps);
          if (!__pyx_1) {
            __pyx_1 = (fabs((__pyx_v_ma->m22 - __pyx_v_mb->m22)) > __pyx_v_7cgtypes_eps);
            if (!__pyx_1) {
              __pyx_1 = (fabs((__pyx_v_ma->m23 - __pyx_v_mb->m23)) > __pyx_v_7cgtypes_eps);
              if (!__pyx_1) {
                __pyx_1 = (fabs((__pyx_v_ma->m31 - __pyx_v_mb->m31)) > __pyx_v_7cgtypes_eps);
                if (!__pyx_1) {
                  __pyx_1 = (fabs((__pyx_v_ma->m32 - __pyx_v_mb->m32)) > __pyx_v_7cgtypes_eps);
                  if (!__pyx_1) {
                    __pyx_1 = (fabs((__pyx_v_ma->m33 - __pyx_v_mb->m33)) > __pyx_v_7cgtypes_eps);
                  }
                }
              }
            }
          }
        }
      }
    }
    __pyx_4 = PyInt_FromLong(__pyx_1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1640; goto __pyx_L1;}
    __pyx_r = __pyx_4;
    __pyx_4 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 4);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1648 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1648; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 5);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1651 */
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1651; goto __pyx_L1;}
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1654 */
    __pyx_4 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1654; goto __pyx_L1;}
    __Pyx_Raise(__pyx_4, __pyx_k104p, 0);
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1654; goto __pyx_L1;}
  }
  __pyx_L4:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("cgtypes.mat3.__richcmp__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_op);
  Py_DECREF(__pyx_v_ma);
  Py_DECREF(__pyx_v_mb);
  Py_DECREF(__pyx_v_ta);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat3___add__(PyObject *__pyx_v_a, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4mat3___add__[] = "Matrix addition.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat3___add__(PyObject *__pyx_v_a, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_a), __pyx_ptype_7cgtypes_mat3, 1, "a")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1657; goto __pyx_L1;}
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_b), __pyx_ptype_7cgtypes_mat3, 1, "b")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1657; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1661 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1661; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1661; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1661; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1662 */
  __pyx_v_res->m11 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m11 + ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_b)->m11);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1663 */
  __pyx_v_res->m12 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m12 + ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_b)->m12);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1664 */
  __pyx_v_res->m13 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m13 + ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_b)->m13);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1665 */
  __pyx_v_res->m21 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m21 + ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_b)->m21);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1666 */
  __pyx_v_res->m22 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m22 + ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_b)->m22);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1667 */
  __pyx_v_res->m23 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m23 + ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_b)->m23);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1668 */
  __pyx_v_res->m31 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m31 + ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_b)->m31);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1669 */
  __pyx_v_res->m32 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m32 + ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_b)->m32);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1670 */
  __pyx_v_res->m33 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m33 + ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_b)->m33);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1671 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.mat3.__add__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat3___sub__(PyObject *__pyx_v_a, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4mat3___sub__[] = "Matrix subtraction.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat3___sub__(PyObject *__pyx_v_a, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_a), __pyx_ptype_7cgtypes_mat3, 1, "a")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1673; goto __pyx_L1;}
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_b), __pyx_ptype_7cgtypes_mat3, 1, "b")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1673; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1677 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1677; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1677; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1677; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1678 */
  __pyx_v_res->m11 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m11 - ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_b)->m11);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1679 */
  __pyx_v_res->m12 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m12 - ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_b)->m12);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1680 */
  __pyx_v_res->m13 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m13 - ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_b)->m13);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1681 */
  __pyx_v_res->m21 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m21 - ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_b)->m21);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1682 */
  __pyx_v_res->m22 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m22 - ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_b)->m22);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1683 */
  __pyx_v_res->m23 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m23 - ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_b)->m23);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1684 */
  __pyx_v_res->m31 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m31 - ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_b)->m31);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1685 */
  __pyx_v_res->m32 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m32 - ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_b)->m32);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1686 */
  __pyx_v_res->m33 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m33 - ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_b)->m33);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1687 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.mat3.__sub__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_k105p;

static char (__pyx_k105[]) = "unsupported operand type for *";

static PyObject *__pyx_f_7cgtypes_4mat3___mul__(PyObject *__pyx_v_a, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4mat3___mul__[] = "Multiplication.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat3___mul__(PyObject *__pyx_v_a, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_ma;
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_mb;
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_res;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_va;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_vb;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_vres;
  double __pyx_v_r;
  PyObject *__pyx_v_ta;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_v_wres;
  PyObject *__pyx_v_wb;
  PyObject *__pyx_v_wa;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  double __pyx_6;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_ma) = Py_None; Py_INCREF(((PyObject*)__pyx_v_ma));
  ((PyObject*)__pyx_v_mb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_mb));
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  ((PyObject*)__pyx_v_va) = Py_None; Py_INCREF(((PyObject*)__pyx_v_va));
  ((PyObject*)__pyx_v_vb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_vb));
  ((PyObject*)__pyx_v_vres) = Py_None; Py_INCREF(((PyObject*)__pyx_v_vres));
  __pyx_v_ta = Py_None; Py_INCREF(__pyx_v_ta);
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);
  __pyx_v_wres = Py_None; Py_INCREF(__pyx_v_wres);
  __pyx_v_wb = Py_None; Py_INCREF(__pyx_v_wb);
  __pyx_v_wa = Py_None; Py_INCREF(__pyx_v_wa);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1696 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1696; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1696; goto __pyx_L1;}
  Py_INCREF(__pyx_v_a);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_a);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1696; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_ta);
  __pyx_v_ta = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1697 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1697; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1697; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_b);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1697; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1700 */
  if (PyObject_Cmp(__pyx_v_ta, ((PyObject*)__pyx_ptype_7cgtypes_mat3), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1700; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1701 */
    if (!__Pyx_TypeTest(__pyx_v_a, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1701; goto __pyx_L1;}
    Py_INCREF(__pyx_v_a);
    Py_DECREF(((PyObject *)__pyx_v_ma));
    ((PyObject *)__pyx_v_ma) = __pyx_v_a;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1703 */
    if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_mat3), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1703; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1705 */
      __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1705; goto __pyx_L1;}
      __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1705; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1705; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_res));
      ((PyObject *)__pyx_v_res) = __pyx_2;
      __pyx_2 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1706 */
      if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1706; goto __pyx_L1;}
      Py_INCREF(__pyx_v_b);
      Py_DECREF(((PyObject *)__pyx_v_mb));
      ((PyObject *)__pyx_v_mb) = __pyx_v_b;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1707 */
      __pyx_v_res->m11 = (((__pyx_v_ma->m11 * __pyx_v_mb->m11) + (__pyx_v_ma->m12 * __pyx_v_mb->m21)) + (__pyx_v_ma->m13 * __pyx_v_mb->m31));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1708 */
      __pyx_v_res->m12 = (((__pyx_v_ma->m11 * __pyx_v_mb->m12) + (__pyx_v_ma->m12 * __pyx_v_mb->m22)) + (__pyx_v_ma->m13 * __pyx_v_mb->m32));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1709 */
      __pyx_v_res->m13 = (((__pyx_v_ma->m11 * __pyx_v_mb->m13) + (__pyx_v_ma->m12 * __pyx_v_mb->m23)) + (__pyx_v_ma->m13 * __pyx_v_mb->m33));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1710 */
      __pyx_v_res->m21 = (((__pyx_v_ma->m21 * __pyx_v_mb->m11) + (__pyx_v_ma->m22 * __pyx_v_mb->m21)) + (__pyx_v_ma->m23 * __pyx_v_mb->m31));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1711 */
      __pyx_v_res->m22 = (((__pyx_v_ma->m21 * __pyx_v_mb->m12) + (__pyx_v_ma->m22 * __pyx_v_mb->m22)) + (__pyx_v_ma->m23 * __pyx_v_mb->m32));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1712 */
      __pyx_v_res->m23 = (((__pyx_v_ma->m21 * __pyx_v_mb->m13) + (__pyx_v_ma->m22 * __pyx_v_mb->m23)) + (__pyx_v_ma->m23 * __pyx_v_mb->m33));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1713 */
      __pyx_v_res->m31 = (((__pyx_v_ma->m31 * __pyx_v_mb->m11) + (__pyx_v_ma->m32 * __pyx_v_mb->m21)) + (__pyx_v_ma->m33 * __pyx_v_mb->m31));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1714 */
      __pyx_v_res->m32 = (((__pyx_v_ma->m31 * __pyx_v_mb->m12) + (__pyx_v_ma->m32 * __pyx_v_mb->m22)) + (__pyx_v_ma->m33 * __pyx_v_mb->m32));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1715 */
      __pyx_v_res->m33 = (((__pyx_v_ma->m31 * __pyx_v_mb->m13) + (__pyx_v_ma->m32 * __pyx_v_mb->m23)) + (__pyx_v_ma->m33 * __pyx_v_mb->m33));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1716 */
      Py_INCREF(((PyObject *)__pyx_v_res));
      __pyx_r = ((PyObject *)__pyx_v_res);
      goto __pyx_L0;
      goto __pyx_L3;
    }
    if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_vec3), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1718; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1720 */
      __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1720; goto __pyx_L1;}
      __pyx_1 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1720; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_v_wres);
      __pyx_v_wres = __pyx_1;
      __pyx_1 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1721 */
      Py_INCREF(__pyx_v_b);
      Py_DECREF(__pyx_v_wb);
      __pyx_v_wb = __pyx_v_b;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1722 */
      __pyx_2 = PyFloat_FromDouble(__pyx_v_ma->m11); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1722; goto __pyx_L1;}
      __pyx_3 = PyObject_GetAttr(__pyx_v_wb, __pyx_n_x); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1722; goto __pyx_L1;}
      __pyx_1 = PyNumber_Multiply(__pyx_2, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1722; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_2 = PyFloat_FromDouble(__pyx_v_ma->m12); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1722; goto __pyx_L1;}
      __pyx_3 = PyObject_GetAttr(__pyx_v_wb, __pyx_n_y); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1722; goto __pyx_L1;}
      __pyx_5 = PyNumber_Multiply(__pyx_2, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1722; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_2 = PyNumber_Add(__pyx_1, __pyx_5); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1722; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      __pyx_3 = PyFloat_FromDouble(__pyx_v_ma->m13); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1722; goto __pyx_L1;}
      __pyx_1 = PyObject_GetAttr(__pyx_v_wb, __pyx_n_z); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1722; goto __pyx_L1;}
      __pyx_5 = PyNumber_Multiply(__pyx_3, __pyx_1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1722; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyNumber_Add(__pyx_2, __pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1722; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      if (PyObject_SetAttr(__pyx_v_wres, __pyx_n_x, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1722; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1723 */
      __pyx_1 = PyFloat_FromDouble(__pyx_v_ma->m21); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1723; goto __pyx_L1;}
      __pyx_2 = PyObject_GetAttr(__pyx_v_wb, __pyx_n_x); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1723; goto __pyx_L1;}
      __pyx_5 = PyNumber_Multiply(__pyx_1, __pyx_2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1723; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_3 = PyFloat_FromDouble(__pyx_v_ma->m22); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1723; goto __pyx_L1;}
      __pyx_1 = PyObject_GetAttr(__pyx_v_wb, __pyx_n_y); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1723; goto __pyx_L1;}
      __pyx_2 = PyNumber_Multiply(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1723; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyNumber_Add(__pyx_5, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1723; goto __pyx_L1;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyFloat_FromDouble(__pyx_v_ma->m23); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1723; goto __pyx_L1;}
      __pyx_5 = PyObject_GetAttr(__pyx_v_wb, __pyx_n_z); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1723; goto __pyx_L1;}
      __pyx_2 = PyNumber_Multiply(__pyx_1, __pyx_5); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1723; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      __pyx_1 = PyNumber_Add(__pyx_3, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1723; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      if (PyObject_SetAttr(__pyx_v_wres, __pyx_n_y, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1723; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1724 */
      __pyx_5 = PyFloat_FromDouble(__pyx_v_ma->m31); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1724; goto __pyx_L1;}
      __pyx_3 = PyObject_GetAttr(__pyx_v_wb, __pyx_n_x); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1724; goto __pyx_L1;}
      __pyx_2 = PyNumber_Multiply(__pyx_5, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1724; goto __pyx_L1;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_1 = PyFloat_FromDouble(__pyx_v_ma->m32); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1724; goto __pyx_L1;}
      __pyx_5 = PyObject_GetAttr(__pyx_v_wb, __pyx_n_y); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1724; goto __pyx_L1;}
      __pyx_3 = PyNumber_Multiply(__pyx_1, __pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1724; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      __pyx_1 = PyNumber_Add(__pyx_2, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1724; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_5 = PyFloat_FromDouble(__pyx_v_ma->m33); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1724; goto __pyx_L1;}
      __pyx_2 = PyObject_GetAttr(__pyx_v_wb, __pyx_n_z); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1724; goto __pyx_L1;}
      __pyx_3 = PyNumber_Multiply(__pyx_5, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1724; goto __pyx_L1;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_5 = PyNumber_Add(__pyx_1, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1724; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (PyObject_SetAttr(__pyx_v_wres, __pyx_n_z, __pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1724; goto __pyx_L1;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1725 */
      Py_INCREF(__pyx_v_wres);
      __pyx_r = __pyx_v_wres;
      goto __pyx_L0;
      goto __pyx_L3;
    }
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1727; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1727; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1727; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1727; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      if (!__pyx_4) {
        __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1727; goto __pyx_L1;}
        if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1727; goto __pyx_L1;}
        __pyx_4 = __pyx_4 == 0;
        Py_DECREF(__pyx_3); __pyx_3 = 0;
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1728 */
      __pyx_5 = PyTuple_New(0); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1728; goto __pyx_L1;}
      __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat3), __pyx_5); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1728; goto __pyx_L1;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1728; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_res));
      ((PyObject *)__pyx_v_res) = __pyx_2;
      __pyx_2 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1729 */
      __pyx_6 = PyFloat_AsDouble(__pyx_v_b); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1729; goto __pyx_L1;}
      __pyx_v_r = __pyx_6;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1730 */
      __pyx_v_res->m11 = (__pyx_v_ma->m11 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1731 */
      __pyx_v_res->m12 = (__pyx_v_ma->m12 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1732 */
      __pyx_v_res->m13 = (__pyx_v_ma->m13 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1733 */
      __pyx_v_res->m21 = (__pyx_v_ma->m21 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1734 */
      __pyx_v_res->m22 = (__pyx_v_ma->m22 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1735 */
      __pyx_v_res->m23 = (__pyx_v_ma->m23 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1736 */
      __pyx_v_res->m31 = (__pyx_v_ma->m31 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1737 */
      __pyx_v_res->m32 = (__pyx_v_ma->m32 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1738 */
      __pyx_v_res->m33 = (__pyx_v_ma->m33 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1739 */
      Py_INCREF(((PyObject *)__pyx_v_res));
      __pyx_r = ((PyObject *)__pyx_v_res);
      goto __pyx_L0;
      goto __pyx_L3;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_ta, ((PyObject*)__pyx_ptype_7cgtypes_vec3), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1742; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1744 */
    __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1744; goto __pyx_L1;}
    __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1744; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_v_wres);
    __pyx_v_wres = __pyx_3;
    __pyx_3 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1745 */
    Py_INCREF(__pyx_v_a);
    Py_DECREF(__pyx_v_wa);
    __pyx_v_wa = __pyx_v_a;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1746 */
    if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1746; goto __pyx_L1;}
    Py_INCREF(__pyx_v_b);
    Py_DECREF(((PyObject *)__pyx_v_mb));
    ((PyObject *)__pyx_v_mb) = __pyx_v_b;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1747 */
    __pyx_5 = PyObject_GetAttr(__pyx_v_wa, __pyx_n_x); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1747; goto __pyx_L1;}
    __pyx_2 = PyFloat_FromDouble(__pyx_v_mb->m11); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1747; goto __pyx_L1;}
    __pyx_1 = PyNumber_Multiply(__pyx_5, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1747; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_3 = PyObject_GetAttr(__pyx_v_wa, __pyx_n_y); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1747; goto __pyx_L1;}
    __pyx_5 = PyFloat_FromDouble(__pyx_v_mb->m21); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1747; goto __pyx_L1;}
    __pyx_2 = PyNumber_Multiply(__pyx_3, __pyx_5); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1747; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_3 = PyNumber_Add(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1747; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyObject_GetAttr(__pyx_v_wa, __pyx_n_z); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1747; goto __pyx_L1;}
    __pyx_1 = PyFloat_FromDouble(__pyx_v_mb->m31); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1747; goto __pyx_L1;}
    __pyx_2 = PyNumber_Multiply(__pyx_5, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1747; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyNumber_Add(__pyx_3, __pyx_2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1747; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (PyObject_SetAttr(__pyx_v_wres, __pyx_n_x, __pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1747; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1748 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_wa, __pyx_n_x); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1748; goto __pyx_L1;}
    __pyx_3 = PyFloat_FromDouble(__pyx_v_mb->m12); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1748; goto __pyx_L1;}
    __pyx_2 = PyNumber_Multiply(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1748; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyObject_GetAttr(__pyx_v_wa, __pyx_n_y); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1748; goto __pyx_L1;}
    __pyx_1 = PyFloat_FromDouble(__pyx_v_mb->m22); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1748; goto __pyx_L1;}
    __pyx_3 = PyNumber_Multiply(__pyx_5, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1748; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyNumber_Add(__pyx_2, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1748; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_1 = PyObject_GetAttr(__pyx_v_wa, __pyx_n_z); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1748; goto __pyx_L1;}
    __pyx_2 = PyFloat_FromDouble(__pyx_v_mb->m32); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1748; goto __pyx_L1;}
    __pyx_3 = PyNumber_Multiply(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1748; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_1 = PyNumber_Add(__pyx_5, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1748; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (PyObject_SetAttr(__pyx_v_wres, __pyx_n_y, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1748; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1749 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_wa, __pyx_n_x); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1749; goto __pyx_L1;}
    __pyx_5 = PyFloat_FromDouble(__pyx_v_mb->m13); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1749; goto __pyx_L1;}
    __pyx_3 = PyNumber_Multiply(__pyx_2, __pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1749; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_1 = PyObject_GetAttr(__pyx_v_wa, __pyx_n_y); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1749; goto __pyx_L1;}
    __pyx_2 = PyFloat_FromDouble(__pyx_v_mb->m23); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1749; goto __pyx_L1;}
    __pyx_5 = PyNumber_Multiply(__pyx_1, __pyx_2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1749; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_1 = PyNumber_Add(__pyx_3, __pyx_5); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1749; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_2 = PyObject_GetAttr(__pyx_v_wa, __pyx_n_z); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1749; goto __pyx_L1;}
    __pyx_3 = PyFloat_FromDouble(__pyx_v_mb->m33); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1749; goto __pyx_L1;}
    __pyx_5 = PyNumber_Multiply(__pyx_2, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1749; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_2 = PyNumber_Add(__pyx_1, __pyx_5); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1749; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    if (PyObject_SetAttr(__pyx_v_wres, __pyx_n_z, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1749; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1750 */
    Py_INCREF(__pyx_v_wres);
    __pyx_r = __pyx_v_wres;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1753; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_ta, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1753; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (!__pyx_4) {
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1753; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_ta, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1753; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__pyx_4) {
      __pyx_5 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1753; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_ta, __pyx_5, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1753; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_5); __pyx_5 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1754 */
    __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1754; goto __pyx_L1;}
    __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat3), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1754; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1754; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_res));
    ((PyObject *)__pyx_v_res) = __pyx_3;
    __pyx_3 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1755 */
    __pyx_6 = PyFloat_AsDouble(__pyx_v_a); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1755; goto __pyx_L1;}
    __pyx_v_r = __pyx_6;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1756 */
    if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1756; goto __pyx_L1;}
    Py_INCREF(__pyx_v_b);
    Py_DECREF(((PyObject *)__pyx_v_mb));
    ((PyObject *)__pyx_v_mb) = __pyx_v_b;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1757 */
    __pyx_v_res->m11 = (__pyx_v_r * __pyx_v_mb->m11);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1758 */
    __pyx_v_res->m12 = (__pyx_v_r * __pyx_v_mb->m12);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1759 */
    __pyx_v_res->m13 = (__pyx_v_r * __pyx_v_mb->m13);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1760 */
    __pyx_v_res->m21 = (__pyx_v_r * __pyx_v_mb->m21);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1761 */
    __pyx_v_res->m22 = (__pyx_v_r * __pyx_v_mb->m22);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1762 */
    __pyx_v_res->m23 = (__pyx_v_r * __pyx_v_mb->m23);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1763 */
    __pyx_v_res->m31 = (__pyx_v_r * __pyx_v_mb->m31);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1764 */
    __pyx_v_res->m32 = (__pyx_v_r * __pyx_v_mb->m32);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1765 */
    __pyx_v_res->m33 = (__pyx_v_r * __pyx_v_mb->m33);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1766 */
    Py_INCREF(((PyObject *)__pyx_v_res));
    __pyx_r = ((PyObject *)__pyx_v_res);
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1769 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1769; goto __pyx_L1;}
  __Pyx_Raise(__pyx_1, __pyx_k105p, 0);
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1769; goto __pyx_L1;}

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("cgtypes.mat3.__mul__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_ma);
  Py_DECREF(__pyx_v_mb);
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_va);
  Py_DECREF(__pyx_v_vb);
  Py_DECREF(__pyx_v_vres);
  Py_DECREF(__pyx_v_ta);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_wres);
  Py_DECREF(__pyx_v_wb);
  Py_DECREF(__pyx_v_wa);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_k106p;
static PyObject *__pyx_k107p;

static char (__pyx_k106[]) = "mat3 division";
static char (__pyx_k107[]) = "unsupported operand type for /";

static PyObject *__pyx_f_7cgtypes_4mat3___div__(PyObject *__pyx_v_a, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4mat3___div__[] = "Division.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat3___div__(PyObject *__pyx_v_a, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_res;
  double __pyx_v_r;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_a), __pyx_ptype_7cgtypes_mat3, 1, "a")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1771; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1777 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1777; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1777; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_b);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1777; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1779 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1779; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1779; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1779; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1779; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1779; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1779; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1781 */
    __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1781; goto __pyx_L1;}
    __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1781; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1781; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_res));
    ((PyObject *)__pyx_v_res) = __pyx_2;
    __pyx_2 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1782 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_b); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1782; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1783 */
    __pyx_4 = (fabs(__pyx_v_r) <= __pyx_v_7cgtypes_eps);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1784 */
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1784; goto __pyx_L1;}
      __Pyx_Raise(__pyx_3, __pyx_k106p, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1784; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1785 */
    __pyx_v_res->m11 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m11 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1786 */
    __pyx_v_res->m12 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m12 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1787 */
    __pyx_v_res->m13 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m13 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1788 */
    __pyx_v_res->m21 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m21 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1789 */
    __pyx_v_res->m22 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m22 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1790 */
    __pyx_v_res->m23 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m23 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1791 */
    __pyx_v_res->m31 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m31 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1792 */
    __pyx_v_res->m32 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m32 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1793 */
    __pyx_v_res->m33 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_a)->m33 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1794 */
    Py_INCREF(((PyObject *)__pyx_v_res));
    __pyx_r = ((PyObject *)__pyx_v_res);
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1796 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1796; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k107p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1796; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat3.__div__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_k108p;
static PyObject *__pyx_k109p;
static PyObject *__pyx_k110p;

static char (__pyx_k108[]) = "mat3 modulo";
static char (__pyx_k109[]) = "mat3 modulo";
static char (__pyx_k110[]) = "unsupported operand type for %";

static PyObject *__pyx_f_7cgtypes_4mat3___mod__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4mat3___mod__[] = "Modulo.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat3___mod__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_mb;
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_res;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_v_r;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  ((PyObject*)__pyx_v_mb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_mb));
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);
  __pyx_v_r = Py_None; Py_INCREF(__pyx_v_r);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_self), __pyx_ptype_7cgtypes_mat3, 1, "self")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1798; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1803 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1803; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1803; goto __pyx_L1;}
  Py_INCREF(__pyx_v_other);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_other);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1803; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1805 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1805; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1805; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1805; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1805; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1805; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1805; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1806 */
    Py_INCREF(__pyx_v_other);
    Py_DECREF(__pyx_v_r);
    __pyx_v_r = __pyx_v_other;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1807 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1807; goto __pyx_L1;}
    __pyx_4 = (fabs(__pyx_5) <= __pyx_v_7cgtypes_eps);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1808 */
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1808; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_k108p, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1808; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1809 */
    __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1809; goto __pyx_L1;}
    __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat3), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1809; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1809; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_res));
    ((PyObject *)__pyx_v_res) = __pyx_3;
    __pyx_3 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1810 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1810; goto __pyx_L1;}
    __pyx_v_res->m11 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1811 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1811; goto __pyx_L1;}
    __pyx_v_res->m12 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1812 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1812; goto __pyx_L1;}
    __pyx_v_res->m13 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1813 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1813; goto __pyx_L1;}
    __pyx_v_res->m21 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1814 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1814; goto __pyx_L1;}
    __pyx_v_res->m22 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1815 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1815; goto __pyx_L1;}
    __pyx_v_res->m23 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1816 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1816; goto __pyx_L1;}
    __pyx_v_res->m31 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1817 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1817; goto __pyx_L1;}
    __pyx_v_res->m32 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1818 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1818; goto __pyx_L1;}
    __pyx_v_res->m33 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1819 */
    Py_INCREF(((PyObject *)__pyx_v_res));
    __pyx_r = ((PyObject *)__pyx_v_res);
    goto __pyx_L0;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_mat3), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1821; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1822 */
    if (!__Pyx_TypeTest(__pyx_v_other, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1822; goto __pyx_L1;}
    Py_INCREF(__pyx_v_other);
    Py_DECREF(((PyObject *)__pyx_v_mb));
    ((PyObject *)__pyx_v_mb) = __pyx_v_other;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1824 */
    __pyx_4 = (fabs(__pyx_v_mb->m11) <= __pyx_v_7cgtypes_eps);
    if (!__pyx_4) {
      __pyx_4 = (fabs(__pyx_v_mb->m12) <= __pyx_v_7cgtypes_eps);
      if (!__pyx_4) {
        __pyx_4 = (fabs(__pyx_v_mb->m13) <= __pyx_v_7cgtypes_eps);
        if (!__pyx_4) {
          __pyx_4 = (fabs(__pyx_v_mb->m21) <= __pyx_v_7cgtypes_eps);
          if (!__pyx_4) {
            __pyx_4 = (fabs(__pyx_v_mb->m22) <= __pyx_v_7cgtypes_eps);
            if (!__pyx_4) {
              __pyx_4 = (fabs(__pyx_v_mb->m23) <= __pyx_v_7cgtypes_eps);
              if (!__pyx_4) {
                __pyx_4 = (fabs(__pyx_v_mb->m31) <= __pyx_v_7cgtypes_eps);
                if (!__pyx_4) {
                  __pyx_4 = (fabs(__pyx_v_mb->m32) <= __pyx_v_7cgtypes_eps);
                  if (!__pyx_4) {
                    __pyx_4 = (fabs(__pyx_v_mb->m33) <= __pyx_v_7cgtypes_eps);
                  }
                }
              }
            }
          }
        }
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1827 */
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1827; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_k109p, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1827; goto __pyx_L1;}
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1829 */
    __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1829; goto __pyx_L1;}
    __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat3), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1829; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1829; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_res));
    ((PyObject *)__pyx_v_res) = __pyx_3;
    __pyx_3 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1830 */
    __pyx_v_res->m11 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11,__pyx_v_mb->m11);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1831 */
    __pyx_v_res->m12 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12,__pyx_v_mb->m12);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1832 */
    __pyx_v_res->m13 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13,__pyx_v_mb->m13);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1833 */
    __pyx_v_res->m21 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21,__pyx_v_mb->m21);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1834 */
    __pyx_v_res->m22 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22,__pyx_v_mb->m22);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1835 */
    __pyx_v_res->m23 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23,__pyx_v_mb->m23);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1836 */
    __pyx_v_res->m31 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31,__pyx_v_mb->m31);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1837 */
    __pyx_v_res->m32 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32,__pyx_v_mb->m32);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1838 */
    __pyx_v_res->m33 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33,__pyx_v_mb->m33);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1839 */
    Py_INCREF(((PyObject *)__pyx_v_res));
    __pyx_r = ((PyObject *)__pyx_v_res);
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1842 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1842; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k110p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1842; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat3.__mod__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_mb);
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_r);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat3___neg__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_7cgtypes_4mat3___neg__[] = "Negation.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat3___neg__(PyObject *__pyx_v_self) {
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1849 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1849; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1849; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1849; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1850 */
  __pyx_v_res->m11 = (-((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1851 */
  __pyx_v_res->m12 = (-((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1852 */
  __pyx_v_res->m13 = (-((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1853 */
  __pyx_v_res->m21 = (-((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1854 */
  __pyx_v_res->m22 = (-((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1855 */
  __pyx_v_res->m23 = (-((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1856 */
  __pyx_v_res->m31 = (-((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1857 */
  __pyx_v_res->m32 = (-((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1858 */
  __pyx_v_res->m33 = (-((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1859 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.mat3.__neg__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat3___pos__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_4mat3___pos__(PyObject *__pyx_v_self) {
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1863 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1863; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1863; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1863; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1864 */
  __pyx_v_res->m11 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1865 */
  __pyx_v_res->m12 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1866 */
  __pyx_v_res->m13 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1867 */
  __pyx_v_res->m21 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1868 */
  __pyx_v_res->m22 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1869 */
  __pyx_v_res->m23 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1870 */
  __pyx_v_res->m31 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1871 */
  __pyx_v_res->m32 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1872 */
  __pyx_v_res->m33 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1873 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.mat3.__pos__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat3___iadd__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4mat3___iadd__[] = "Inline matrix addition.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat3___iadd__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  PyObject *__pyx_r;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_other), __pyx_ptype_7cgtypes_mat3, 1, "other")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1875; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1878 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 + ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_other)->m11);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1879 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 + ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_other)->m12);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1880 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 + ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_other)->m13);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1881 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 + ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_other)->m21);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1882 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 + ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_other)->m22);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1883 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 + ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_other)->m23);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1884 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 + ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_other)->m31);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1885 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 + ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_other)->m32);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1886 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 + ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_other)->m33);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1887 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.mat3.__iadd__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat3___isub__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4mat3___isub__[] = "Inline matrix subtraction.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat3___isub__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  PyObject *__pyx_r;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_other), __pyx_ptype_7cgtypes_mat3, 1, "other")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1889; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1892 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 - ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_other)->m11);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1893 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 - ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_other)->m12);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1894 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 - ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_other)->m13);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1895 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 - ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_other)->m21);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1896 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 - ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_other)->m22);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1897 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 - ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_other)->m23);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1898 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 - ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_other)->m31);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1899 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 - ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_other)->m32);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1900 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 - ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_other)->m33);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1901 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.mat3.__isub__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_k111p;

static char (__pyx_k111[]) = "unsupported operand type for *=";

static PyObject *__pyx_f_7cgtypes_4mat3___imul__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4mat3___imul__[] = "Inline multiplication (scalar or matrix).\n        ";
static PyObject *__pyx_f_7cgtypes_4mat3___imul__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  double __pyx_v_r;
  double __pyx_v_a;
  double __pyx_v_b;
  double __pyx_v_c;
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_mb;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  ((PyObject*)__pyx_v_mb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_mb));
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1909 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1909; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1909; goto __pyx_L1;}
  Py_INCREF(__pyx_v_other);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_other);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1909; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1910 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1910; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1910; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1910; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1910; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1910; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1910; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1911 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_other); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1911; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1912 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1913 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1914 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1915 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1916 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1917 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1918 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1919 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1920 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1921 */
    Py_INCREF(__pyx_v_self);
    __pyx_r = __pyx_v_self;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_mat3), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1922; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1923 */
    if (!__Pyx_TypeTest(__pyx_v_other, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1923; goto __pyx_L1;}
    Py_INCREF(__pyx_v_other);
    Py_DECREF(((PyObject *)__pyx_v_mb));
    ((PyObject *)__pyx_v_mb) = __pyx_v_other;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1924 */
    __pyx_v_a = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1925 */
    __pyx_v_b = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1926 */
    __pyx_v_c = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1927 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 = (((__pyx_v_a * __pyx_v_mb->m11) + (__pyx_v_b * __pyx_v_mb->m21)) + (__pyx_v_c * __pyx_v_mb->m31));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1928 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 = (((__pyx_v_a * __pyx_v_mb->m12) + (__pyx_v_b * __pyx_v_mb->m22)) + (__pyx_v_c * __pyx_v_mb->m32));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1929 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 = (((__pyx_v_a * __pyx_v_mb->m13) + (__pyx_v_b * __pyx_v_mb->m23)) + (__pyx_v_c * __pyx_v_mb->m33));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1930 */
    __pyx_v_a = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1931 */
    __pyx_v_b = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1932 */
    __pyx_v_c = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1933 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 = (((__pyx_v_a * __pyx_v_mb->m11) + (__pyx_v_b * __pyx_v_mb->m21)) + (__pyx_v_c * __pyx_v_mb->m31));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1934 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 = (((__pyx_v_a * __pyx_v_mb->m12) + (__pyx_v_b * __pyx_v_mb->m22)) + (__pyx_v_c * __pyx_v_mb->m32));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1935 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 = (((__pyx_v_a * __pyx_v_mb->m13) + (__pyx_v_b * __pyx_v_mb->m23)) + (__pyx_v_c * __pyx_v_mb->m33));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1936 */
    __pyx_v_a = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1937 */
    __pyx_v_b = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1938 */
    __pyx_v_c = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1939 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 = (((__pyx_v_a * __pyx_v_mb->m11) + (__pyx_v_b * __pyx_v_mb->m21)) + (__pyx_v_c * __pyx_v_mb->m31));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1940 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 = (((__pyx_v_a * __pyx_v_mb->m12) + (__pyx_v_b * __pyx_v_mb->m22)) + (__pyx_v_c * __pyx_v_mb->m32));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1941 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 = (((__pyx_v_a * __pyx_v_mb->m13) + (__pyx_v_b * __pyx_v_mb->m23)) + (__pyx_v_c * __pyx_v_mb->m33));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1942 */
    Py_INCREF(__pyx_v_self);
    __pyx_r = __pyx_v_self;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1944 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1944; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k111p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1944; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat3.__imul__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_mb);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_k112p;
static PyObject *__pyx_k113p;

static char (__pyx_k112[]) = "mat3 division";
static char (__pyx_k113[]) = "unsupported operand type for /=";

static PyObject *__pyx_f_7cgtypes_4mat3___idiv__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4mat3___idiv__[] = "Inline division with scalar.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat3___idiv__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  double __pyx_v_r;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1950 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1950; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1950; goto __pyx_L1;}
  Py_INCREF(__pyx_v_other);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_other);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1950; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1951 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1951; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1951; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1951; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1951; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1951; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1951; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1952 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_other); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1952; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1953 */
    __pyx_4 = (fabs(__pyx_v_r) <= __pyx_v_7cgtypes_eps);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1954 */
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1954; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_k112p, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1954; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1955 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1956 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1957 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1958 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1959 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1960 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1961 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1962 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1963 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1964 */
    Py_INCREF(__pyx_v_self);
    __pyx_r = __pyx_v_self;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1966 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1966; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k113p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1966; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat3.__idiv__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_k114p;
static PyObject *__pyx_k115p;
static PyObject *__pyx_k116p;

static char (__pyx_k114[]) = "mat3 modulo";
static char (__pyx_k115[]) = "mat3 modulo";
static char (__pyx_k116[]) = "unsupported operand type for %=";

static PyObject *__pyx_f_7cgtypes_4mat3___imod__(PyObject *__pyx_v_self, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4mat3___imod__[] = "Inline modulo.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat3___imod__(PyObject *__pyx_v_self, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_mb;
  double __pyx_v_r;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_mb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_mb));
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1974 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1974; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1974; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_b);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1974; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":1976 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1976; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1976; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1976; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1976; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1976; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1976; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1977 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_b); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1977; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1978 */
    __pyx_4 = (fabs(__pyx_v_r) <= __pyx_v_7cgtypes_eps);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1979 */
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1979; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_k114p, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1979; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1980 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1981 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1982 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1983 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1984 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1985 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1986 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1987 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1988 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1989 */
    Py_INCREF(__pyx_v_self);
    __pyx_r = __pyx_v_self;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_mat3), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1990; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1991 */
    if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1991; goto __pyx_L1;}
    Py_INCREF(__pyx_v_b);
    Py_DECREF(((PyObject *)__pyx_v_mb));
    ((PyObject *)__pyx_v_mb) = __pyx_v_b;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1992 */
    __pyx_4 = (fabs(__pyx_v_mb->m11) <= __pyx_v_7cgtypes_eps);
    if (!__pyx_4) {
      __pyx_4 = (fabs(__pyx_v_mb->m12) <= __pyx_v_7cgtypes_eps);
      if (!__pyx_4) {
        __pyx_4 = (fabs(__pyx_v_mb->m13) <= __pyx_v_7cgtypes_eps);
        if (!__pyx_4) {
          __pyx_4 = (fabs(__pyx_v_mb->m21) <= __pyx_v_7cgtypes_eps);
          if (!__pyx_4) {
            __pyx_4 = (fabs(__pyx_v_mb->m22) <= __pyx_v_7cgtypes_eps);
            if (!__pyx_4) {
              __pyx_4 = (fabs(__pyx_v_mb->m23) <= __pyx_v_7cgtypes_eps);
              if (!__pyx_4) {
                __pyx_4 = (fabs(__pyx_v_mb->m31) <= __pyx_v_7cgtypes_eps);
                if (!__pyx_4) {
                  __pyx_4 = (fabs(__pyx_v_mb->m32) <= __pyx_v_7cgtypes_eps);
                  if (!__pyx_4) {
                    __pyx_4 = (fabs(__pyx_v_mb->m33) <= __pyx_v_7cgtypes_eps);
                  }
                }
              }
            }
          }
        }
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":1995 */
      __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1995; goto __pyx_L1;}
      __Pyx_Raise(__pyx_2, __pyx_k115p, 0);
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1995; goto __pyx_L1;}
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1996 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11,__pyx_v_mb->m11);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1997 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12,__pyx_v_mb->m12);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1998 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13,__pyx_v_mb->m13);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":1999 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21,__pyx_v_mb->m21);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2000 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22,__pyx_v_mb->m22);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2001 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23,__pyx_v_mb->m23);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2002 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31,__pyx_v_mb->m31);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2003 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32,__pyx_v_mb->m32);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2004 */
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33,__pyx_v_mb->m33);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2005 */
    Py_INCREF(__pyx_v_self);
    __pyx_r = __pyx_v_self;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2007 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2007; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k116p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2007; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat3.__imod__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_mb);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static int __pyx_f_7cgtypes_4mat3___len__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_7cgtypes_4mat3___len__[] = "Length of the sequence (always 3).";
static int __pyx_f_7cgtypes_4mat3___len__(PyObject *__pyx_v_self) {
  int __pyx_r;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2012 */
  __pyx_r = 3;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.mat3.__len__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_tuple;

static PyObject *__pyx_k117p;
static PyObject *__pyx_k118p;
static PyObject *__pyx_k119p;
static PyObject *__pyx_k120p;

static char (__pyx_k117[]) = "index out of range";
static char (__pyx_k118[]) = "index tuple must be a 2-tuple";
static char (__pyx_k119[]) = "index out of range";
static char (__pyx_k120[]) = "index must be integer or 2-tuple";

static PyObject *__pyx_f_7cgtypes_4mat3___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key); /*proto*/
static char __pyx_doc_7cgtypes_4mat3___getitem__[] = "Return a column or a single matrix element.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat3___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key) {
  int __pyx_v_i;
  int __pyx_v_j;
  PyObject *__pyx_v_T;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_key);
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2019 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2019; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2019; goto __pyx_L1;}
  Py_INCREF(__pyx_v_key);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_key);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2019; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_T);
  __pyx_v_T = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2020 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2020; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2020; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2020; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2020; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2021 */
    __pyx_4 = PyInt_AsLong(__pyx_v_key); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2021; goto __pyx_L1;}
    __pyx_v_i = __pyx_4;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2022 */
    __pyx_4 = (__pyx_v_i == 0);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2023 */
      __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2023; goto __pyx_L1;}
      __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2023; goto __pyx_L1;}
      __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2023; goto __pyx_L1;}
      __pyx_5 = PyTuple_New(3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2023; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_5, 0, __pyx_3);
      PyTuple_SET_ITEM(__pyx_5, 1, __pyx_1);
      PyTuple_SET_ITEM(__pyx_5, 2, __pyx_2);
      __pyx_3 = 0;
      __pyx_1 = 0;
      __pyx_2 = 0;
      __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2023; goto __pyx_L1;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      __pyx_r = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L0;
      goto __pyx_L3;
    }
    __pyx_4 = (__pyx_v_i == 1);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2025 */
      __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2025; goto __pyx_L1;}
      __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2025; goto __pyx_L1;}
      __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2025; goto __pyx_L1;}
      __pyx_3 = PyTuple_New(3); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2025; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
      PyTuple_SET_ITEM(__pyx_3, 1, __pyx_2);
      PyTuple_SET_ITEM(__pyx_3, 2, __pyx_5);
      __pyx_1 = 0;
      __pyx_2 = 0;
      __pyx_5 = 0;
      __pyx_1 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2025; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_r = __pyx_1;
      __pyx_1 = 0;
      goto __pyx_L0;
      goto __pyx_L3;
    }
    __pyx_4 = (__pyx_v_i == 2);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2027 */
      __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2027; goto __pyx_L1;}
      __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2027; goto __pyx_L1;}
      __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2027; goto __pyx_L1;}
      __pyx_1 = PyTuple_New(3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2027; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
      PyTuple_SET_ITEM(__pyx_1, 1, __pyx_5);
      PyTuple_SET_ITEM(__pyx_1, 2, __pyx_3);
      __pyx_2 = 0;
      __pyx_5 = 0;
      __pyx_3 = 0;
      __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2027; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_r = __pyx_2;
      __pyx_2 = 0;
      goto __pyx_L0;
      goto __pyx_L3;
    }
    /*else*/ {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2029 */
      __pyx_5 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2029; goto __pyx_L1;}
      __Pyx_Raise(__pyx_5, __pyx_k117p, 0);
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2029; goto __pyx_L1;}
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_tuple); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2030; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_T, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2030; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2031 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2031; goto __pyx_L1;}
    __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2031; goto __pyx_L1;}
    Py_INCREF(__pyx_v_key);
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_key);
    __pyx_5 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2031; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2031; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_5, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2031; goto __pyx_L1;}
    __pyx_4 = __pyx_4 != 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2032 */
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2032; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_k118p, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2032; goto __pyx_L1;}
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2033 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2033; goto __pyx_L1;}
    __pyx_5 = PyObject_GetItem(__pyx_v_key, __pyx_2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2033; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_4 = PyInt_AsLong(__pyx_5); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2033; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_v_i = __pyx_4;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2034 */
    __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2034; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_key, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2034; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_4 = PyInt_AsLong(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2034; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_v_j = __pyx_4;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2035 */
    __pyx_4 = (__pyx_v_i < 0);
    if (!__pyx_4) {
      __pyx_4 = (__pyx_v_i > 2);
      if (!__pyx_4) {
        __pyx_4 = (__pyx_v_j < 0);
        if (!__pyx_4) {
          __pyx_4 = (__pyx_v_j > 2);
        }
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2036 */
      __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2036; goto __pyx_L1;}
      __Pyx_Raise(__pyx_2, __pyx_k119p, 0);
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2036; goto __pyx_L1;}
      goto __pyx_L5;
    }
    __pyx_L5:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2038 */
    __pyx_4 = (__pyx_v_i == 0);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2039 */
      __pyx_4 = (__pyx_v_j == 0);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2040 */
        __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2040; goto __pyx_L1;}
        __pyx_r = __pyx_5;
        __pyx_5 = 0;
        goto __pyx_L0;
        goto __pyx_L7;
      }
      __pyx_4 = (__pyx_v_j == 1);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2042 */
        __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2042; goto __pyx_L1;}
        __pyx_r = __pyx_3;
        __pyx_3 = 0;
        goto __pyx_L0;
        goto __pyx_L7;
      }
      __pyx_4 = (__pyx_v_j == 2);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2044 */
        __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2044; goto __pyx_L1;}
        __pyx_r = __pyx_1;
        __pyx_1 = 0;
        goto __pyx_L0;
        goto __pyx_L7;
      }
      __pyx_L7:;
      goto __pyx_L6;
    }
    __pyx_4 = (__pyx_v_i == 1);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2046 */
      __pyx_4 = (__pyx_v_j == 0);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2047 */
        __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2047; goto __pyx_L1;}
        __pyx_r = __pyx_2;
        __pyx_2 = 0;
        goto __pyx_L0;
        goto __pyx_L8;
      }
      __pyx_4 = (__pyx_v_j == 1);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2049 */
        __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2049; goto __pyx_L1;}
        __pyx_r = __pyx_5;
        __pyx_5 = 0;
        goto __pyx_L0;
        goto __pyx_L8;
      }
      __pyx_4 = (__pyx_v_j == 2);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2051 */
        __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2051; goto __pyx_L1;}
        __pyx_r = __pyx_3;
        __pyx_3 = 0;
        goto __pyx_L0;
        goto __pyx_L8;
      }
      __pyx_L8:;
      goto __pyx_L6;
    }
    __pyx_4 = (__pyx_v_i == 2);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2053 */
      __pyx_4 = (__pyx_v_j == 0);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2054 */
        __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2054; goto __pyx_L1;}
        __pyx_r = __pyx_1;
        __pyx_1 = 0;
        goto __pyx_L0;
        goto __pyx_L9;
      }
      __pyx_4 = (__pyx_v_j == 1);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2056 */
        __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2056; goto __pyx_L1;}
        __pyx_r = __pyx_2;
        __pyx_2 = 0;
        goto __pyx_L0;
        goto __pyx_L9;
      }
      __pyx_4 = (__pyx_v_j == 2);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2058 */
        __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2058; goto __pyx_L1;}
        __pyx_r = __pyx_5;
        __pyx_5 = 0;
        goto __pyx_L0;
        goto __pyx_L9;
      }
      __pyx_L9:;
      goto __pyx_L6;
    }
    __pyx_L6:;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2060 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2060; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k120p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2060; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("cgtypes.mat3.__getitem__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_key);
  return __pyx_r;
}

static PyObject *__pyx_k121p;
static PyObject *__pyx_k122p;
static PyObject *__pyx_k123p;
static PyObject *__pyx_k124p;
static PyObject *__pyx_k125p;

static char (__pyx_k121[]) = "3-sequence expected";
static char (__pyx_k122[]) = "index out of range";
static char (__pyx_k123[]) = "index tuple must be a 2-tuple";
static char (__pyx_k124[]) = "index out of range";
static char (__pyx_k125[]) = "index must be integer or 2-tuple";

static int __pyx_f_7cgtypes_4mat3___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key, PyObject *__pyx_v_value); /*proto*/
static char __pyx_doc_7cgtypes_4mat3___setitem__[] = "Set a column or a single matrix element.\n\n        The column must be given as a 3-sequence (this includes vec3 as well).\n        ";
static int __pyx_f_7cgtypes_4mat3___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key, PyObject *__pyx_v_value) {
  int __pyx_v_i;
  int __pyx_v_j;
  double __pyx_v_v;
  PyObject *__pyx_v_T;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_key);
  Py_INCREF(__pyx_v_value);
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2070 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2070; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2070; goto __pyx_L1;}
  Py_INCREF(__pyx_v_key);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_key);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2070; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_T);
  __pyx_v_T = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2071 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2071; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2071; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2071; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2071; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2072 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2072; goto __pyx_L1;}
    __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2072; goto __pyx_L1;}
    Py_INCREF(__pyx_v_value);
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_value);
    __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2072; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_3 = PyInt_FromLong(3); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2072; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_2, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2072; goto __pyx_L1;}
    __pyx_4 = __pyx_4 != 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2073 */
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2073; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_k121p, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2073; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2074 */
    __pyx_4 = PyInt_AsLong(__pyx_v_key); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2074; goto __pyx_L1;}
    __pyx_v_i = __pyx_4;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2075 */
    __pyx_4 = (__pyx_v_i == 0);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2076 */
      __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2076; goto __pyx_L1;}
      __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2076; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2076; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2077 */
      __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2077; goto __pyx_L1;}
      __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2077; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2077; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2078 */
      __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2078; goto __pyx_L1;}
      __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2078; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2078; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 = __pyx_5;
      goto __pyx_L4;
    }
    __pyx_4 = (__pyx_v_i == 1);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2080 */
      __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2080; goto __pyx_L1;}
      __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2080; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2080; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2081 */
      __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2081; goto __pyx_L1;}
      __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2081; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2081; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2082 */
      __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2082; goto __pyx_L1;}
      __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2082; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2082; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 = __pyx_5;
      goto __pyx_L4;
    }
    __pyx_4 = (__pyx_v_i == 2);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2084 */
      __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2084; goto __pyx_L1;}
      __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2084; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2084; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2085 */
      __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2085; goto __pyx_L1;}
      __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2085; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2085; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2086 */
      __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2086; goto __pyx_L1;}
      __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2086; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2086; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 = __pyx_5;
      goto __pyx_L4;
    }
    /*else*/ {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2088 */
      __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2088; goto __pyx_L1;}
      __Pyx_Raise(__pyx_2, __pyx_k122p, 0);
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2088; goto __pyx_L1;}
    }
    __pyx_L4:;
    goto __pyx_L2;
  }
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_tuple); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2089; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_T, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2089; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2090 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2090; goto __pyx_L1;}
    __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2090; goto __pyx_L1;}
    Py_INCREF(__pyx_v_key);
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_key);
    __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2090; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2090; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_3, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2090; goto __pyx_L1;}
    __pyx_4 = __pyx_4 != 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2091 */
      __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2091; goto __pyx_L1;}
      __Pyx_Raise(__pyx_2, __pyx_k123p, 0);
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2091; goto __pyx_L1;}
      goto __pyx_L5;
    }
    __pyx_L5:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2092 */
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2092; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_key, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2092; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_4 = PyInt_AsLong(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2092; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_v_i = __pyx_4;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2093 */
    __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2093; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_key, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2093; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_4 = PyInt_AsLong(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2093; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_v_j = __pyx_4;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2094 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_value); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2094; goto __pyx_L1;}
    __pyx_v_v = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2095 */
    __pyx_4 = (__pyx_v_i < 0);
    if (!__pyx_4) {
      __pyx_4 = (__pyx_v_i > 2);
      if (!__pyx_4) {
        __pyx_4 = (__pyx_v_j < 0);
        if (!__pyx_4) {
          __pyx_4 = (__pyx_v_j > 2);
        }
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2096 */
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2096; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_k124p, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2096; goto __pyx_L1;}
      goto __pyx_L6;
    }
    __pyx_L6:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2098 */
    __pyx_4 = (__pyx_v_i == 0);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2099 */
      __pyx_4 = (__pyx_v_j == 0);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2100 */
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 = __pyx_v_v;
        goto __pyx_L8;
      }
      __pyx_4 = (__pyx_v_j == 1);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2102 */
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 = __pyx_v_v;
        goto __pyx_L8;
      }
      __pyx_4 = (__pyx_v_j == 2);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2104 */
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 = __pyx_v_v;
        goto __pyx_L8;
      }
      __pyx_L8:;
      goto __pyx_L7;
    }
    __pyx_4 = (__pyx_v_i == 1);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2106 */
      __pyx_4 = (__pyx_v_j == 0);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2107 */
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 = __pyx_v_v;
        goto __pyx_L9;
      }
      __pyx_4 = (__pyx_v_j == 1);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2109 */
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 = __pyx_v_v;
        goto __pyx_L9;
      }
      __pyx_4 = (__pyx_v_j == 2);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2111 */
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 = __pyx_v_v;
        goto __pyx_L9;
      }
      __pyx_L9:;
      goto __pyx_L7;
    }
    __pyx_4 = (__pyx_v_i == 2);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2113 */
      __pyx_4 = (__pyx_v_j == 0);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2114 */
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 = __pyx_v_v;
        goto __pyx_L10;
      }
      __pyx_4 = (__pyx_v_j == 1);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2116 */
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 = __pyx_v_v;
        goto __pyx_L10;
      }
      __pyx_4 = (__pyx_v_j == 2);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2118 */
        ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 = __pyx_v_v;
        goto __pyx_L10;
      }
      __pyx_L10:;
      goto __pyx_L7;
    }
    __pyx_L7:;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2120 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2120; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k125p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2120; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat3.__setitem__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_key);
  Py_DECREF(__pyx_v_value);
  return __pyx_r;
}

static PyObject *__pyx_k126p;
static PyObject *__pyx_k127p;

static char (__pyx_k126[]) = "index must be integer";
static char (__pyx_k127[]) = "index out of range";

static PyObject *__pyx_f_7cgtypes_4mat3_getRow(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat3_getRow[] = "Return row (as vec3).";
static PyObject *__pyx_f_7cgtypes_4mat3_getRow(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_idx = 0;
  int __pyx_v_i;
  PyObject *__pyx_v_T;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"idx",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_idx)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_idx);
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2126 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2126; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2126; goto __pyx_L1;}
  Py_INCREF(__pyx_v_idx);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_idx);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2126; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_T);
  __pyx_v_T = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2127 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2127; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2127; goto __pyx_L1;}
  __pyx_4 = __pyx_4 != 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2127; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2127; goto __pyx_L1;}
    __pyx_4 = __pyx_4 != 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2128 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2128; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k126p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2128; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2130 */
  __pyx_4 = PyInt_AsLong(__pyx_v_idx); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2130; goto __pyx_L1;}
  __pyx_v_i = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2131 */
  __pyx_4 = (__pyx_v_i == 0);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2132 */
    __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2132; goto __pyx_L1;}
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2132; goto __pyx_L1;}
    __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2132; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2132; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_1);
    PyTuple_SET_ITEM(__pyx_5, 1, __pyx_2);
    PyTuple_SET_ITEM(__pyx_5, 2, __pyx_3);
    __pyx_1 = 0;
    __pyx_2 = 0;
    __pyx_3 = 0;
    __pyx_1 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_5); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2132; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_r = __pyx_1;
    __pyx_1 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_4 = (__pyx_v_i == 1);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2134 */
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2134; goto __pyx_L1;}
    __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2134; goto __pyx_L1;}
    __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2134; goto __pyx_L1;}
    __pyx_1 = PyTuple_New(3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2134; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
    PyTuple_SET_ITEM(__pyx_1, 1, __pyx_3);
    PyTuple_SET_ITEM(__pyx_1, 2, __pyx_5);
    __pyx_2 = 0;
    __pyx_3 = 0;
    __pyx_5 = 0;
    __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2134; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_4 = (__pyx_v_i == 2);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2136 */
    __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2136; goto __pyx_L1;}
    __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2136; goto __pyx_L1;}
    __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2136; goto __pyx_L1;}
    __pyx_2 = PyTuple_New(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2136; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
    PyTuple_SET_ITEM(__pyx_2, 1, __pyx_5);
    PyTuple_SET_ITEM(__pyx_2, 2, __pyx_1);
    __pyx_3 = 0;
    __pyx_5 = 0;
    __pyx_1 = 0;
    __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2136; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2138 */
    __pyx_5 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2138; goto __pyx_L1;}
    __Pyx_Raise(__pyx_5, __pyx_k127p, 0);
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2138; goto __pyx_L1;}
  }
  __pyx_L3:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("cgtypes.mat3.getRow");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_idx);
  return __pyx_r;
}

static PyObject *__pyx_k128p;
static PyObject *__pyx_k129p;
static PyObject *__pyx_k130p;

static char (__pyx_k128[]) = "index must be integer";
static char (__pyx_k129[]) = "3-sequence expected";
static char (__pyx_k130[]) = "index out of range";

static PyObject *__pyx_f_7cgtypes_4mat3_setRow(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat3_setRow[] = "Set row.";
static PyObject *__pyx_f_7cgtypes_4mat3_setRow(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_idx = 0;
  PyObject *__pyx_v_value = 0;
  int __pyx_v_i;
  PyObject *__pyx_v_T;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  static char *__pyx_argnames[] = {"idx","value",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_idx, &__pyx_v_value)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_idx);
  Py_INCREF(__pyx_v_value);
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2144 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2144; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2144; goto __pyx_L1;}
  Py_INCREF(__pyx_v_idx);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_idx);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2144; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_T);
  __pyx_v_T = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2145 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2145; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2145; goto __pyx_L1;}
  __pyx_4 = __pyx_4 != 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2145; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2145; goto __pyx_L1;}
    __pyx_4 = __pyx_4 != 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2146 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2146; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k128p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2146; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2148 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2148; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2148; goto __pyx_L1;}
  Py_INCREF(__pyx_v_value);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_value);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2148; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = PyInt_FromLong(3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2148; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_3, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2148; goto __pyx_L1;}
  __pyx_4 = __pyx_4 != 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2149 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2149; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k129p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2149; goto __pyx_L1;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2151 */
  __pyx_4 = PyInt_AsLong(__pyx_v_idx); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2151; goto __pyx_L1;}
  __pyx_v_i = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2152 */
  __pyx_4 = (__pyx_v_i == 0);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2153 */
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2153; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2153; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2153; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2154 */
    __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2154; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2154; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2154; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2155 */
    __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2155; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2155; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2155; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 = __pyx_5;
    goto __pyx_L4;
  }
  __pyx_4 = (__pyx_v_i == 1);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2157 */
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2157; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2157; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2157; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2158 */
    __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2158; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2158; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2158; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2159 */
    __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2159; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2159; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2159; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 = __pyx_5;
    goto __pyx_L4;
  }
  __pyx_4 = (__pyx_v_i == 2);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2161 */
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2161; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2161; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2161; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2162 */
    __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2162; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2162; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2162; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2163 */
    __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2163; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2163; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2163; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 = __pyx_5;
    goto __pyx_L4;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2165 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2165; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k130p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2165; goto __pyx_L1;}
  }
  __pyx_L4:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat3.setRow");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_idx);
  Py_DECREF(__pyx_v_value);
  return __pyx_r;
}

static PyObject *__pyx_k131p;
static PyObject *__pyx_k132p;

static char (__pyx_k131[]) = "index must be integer";
static char (__pyx_k132[]) = "index out of range";

static PyObject *__pyx_f_7cgtypes_4mat3_getColumn(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat3_getColumn[] = "Return column (as vec3).";
static PyObject *__pyx_f_7cgtypes_4mat3_getColumn(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_idx = 0;
  int __pyx_v_i;
  PyObject *__pyx_v_T;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"idx",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_idx)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_idx);
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2172 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2172; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2172; goto __pyx_L1;}
  Py_INCREF(__pyx_v_idx);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_idx);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2172; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_T);
  __pyx_v_T = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2173 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2173; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2173; goto __pyx_L1;}
  __pyx_4 = __pyx_4 != 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2173; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2173; goto __pyx_L1;}
    __pyx_4 = __pyx_4 != 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2174 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2174; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k131p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2174; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2176 */
  __pyx_4 = PyInt_AsLong(__pyx_v_idx); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2176; goto __pyx_L1;}
  __pyx_v_i = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2177 */
  __pyx_4 = (__pyx_v_i == 0);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2178 */
    __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2178; goto __pyx_L1;}
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2178; goto __pyx_L1;}
    __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2178; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2178; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_1);
    PyTuple_SET_ITEM(__pyx_5, 1, __pyx_2);
    PyTuple_SET_ITEM(__pyx_5, 2, __pyx_3);
    __pyx_1 = 0;
    __pyx_2 = 0;
    __pyx_3 = 0;
    __pyx_1 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_5); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2178; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_r = __pyx_1;
    __pyx_1 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_4 = (__pyx_v_i == 1);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2180 */
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2180; goto __pyx_L1;}
    __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2180; goto __pyx_L1;}
    __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2180; goto __pyx_L1;}
    __pyx_1 = PyTuple_New(3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2180; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
    PyTuple_SET_ITEM(__pyx_1, 1, __pyx_3);
    PyTuple_SET_ITEM(__pyx_1, 2, __pyx_5);
    __pyx_2 = 0;
    __pyx_3 = 0;
    __pyx_5 = 0;
    __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2180; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_4 = (__pyx_v_i == 2);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2182 */
    __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2182; goto __pyx_L1;}
    __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2182; goto __pyx_L1;}
    __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2182; goto __pyx_L1;}
    __pyx_2 = PyTuple_New(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2182; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
    PyTuple_SET_ITEM(__pyx_2, 1, __pyx_5);
    PyTuple_SET_ITEM(__pyx_2, 2, __pyx_1);
    __pyx_3 = 0;
    __pyx_5 = 0;
    __pyx_1 = 0;
    __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2182; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2184 */
    __pyx_5 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2184; goto __pyx_L1;}
    __Pyx_Raise(__pyx_5, __pyx_k132p, 0);
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2184; goto __pyx_L1;}
  }
  __pyx_L3:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("cgtypes.mat3.getColumn");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_idx);
  return __pyx_r;
}

static PyObject *__pyx_k133p;
static PyObject *__pyx_k134p;
static PyObject *__pyx_k135p;

static char (__pyx_k133[]) = "index must be integer";
static char (__pyx_k134[]) = "3-sequence expected";
static char (__pyx_k135[]) = "index out of range";

static PyObject *__pyx_f_7cgtypes_4mat3_setColumn(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat3_setColumn[] = "Set column.";
static PyObject *__pyx_f_7cgtypes_4mat3_setColumn(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_idx = 0;
  PyObject *__pyx_v_value = 0;
  int __pyx_v_i;
  PyObject *__pyx_v_T;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  static char *__pyx_argnames[] = {"idx","value",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_idx, &__pyx_v_value)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_idx);
  Py_INCREF(__pyx_v_value);
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2190 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2190; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2190; goto __pyx_L1;}
  Py_INCREF(__pyx_v_idx);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_idx);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2190; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_T);
  __pyx_v_T = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2191 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2191; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2191; goto __pyx_L1;}
  __pyx_4 = __pyx_4 != 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2191; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2191; goto __pyx_L1;}
    __pyx_4 = __pyx_4 != 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2192 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2192; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k133p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2192; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2194 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2194; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2194; goto __pyx_L1;}
  Py_INCREF(__pyx_v_value);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_value);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2194; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = PyInt_FromLong(3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2194; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_3, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2194; goto __pyx_L1;}
  __pyx_4 = __pyx_4 != 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2195 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2195; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k134p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2195; goto __pyx_L1;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2197 */
  __pyx_4 = PyInt_AsLong(__pyx_v_idx); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2197; goto __pyx_L1;}
  __pyx_v_i = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2198 */
  __pyx_4 = (__pyx_v_i == 0);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2199 */
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2199; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2199; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2199; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2200 */
    __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2200; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2200; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2200; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2201 */
    __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2201; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2201; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2201; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 = __pyx_5;
    goto __pyx_L4;
  }
  __pyx_4 = (__pyx_v_i == 1);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2203 */
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2203; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2203; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2203; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2204 */
    __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2204; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2204; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2204; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2205 */
    __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2205; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2205; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2205; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 = __pyx_5;
    goto __pyx_L4;
  }
  __pyx_4 = (__pyx_v_i == 2);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2207 */
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2207; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2207; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2207; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2208 */
    __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2208; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2208; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2208; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2209 */
    __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2209; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2209; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2209; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 = __pyx_5;
    goto __pyx_L4;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2211 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2211; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k135p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2211; goto __pyx_L1;}
  }
  __pyx_L4:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat3.setColumn");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_idx);
  Py_DECREF(__pyx_v_value);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat3_toList(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat3_toList[] = "Return a list containing the matrix elements.\n\n        By default the list is in column-major order. If you set the\n        optional argument rowmajor to 1, you\'ll get the list in row-major\n        order.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat3_toList(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_rowmajor = 0;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  PyObject *__pyx_7 = 0;
  PyObject *__pyx_8 = 0;
  PyObject *__pyx_9 = 0;
  PyObject *__pyx_10 = 0;
  PyObject *__pyx_11 = 0;
  static char *__pyx_argnames[] = {"rowmajor",0};
  __pyx_v_rowmajor = __pyx_k1;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "|O", __pyx_argnames, &__pyx_v_rowmajor)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rowmajor);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2221 */
  __pyx_1 = PyObject_IsTrue(__pyx_v_rowmajor); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2221; goto __pyx_L1;}
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2222 */
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2222; goto __pyx_L1;}
    __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2222; goto __pyx_L1;}
    __pyx_4 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2222; goto __pyx_L1;}
    __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2223; goto __pyx_L1;}
    __pyx_6 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2223; goto __pyx_L1;}
    __pyx_7 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23); if (!__pyx_7) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2223; goto __pyx_L1;}
    __pyx_8 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31); if (!__pyx_8) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2224; goto __pyx_L1;}
    __pyx_9 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32); if (!__pyx_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2224; goto __pyx_L1;}
    __pyx_10 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33); if (!__pyx_10) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2224; goto __pyx_L1;}
    __pyx_11 = PyList_New(9); if (!__pyx_11) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2222; goto __pyx_L1;}
    PyList_SET_ITEM(__pyx_11, 0, __pyx_2);
    PyList_SET_ITEM(__pyx_11, 1, __pyx_3);
    PyList_SET_ITEM(__pyx_11, 2, __pyx_4);
    PyList_SET_ITEM(__pyx_11, 3, __pyx_5);
    PyList_SET_ITEM(__pyx_11, 4, __pyx_6);
    PyList_SET_ITEM(__pyx_11, 5, __pyx_7);
    PyList_SET_ITEM(__pyx_11, 6, __pyx_8);
    PyList_SET_ITEM(__pyx_11, 7, __pyx_9);
    PyList_SET_ITEM(__pyx_11, 8, __pyx_10);
    __pyx_2 = 0;
    __pyx_3 = 0;
    __pyx_4 = 0;
    __pyx_5 = 0;
    __pyx_6 = 0;
    __pyx_7 = 0;
    __pyx_8 = 0;
    __pyx_9 = 0;
    __pyx_10 = 0;
    __pyx_r = __pyx_11;
    __pyx_11 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2226 */
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2226; goto __pyx_L1;}
    __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2226; goto __pyx_L1;}
    __pyx_4 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2226; goto __pyx_L1;}
    __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2227; goto __pyx_L1;}
    __pyx_6 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2227; goto __pyx_L1;}
    __pyx_7 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32); if (!__pyx_7) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2227; goto __pyx_L1;}
    __pyx_8 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13); if (!__pyx_8) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2228; goto __pyx_L1;}
    __pyx_9 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23); if (!__pyx_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2228; goto __pyx_L1;}
    __pyx_10 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33); if (!__pyx_10) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2228; goto __pyx_L1;}
    __pyx_11 = PyList_New(9); if (!__pyx_11) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2226; goto __pyx_L1;}
    PyList_SET_ITEM(__pyx_11, 0, __pyx_2);
    PyList_SET_ITEM(__pyx_11, 1, __pyx_3);
    PyList_SET_ITEM(__pyx_11, 2, __pyx_4);
    PyList_SET_ITEM(__pyx_11, 3, __pyx_5);
    PyList_SET_ITEM(__pyx_11, 4, __pyx_6);
    PyList_SET_ITEM(__pyx_11, 5, __pyx_7);
    PyList_SET_ITEM(__pyx_11, 6, __pyx_8);
    PyList_SET_ITEM(__pyx_11, 7, __pyx_9);
    PyList_SET_ITEM(__pyx_11, 8, __pyx_10);
    __pyx_2 = 0;
    __pyx_3 = 0;
    __pyx_4 = 0;
    __pyx_5 = 0;
    __pyx_6 = 0;
    __pyx_7 = 0;
    __pyx_8 = 0;
    __pyx_9 = 0;
    __pyx_10 = 0;
    __pyx_r = __pyx_11;
    __pyx_11 = 0;
    goto __pyx_L0;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  Py_XDECREF(__pyx_7);
  Py_XDECREF(__pyx_8);
  Py_XDECREF(__pyx_9);
  Py_XDECREF(__pyx_10);
  Py_XDECREF(__pyx_11);
  __Pyx_AddTraceback("cgtypes.mat3.toList");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rowmajor);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat3_identity(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat3_identity[] = "Return identity matrix.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat3_identity(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2235 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2235; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2235; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2235; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2236 */
  __pyx_v_res->m11 = 1.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2237 */
  __pyx_v_res->m12 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2238 */
  __pyx_v_res->m13 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2239 */
  __pyx_v_res->m21 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2240 */
  __pyx_v_res->m22 = 1.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2241 */
  __pyx_v_res->m23 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2242 */
  __pyx_v_res->m31 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2243 */
  __pyx_v_res->m32 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2244 */
  __pyx_v_res->m33 = 1.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2245 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.mat3.identity");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat3_transpose(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat3_transpose[] = "Return transpose matrix.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat3_transpose(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2251 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2251; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2251; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2251; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2252 */
  __pyx_v_res->m11 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2253 */
  __pyx_v_res->m12 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2254 */
  __pyx_v_res->m13 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2255 */
  __pyx_v_res->m21 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2256 */
  __pyx_v_res->m22 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2257 */
  __pyx_v_res->m23 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2258 */
  __pyx_v_res->m31 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2259 */
  __pyx_v_res->m32 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2260 */
  __pyx_v_res->m33 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2261 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.mat3.transpose");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat3_determinant(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat3_determinant[] = "Return determinant.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat3_determinant(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2266 */
  __pyx_1 = PyFloat_FromDouble((((((((((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22) * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33) + ((((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23) * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31)) + ((((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21) * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32)) - ((((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22) * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13)) - ((((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23) * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11)) - ((((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21) * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12))); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2270; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("cgtypes.mat3.determinant");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_determinant;

static PyObject *__pyx_k136p;

static char (__pyx_k136[]) = "matrix is not invertible";

static PyObject *__pyx_f_7cgtypes_4mat3_inverse(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat3_inverse[] = "Return inverse matrix.";
static PyObject *__pyx_f_7cgtypes_4mat3_inverse(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_res;
  double __pyx_v_d;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  double __pyx_4;
  int __pyx_5;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2278 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_determinant); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2278; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2278; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2278; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_4 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2278; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_v_d = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2279 */
  __pyx_5 = (fabs(__pyx_v_d) <= __pyx_v_7cgtypes_eps);
  if (__pyx_5) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2280 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2280; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k136p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2280; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2282 */
  __pyx_v_d = (1.0 / __pyx_v_d);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2284 */
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2284; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat3), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2284; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2284; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2285 */
  __pyx_v_res->m11 = (__pyx_v_d * ((((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33) - (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2286 */
  __pyx_v_res->m12 = (__pyx_v_d * ((((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13) - (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2287 */
  __pyx_v_res->m13 = (__pyx_v_d * ((((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23) - (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2288 */
  __pyx_v_res->m21 = (__pyx_v_d * ((((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31) - (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2289 */
  __pyx_v_res->m22 = (__pyx_v_d * ((((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33) - (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2290 */
  __pyx_v_res->m23 = (__pyx_v_d * ((((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13) - (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2291 */
  __pyx_v_res->m31 = (__pyx_v_d * ((((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32) - (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2292 */
  __pyx_v_res->m32 = (__pyx_v_d * ((((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12) - (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2293 */
  __pyx_v_res->m33 = (__pyx_v_d * ((((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22) - (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 * ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2294 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat3.inverse");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat3_scaling(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat3_scaling[] = "Return scaling matrix.";
static PyObject *__pyx_f_7cgtypes_4mat3_scaling(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_s = 0;
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  double __pyx_3;
  static char *__pyx_argnames[] = {"s",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_s)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_s);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2299 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2299; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2299; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2299; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2300 */
  __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2300; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_s, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2300; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2300; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_res->m11 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2301 */
  __pyx_v_res->m12 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2302 */
  __pyx_v_res->m13 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2303 */
  __pyx_v_res->m21 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2304 */
  __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2304; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_s, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2304; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2304; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_res->m22 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2305 */
  __pyx_v_res->m23 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2306 */
  __pyx_v_res->m31 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2307 */
  __pyx_v_res->m32 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2308 */
  __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2308; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_s, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2308; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2308; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_res->m33 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2309 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.mat3.scaling");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_s);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat3_rotation(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat3_rotation[] = "Return rotation matrix.\n\n        angle must be given in radians. axis must be a 3-sequence.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat3_rotation(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_angle = 0;
  PyObject *__pyx_v_axis = 0;
  double __pyx_v_cangle;
  double __pyx_v_ax;
  double __pyx_v_ay;
  double __pyx_v_az;
  double __pyx_v_sqr_a;
  double __pyx_v_sqr_b;
  double __pyx_v_sqr_c;
  double __pyx_v_len2;
  double __pyx_v_k1;
  double __pyx_v_k2;
  double __pyx_v_k3;
  double __pyx_v_k1ab;
  double __pyx_v_k1ac;
  double __pyx_v_k1bc;
  double __pyx_v_k3a;
  double __pyx_v_k3b;
  double __pyx_v_k3c;
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_res;
  PyObject *__pyx_r;
  double __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"angle","axis",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_angle, &__pyx_v_axis)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_angle);
  Py_INCREF(__pyx_v_axis);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2321 */
  __pyx_1 = PyFloat_AsDouble(__pyx_v_angle); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2321; goto __pyx_L1;}
  __pyx_v_cangle = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2322 */
  __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2322; goto __pyx_L1;}
  __pyx_3 = PyObject_GetItem(__pyx_v_axis, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2322; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2322; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_v_ax = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2323 */
  __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2323; goto __pyx_L1;}
  __pyx_3 = PyObject_GetItem(__pyx_v_axis, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2323; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2323; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_v_ay = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2324 */
  __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2324; goto __pyx_L1;}
  __pyx_3 = PyObject_GetItem(__pyx_v_axis, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2324; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2324; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_v_az = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2325 */
  __pyx_v_sqr_a = (__pyx_v_ax * __pyx_v_ax);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2326 */
  __pyx_v_sqr_b = (__pyx_v_ay * __pyx_v_ay);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2327 */
  __pyx_v_sqr_c = (__pyx_v_az * __pyx_v_az);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2328 */
  __pyx_v_len2 = ((__pyx_v_sqr_a + __pyx_v_sqr_b) + __pyx_v_sqr_c);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2330 */
  __pyx_v_k2 = cos(__pyx_v_cangle);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2331 */
  __pyx_v_k1 = ((1.0 - __pyx_v_k2) / __pyx_v_len2);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2332 */
  __pyx_v_k3 = (sin(__pyx_v_cangle) / sqrt(__pyx_v_len2));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2333 */
  __pyx_v_k1ab = ((__pyx_v_k1 * __pyx_v_ax) * __pyx_v_ay);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2334 */
  __pyx_v_k1ac = ((__pyx_v_k1 * __pyx_v_ax) * __pyx_v_az);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2335 */
  __pyx_v_k1bc = ((__pyx_v_k1 * __pyx_v_ay) * __pyx_v_az);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2336 */
  __pyx_v_k3a = (__pyx_v_k3 * __pyx_v_ax);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2337 */
  __pyx_v_k3b = (__pyx_v_k3 * __pyx_v_ay);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2338 */
  __pyx_v_k3c = (__pyx_v_k3 * __pyx_v_az);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2340 */
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2340; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat3), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2340; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2340; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2341 */
  __pyx_v_res->m11 = ((__pyx_v_k1 * __pyx_v_sqr_a) + __pyx_v_k2);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2342 */
  __pyx_v_res->m12 = (__pyx_v_k1ab - __pyx_v_k3c);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2343 */
  __pyx_v_res->m13 = (__pyx_v_k1ac + __pyx_v_k3b);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2344 */
  __pyx_v_res->m21 = (__pyx_v_k1ab + __pyx_v_k3c);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2345 */
  __pyx_v_res->m22 = ((__pyx_v_k1 * __pyx_v_sqr_b) + __pyx_v_k2);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2346 */
  __pyx_v_res->m23 = (__pyx_v_k1bc - __pyx_v_k3a);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2347 */
  __pyx_v_res->m31 = (__pyx_v_k1ac - __pyx_v_k3b);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2348 */
  __pyx_v_res->m32 = (__pyx_v_k1bc + __pyx_v_k3a);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2349 */
  __pyx_v_res->m33 = ((__pyx_v_k1 * __pyx_v_sqr_c) + __pyx_v_k2);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2350 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat3.rotation");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_angle);
  Py_DECREF(__pyx_v_axis);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat3_scale(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat3_scale[] = "Concatenate a scaling.";
static PyObject *__pyx_f_7cgtypes_4mat3_scale(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_s = 0;
  double __pyx_v_sx;
  double __pyx_v_sy;
  double __pyx_v_sz;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  double __pyx_3;
  static char *__pyx_argnames[] = {"s",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_s)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_s);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2356 */
  __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2356; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_s, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2356; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2356; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_sx = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2357 */
  __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2357; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_s, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2357; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2357; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_sy = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2358 */
  __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2358; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_s, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2358; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2358; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_sz = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2359 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 * __pyx_v_sx);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2360 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 * __pyx_v_sy);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2361 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 * __pyx_v_sz);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2362 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 * __pyx_v_sx);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2363 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 * __pyx_v_sy);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2364 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 * __pyx_v_sz);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2365 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 * __pyx_v_sx);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2366 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 * __pyx_v_sy);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2367 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 = (((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 * __pyx_v_sz);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2368 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.mat3.scale");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_s);
  return __pyx_r;
}

static PyObject *__pyx_n_rotation;

static PyObject *__pyx_f_7cgtypes_4mat3_rotate(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat3_rotate[] = "Concatenate a rotation.\n\n        angle must be given in radians. axis must be a 3-sequence.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat3_rotate(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_angle = 0;
  PyObject *__pyx_v_axis = 0;
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_R;
  double __pyx_v_c1;
  double __pyx_v_c2;
  double __pyx_v_c3;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"angle","axis",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_angle, &__pyx_v_axis)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_angle);
  Py_INCREF(__pyx_v_axis);
  ((PyObject*)__pyx_v_R) = Py_None; Py_INCREF(((PyObject*)__pyx_v_R));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2377 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_rotation); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2377; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2377; goto __pyx_L1;}
  Py_INCREF(__pyx_v_angle);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_angle);
  Py_INCREF(__pyx_v_axis);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_axis);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2377; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2377; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_R));
  ((PyObject *)__pyx_v_R) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2380 */
  __pyx_v_c1 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2381 */
  __pyx_v_c2 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2382 */
  __pyx_v_c3 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2383 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11 = (((__pyx_v_c1 * __pyx_v_R->m11) + (__pyx_v_c2 * __pyx_v_R->m21)) + (__pyx_v_c3 * __pyx_v_R->m31));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2384 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12 = (((__pyx_v_c1 * __pyx_v_R->m12) + (__pyx_v_c2 * __pyx_v_R->m22)) + (__pyx_v_c3 * __pyx_v_R->m32));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2385 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13 = (((__pyx_v_c1 * __pyx_v_R->m13) + (__pyx_v_c2 * __pyx_v_R->m23)) + (__pyx_v_c3 * __pyx_v_R->m33));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2387 */
  __pyx_v_c1 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2388 */
  __pyx_v_c2 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2389 */
  __pyx_v_c3 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2390 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21 = (((__pyx_v_c1 * __pyx_v_R->m11) + (__pyx_v_c2 * __pyx_v_R->m21)) + (__pyx_v_c3 * __pyx_v_R->m31));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2391 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22 = (((__pyx_v_c1 * __pyx_v_R->m12) + (__pyx_v_c2 * __pyx_v_R->m22)) + (__pyx_v_c3 * __pyx_v_R->m32));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2392 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23 = (((__pyx_v_c1 * __pyx_v_R->m13) + (__pyx_v_c2 * __pyx_v_R->m23)) + (__pyx_v_c3 * __pyx_v_R->m33));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2394 */
  __pyx_v_c1 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2395 */
  __pyx_v_c2 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2396 */
  __pyx_v_c3 = ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2397 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31 = (((__pyx_v_c1 * __pyx_v_R->m11) + (__pyx_v_c2 * __pyx_v_R->m21)) + (__pyx_v_c3 * __pyx_v_R->m31));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2398 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32 = (((__pyx_v_c1 * __pyx_v_R->m12) + (__pyx_v_c2 * __pyx_v_R->m22)) + (__pyx_v_c3 * __pyx_v_R->m32));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2399 */
  ((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33 = (((__pyx_v_c1 * __pyx_v_R->m13) + (__pyx_v_c2 * __pyx_v_R->m23)) + (__pyx_v_c3 * __pyx_v_R->m33));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2401 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat3.rotate");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_R);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_angle);
  Py_DECREF(__pyx_v_axis);
  return __pyx_r;
}

static PyObject *__pyx_n_length;

static PyObject *__pyx_f_7cgtypes_4mat3_ortho(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat3_ortho[] = "Return a matrix with orthogonal base vectors.\n\n        Makes the x-, y- and z-axis orthogonal.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat3_ortho(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_res;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_x;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_y;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_z;
  PyObject *__pyx_v_xl;
  PyObject *__pyx_v_yl;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  ((PyObject*)__pyx_v_x) = Py_None; Py_INCREF(((PyObject*)__pyx_v_x));
  ((PyObject*)__pyx_v_y) = Py_None; Py_INCREF(((PyObject*)__pyx_v_y));
  ((PyObject*)__pyx_v_z) = Py_None; Py_INCREF(((PyObject*)__pyx_v_z));
  __pyx_v_xl = Py_None; Py_INCREF(__pyx_v_xl);
  __pyx_v_yl = Py_None; Py_INCREF(__pyx_v_yl);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2411 */
  __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m11); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2411; goto __pyx_L1;}
  __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m21); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2411; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m31); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2411; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2411; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
  PyTuple_SET_ITEM(__pyx_4, 1, __pyx_2);
  PyTuple_SET_ITEM(__pyx_4, 2, __pyx_3);
  __pyx_1 = 0;
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_1 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_4); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2411; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2411; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_x));
  ((PyObject *)__pyx_v_x) = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2412 */
  __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m12); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2412; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m22); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2412; goto __pyx_L1;}
  __pyx_4 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m32); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2412; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2412; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_3);
  PyTuple_SET_ITEM(__pyx_1, 2, __pyx_4);
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2412; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2412; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_y));
  ((PyObject *)__pyx_v_y) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2413 */
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m13); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2413; goto __pyx_L1;}
  __pyx_4 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m23); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2413; goto __pyx_L1;}
  __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat3 *)__pyx_v_self)->m33); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2413; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2413; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_4);
  PyTuple_SET_ITEM(__pyx_2, 2, __pyx_1);
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_1 = 0;
  __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2413; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2413; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_z));
  ((PyObject *)__pyx_v_z) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2415 */
  __pyx_4 = PyObject_GetAttr(((PyObject *)__pyx_v_x), __pyx_n_length); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2415; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2415; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(__pyx_4, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2415; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_xl);
  __pyx_v_xl = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2416 */
  __pyx_3 = PyNumber_Multiply(__pyx_v_xl, __pyx_v_xl); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2416; goto __pyx_L1;}
  Py_DECREF(__pyx_v_xl);
  __pyx_v_xl = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2417 */
  __pyx_4 = PyNumber_Multiply(((PyObject *)__pyx_v_x), ((PyObject *)__pyx_v_y)); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2417; goto __pyx_L1;}
  __pyx_1 = PyNumber_Divide(__pyx_4, __pyx_v_xl); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2417; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_2 = PyNumber_Multiply(__pyx_1, ((PyObject *)__pyx_v_x)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2417; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyNumber_Subtract(((PyObject *)__pyx_v_y), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2417; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2417; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_y));
  ((PyObject *)__pyx_v_y) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2418 */
  __pyx_4 = PyNumber_Multiply(((PyObject *)__pyx_v_x), ((PyObject *)__pyx_v_z)); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2418; goto __pyx_L1;}
  __pyx_1 = PyNumber_Divide(__pyx_4, __pyx_v_xl); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2418; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_2 = PyNumber_Multiply(__pyx_1, ((PyObject *)__pyx_v_x)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2418; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyNumber_Subtract(((PyObject *)__pyx_v_z), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2418; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2418; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_z));
  ((PyObject *)__pyx_v_z) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2420 */
  __pyx_4 = PyObject_GetAttr(((PyObject *)__pyx_v_y), __pyx_n_length); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2420; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2420; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(__pyx_4, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2420; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_yl);
  __pyx_v_yl = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2421 */
  __pyx_3 = PyNumber_Multiply(__pyx_v_yl, __pyx_v_yl); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2421; goto __pyx_L1;}
  Py_DECREF(__pyx_v_yl);
  __pyx_v_yl = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2422 */
  __pyx_4 = PyNumber_Multiply(((PyObject *)__pyx_v_y), ((PyObject *)__pyx_v_z)); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2422; goto __pyx_L1;}
  __pyx_1 = PyNumber_Divide(__pyx_4, __pyx_v_yl); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2422; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_2 = PyNumber_Multiply(__pyx_1, ((PyObject *)__pyx_v_y)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2422; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyNumber_Subtract(((PyObject *)__pyx_v_z), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2422; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2422; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_z));
  ((PyObject *)__pyx_v_z) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2424 */
  __pyx_4 = PyTuple_New(0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2424; goto __pyx_L1;}
  __pyx_1 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat3), __pyx_4); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2424; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2424; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2425 */
  __pyx_v_res->m11 = __pyx_v_x->x;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2426 */
  __pyx_v_res->m12 = __pyx_v_y->x;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2427 */
  __pyx_v_res->m13 = __pyx_v_z->x;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2428 */
  __pyx_v_res->m21 = __pyx_v_x->y;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2429 */
  __pyx_v_res->m22 = __pyx_v_y->y;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2430 */
  __pyx_v_res->m23 = __pyx_v_z->y;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2431 */
  __pyx_v_res->m31 = __pyx_v_x->z;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2432 */
  __pyx_v_res->m32 = __pyx_v_y->z;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2433 */
  __pyx_v_res->m33 = __pyx_v_z->z;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2434 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("cgtypes.mat3.ortho");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_x);
  Py_DECREF(__pyx_v_y);
  Py_DECREF(__pyx_v_z);
  Py_DECREF(__pyx_v_xl);
  Py_DECREF(__pyx_v_yl);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_ortho;

static PyObject *__pyx_k137p;

static char (__pyx_k137[]) = "transformation contains a 0 scaling";

static PyObject *__pyx_f_7cgtypes_4mat3_decompose(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat3_decompose[] = "Decomposes the matrix into a rotation and scaling part.\n\n        Returns a tuple (rotation, scaling). The scaling part is given\n        as a vec3, the rotation is still a mat3.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat3_decompose(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_m;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_a;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_b;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_c;
  double __pyx_v_al;
  double __pyx_v_bl;
  double __pyx_v_cl;
  PyObject *__pyx_v_scale;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_m) = Py_None; Py_INCREF(((PyObject*)__pyx_v_m));
  ((PyObject*)__pyx_v_a) = Py_None; Py_INCREF(((PyObject*)__pyx_v_a));
  ((PyObject*)__pyx_v_b) = Py_None; Py_INCREF(((PyObject*)__pyx_v_b));
  ((PyObject*)__pyx_v_c) = Py_None; Py_INCREF(((PyObject*)__pyx_v_c));
  __pyx_v_scale = Py_None; Py_INCREF(__pyx_v_scale);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2446 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_ortho); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2446; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2446; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2446; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2446; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_m));
  ((PyObject *)__pyx_v_m) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2449 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2449; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2449; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2449; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_a));
  ((PyObject *)__pyx_v_a) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2450 */
  __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2450; goto __pyx_L1;}
  __pyx_1 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2450; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2450; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_b));
  ((PyObject *)__pyx_v_b) = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2451 */
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2451; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2451; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2451; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_c));
  ((PyObject *)__pyx_v_c) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2452 */
  __pyx_v_a->x = __pyx_v_m->m11;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2453 */
  __pyx_v_a->y = __pyx_v_m->m21;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2454 */
  __pyx_v_a->z = __pyx_v_m->m31;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2455 */
  __pyx_v_b->x = __pyx_v_m->m12;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2456 */
  __pyx_v_b->y = __pyx_v_m->m22;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2457 */
  __pyx_v_b->z = __pyx_v_m->m32;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2458 */
  __pyx_v_c->x = __pyx_v_m->m13;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2459 */
  __pyx_v_c->y = __pyx_v_m->m23;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2460 */
  __pyx_v_c->z = __pyx_v_m->m33;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2463 */
  __pyx_v_al = sqrt((((__pyx_v_a->x * __pyx_v_a->x) + (__pyx_v_a->y * __pyx_v_a->y)) + (__pyx_v_a->z * __pyx_v_a->z)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2464 */
  __pyx_v_bl = sqrt((((__pyx_v_b->x * __pyx_v_b->x) + (__pyx_v_b->y * __pyx_v_b->y)) + (__pyx_v_b->z * __pyx_v_b->z)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2465 */
  __pyx_v_cl = sqrt((((__pyx_v_c->x * __pyx_v_c->x) + (__pyx_v_c->y * __pyx_v_c->y)) + (__pyx_v_c->z * __pyx_v_c->z)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2466 */
  __pyx_4 = (__pyx_v_al <= __pyx_v_7cgtypes_eps);
  if (!__pyx_4) {
    __pyx_4 = (__pyx_v_bl <= __pyx_v_7cgtypes_eps);
    if (!__pyx_4) {
      __pyx_4 = (__pyx_v_cl <= __pyx_v_7cgtypes_eps);
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2467 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2467; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k137p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2467; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2469 */
  __pyx_2 = PyFloat_FromDouble(__pyx_v_al); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2469; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(__pyx_v_bl); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2469; goto __pyx_L1;}
  __pyx_1 = PyFloat_FromDouble(__pyx_v_cl); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2469; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2469; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_2);
  PyTuple_SET_ITEM(__pyx_5, 1, __pyx_3);
  PyTuple_SET_ITEM(__pyx_5, 2, __pyx_1);
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_1 = 0;
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_5); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2469; goto __pyx_L1;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  Py_DECREF(__pyx_v_scale);
  __pyx_v_scale = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2475 */
  __pyx_v_a->x = (__pyx_v_a->x / __pyx_v_al);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2476 */
  __pyx_v_a->y = (__pyx_v_a->y / __pyx_v_al);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2477 */
  __pyx_v_a->z = (__pyx_v_a->z / __pyx_v_al);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2478 */
  __pyx_v_b->x = (__pyx_v_b->x / __pyx_v_bl);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2479 */
  __pyx_v_b->y = (__pyx_v_b->y / __pyx_v_bl);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2480 */
  __pyx_v_b->z = (__pyx_v_b->z / __pyx_v_bl);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2481 */
  __pyx_v_c->x = (__pyx_v_c->x / __pyx_v_cl);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2482 */
  __pyx_v_c->y = (__pyx_v_c->y / __pyx_v_cl);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2483 */
  __pyx_v_c->z = (__pyx_v_c->z / __pyx_v_cl);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2485 */
  __pyx_v_m->m11 = __pyx_v_a->x;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2486 */
  __pyx_v_m->m21 = __pyx_v_a->y;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2487 */
  __pyx_v_m->m31 = __pyx_v_a->z;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2488 */
  __pyx_v_m->m12 = __pyx_v_b->x;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2489 */
  __pyx_v_m->m22 = __pyx_v_b->y;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2490 */
  __pyx_v_m->m32 = __pyx_v_b->z;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2491 */
  __pyx_v_m->m13 = __pyx_v_c->x;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2492 */
  __pyx_v_m->m23 = __pyx_v_c->y;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2493 */
  __pyx_v_m->m33 = __pyx_v_c->z;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2494 */
  __pyx_3 = PyObject_GetAttr(((PyObject *)__pyx_v_m), __pyx_n_determinant); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2494; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2494; goto __pyx_L1;}
  __pyx_5 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2494; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_2 = PyFloat_FromDouble(0.0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2494; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_5, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2494; goto __pyx_L1;}
  __pyx_4 = __pyx_4 < 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2495 */
    __pyx_v_m->m11 = (-__pyx_v_m->m11);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2496 */
    __pyx_v_m->m21 = (-__pyx_v_m->m21);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2497 */
    __pyx_v_m->m31 = (-__pyx_v_m->m31);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2498 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_scale, __pyx_n_x); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2498; goto __pyx_L1;}
    __pyx_1 = PyNumber_Negative(__pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2498; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (PyObject_SetAttr(__pyx_v_scale, __pyx_n_x, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2498; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2500 */
  __pyx_5 = PyTuple_New(2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2500; goto __pyx_L1;}
  Py_INCREF(((PyObject *)__pyx_v_m));
  PyTuple_SET_ITEM(__pyx_5, 0, ((PyObject *)__pyx_v_m));
  Py_INCREF(__pyx_v_scale);
  PyTuple_SET_ITEM(__pyx_5, 1, __pyx_v_scale);
  __pyx_r = __pyx_5;
  __pyx_5 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("cgtypes.mat3.decompose");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_m);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  Py_DECREF(__pyx_v_c);
  Py_DECREF(__pyx_v_scale);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static int __pyx_f_7cgtypes_8mat4iter___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_7cgtypes_8mat4iter___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_m = 0;
  int __pyx_r;
  static char *__pyx_argnames[] = {"m",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_m)) return -1;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_m);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2512 */
  ((struct __pyx_obj_7cgtypes_mat4iter *)__pyx_v_self)->idx = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2513 */
  Py_INCREF(__pyx_v_m);
  Py_DECREF(((struct __pyx_obj_7cgtypes_mat4iter *)__pyx_v_self)->m);
  ((struct __pyx_obj_7cgtypes_mat4iter *)__pyx_v_self)->m = __pyx_v_m;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.mat4iter.__new__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_m);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_8mat4iter___iter__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_8mat4iter___iter__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2516 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.mat4iter.__iter__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_8mat4iter___next__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_8mat4iter___next__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2519 */
  __pyx_1 = (((struct __pyx_obj_7cgtypes_mat4iter *)__pyx_v_self)->idx == 0);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2520 */
    ((struct __pyx_obj_7cgtypes_mat4iter *)__pyx_v_self)->idx = 1;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2521 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2521; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(((struct __pyx_obj_7cgtypes_mat4iter *)__pyx_v_self)->m, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2521; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_1 = (((struct __pyx_obj_7cgtypes_mat4iter *)__pyx_v_self)->idx == 1);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2523 */
    ((struct __pyx_obj_7cgtypes_mat4iter *)__pyx_v_self)->idx = 2;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2524 */
    __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2524; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(((struct __pyx_obj_7cgtypes_mat4iter *)__pyx_v_self)->m, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2524; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_1 = (((struct __pyx_obj_7cgtypes_mat4iter *)__pyx_v_self)->idx == 2);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2526 */
    ((struct __pyx_obj_7cgtypes_mat4iter *)__pyx_v_self)->idx = 3;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2527 */
    __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2527; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(((struct __pyx_obj_7cgtypes_mat4iter *)__pyx_v_self)->m, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2527; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_1 = (((struct __pyx_obj_7cgtypes_mat4iter *)__pyx_v_self)->idx == 3);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2529 */
    ((struct __pyx_obj_7cgtypes_mat4iter *)__pyx_v_self)->idx = 4;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2530 */
    __pyx_2 = PyInt_FromLong(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2530; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(((struct __pyx_obj_7cgtypes_mat4iter *)__pyx_v_self)->m, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2530; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2532 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_StopIteration); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2532; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2532; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat4iter.__next__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static double __pyx_f_7cgtypes__subdet(double (*__pyx_v_m4),short __pyx_v_i,short __pyx_v_j) {
  double (__pyx_v_m3[9]);
  double (*__pyx_v_p);
  short __pyx_v_k;
  short __pyx_v_l;
  double __pyx_r;
  long __pyx_1;
  int __pyx_2;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2541 */
  __pyx_v_p = __pyx_v_m3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2542 */
  __pyx_v_k = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2543 */
  while (1) {
    __pyx_L2:;
    __pyx_1 = 1;
    if (!__pyx_1) break;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2544 */
    __pyx_2 = (__pyx_v_k == __pyx_v_i);
    if (__pyx_2) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2545 */
      __pyx_v_k = (__pyx_v_k + 1);
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2546 */
    __pyx_2 = (__pyx_v_k == 4);
    if (__pyx_2) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2547 */
      goto __pyx_L3;
      goto __pyx_L5;
    }
    __pyx_L5:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2548 */
    __pyx_v_l = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2549 */
    while (1) {
      __pyx_L6:;
      __pyx_1 = 1;
      if (!__pyx_1) break;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2550 */
      __pyx_2 = (__pyx_v_l == __pyx_v_j);
      if (__pyx_2) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2551 */
        __pyx_v_l = (__pyx_v_l + 1);
        goto __pyx_L8;
      }
      __pyx_L8:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2552 */
      __pyx_2 = (__pyx_v_l == 4);
      if (__pyx_2) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2553 */
        goto __pyx_L7;
        goto __pyx_L9;
      }
      __pyx_L9:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2554 */
      (__pyx_v_p[0]) = (__pyx_v_m4[((__pyx_v_k * 4) + __pyx_v_l)]);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2555 */
      __pyx_v_p = (__pyx_v_p + 1);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2556 */
      __pyx_v_l = (__pyx_v_l + 1);
    }
    __pyx_L7:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2557 */
    __pyx_v_k = (__pyx_v_k + 1);
  }
  __pyx_L3:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2559 */
  __pyx_r = ((((((((__pyx_v_m3[0]) * (__pyx_v_m3[4])) * (__pyx_v_m3[8])) + (((__pyx_v_m3[1]) * (__pyx_v_m3[5])) * (__pyx_v_m3[6]))) + (((__pyx_v_m3[2]) * (__pyx_v_m3[3])) * (__pyx_v_m3[7]))) - (((__pyx_v_m3[6]) * (__pyx_v_m3[4])) * (__pyx_v_m3[2]))) - (((__pyx_v_m3[7]) * (__pyx_v_m3[5])) * (__pyx_v_m3[0]))) - (((__pyx_v_m3[8]) * (__pyx_v_m3[3])) * (__pyx_v_m3[1])));
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_WriteUnraisable("cgtypes._subdet");
  __pyx_L0:;
  return __pyx_r;
}

static PyObject *__pyx_k138p;
static PyObject *__pyx_k139p;
static PyObject *__pyx_k140p;
static PyObject *__pyx_k141p;
static PyObject *__pyx_k142p;
static PyObject *__pyx_k143p;
static PyObject *__pyx_k144p;
static PyObject *__pyx_k145p;
static PyObject *__pyx_k146p;
static PyObject *__pyx_k147p;

static char (__pyx_k138[]) = ",";
static char (__pyx_k139[]) = " ";
static char (__pyx_k140[]) = "  ";
static char (__pyx_k141[]) = " ";
static char (__pyx_k142[]) = " ";
static char (__pyx_k143[]) = "";
static char (__pyx_k144[]) = "mat4() arg is a malformed string";
static char (__pyx_k145[]) = "mat4() arg can't be converted to mat4";
static char (__pyx_k146[]) = "mat4() takes at most 16 arguments";
static char (__pyx_k147[]) = "mat4() arg can't be converted to mat4";

static int __pyx_f_7cgtypes_4mat4___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_7cgtypes_4mat4___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_args = 0;
  int __pyx_v_arglen;
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_B;
  PyObject *__pyx_v_m11;
  PyObject *__pyx_v_m12;
  PyObject *__pyx_v_m13;
  PyObject *__pyx_v_m14;
  PyObject *__pyx_v_m21;
  PyObject *__pyx_v_m22;
  PyObject *__pyx_v_m23;
  PyObject *__pyx_v_m24;
  PyObject *__pyx_v_m31;
  PyObject *__pyx_v_m32;
  PyObject *__pyx_v_m33;
  PyObject *__pyx_v_m34;
  PyObject *__pyx_v_m41;
  PyObject *__pyx_v_m42;
  PyObject *__pyx_v_m43;
  PyObject *__pyx_v_m44;
  PyObject *__pyx_v_T;
  PyObject *__pyx_v_s;
  PyObject *__pyx_v_i;
  PyObject *__pyx_v_seq;
  PyObject *__pyx_v_seqlen;
  PyObject *__pyx_v_b;
  PyObject *__pyx_v_a;
  PyObject *__pyx_v_c;
  PyObject *__pyx_v_d;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  PyObject *__pyx_6 = 0;
  static char *__pyx_argnames[] = {0};
  if (__Pyx_GetStarArgs(&__pyx_args, &__pyx_kwds, __pyx_argnames, 0, &__pyx_v_args, 0) < 0) return -1;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) {
    Py_XDECREF(__pyx_args);
    Py_XDECREF(__pyx_kwds);
    Py_XDECREF(__pyx_v_args);
    return -1;
  }
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_B) = Py_None; Py_INCREF(((PyObject*)__pyx_v_B));
  __pyx_v_m11 = Py_None; Py_INCREF(__pyx_v_m11);
  __pyx_v_m12 = Py_None; Py_INCREF(__pyx_v_m12);
  __pyx_v_m13 = Py_None; Py_INCREF(__pyx_v_m13);
  __pyx_v_m14 = Py_None; Py_INCREF(__pyx_v_m14);
  __pyx_v_m21 = Py_None; Py_INCREF(__pyx_v_m21);
  __pyx_v_m22 = Py_None; Py_INCREF(__pyx_v_m22);
  __pyx_v_m23 = Py_None; Py_INCREF(__pyx_v_m23);
  __pyx_v_m24 = Py_None; Py_INCREF(__pyx_v_m24);
  __pyx_v_m31 = Py_None; Py_INCREF(__pyx_v_m31);
  __pyx_v_m32 = Py_None; Py_INCREF(__pyx_v_m32);
  __pyx_v_m33 = Py_None; Py_INCREF(__pyx_v_m33);
  __pyx_v_m34 = Py_None; Py_INCREF(__pyx_v_m34);
  __pyx_v_m41 = Py_None; Py_INCREF(__pyx_v_m41);
  __pyx_v_m42 = Py_None; Py_INCREF(__pyx_v_m42);
  __pyx_v_m43 = Py_None; Py_INCREF(__pyx_v_m43);
  __pyx_v_m44 = Py_None; Py_INCREF(__pyx_v_m44);
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);
  __pyx_v_s = Py_None; Py_INCREF(__pyx_v_s);
  __pyx_v_i = Py_None; Py_INCREF(__pyx_v_i);
  __pyx_v_seq = Py_None; Py_INCREF(__pyx_v_seq);
  __pyx_v_seqlen = Py_None; Py_INCREF(__pyx_v_seqlen);
  __pyx_v_b = Py_None; Py_INCREF(__pyx_v_b);
  __pyx_v_a = Py_None; Py_INCREF(__pyx_v_a);
  __pyx_v_c = Py_None; Py_INCREF(__pyx_v_c);
  __pyx_v_d = Py_None; Py_INCREF(__pyx_v_d);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2579 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2579; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2579; goto __pyx_L1;}
  Py_INCREF(__pyx_v_args);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_args);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2579; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_4 = PyInt_AsLong(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2579; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_v_arglen = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2582 */
  __pyx_4 = (__pyx_v_arglen == 0);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2583 */
    __pyx_1 = PyFloat_FromDouble(0.0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2583; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m11);
    __pyx_v_m11 = __pyx_1;
    __pyx_1 = 0;
    __pyx_2 = PyFloat_FromDouble(0.0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2583; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m12);
    __pyx_v_m12 = __pyx_2;
    __pyx_2 = 0;
    __pyx_3 = PyFloat_FromDouble(0.0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2583; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m13);
    __pyx_v_m13 = __pyx_3;
    __pyx_3 = 0;
    __pyx_1 = PyFloat_FromDouble(0.0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2583; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m14);
    __pyx_v_m14 = __pyx_1;
    __pyx_1 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2584 */
    __pyx_2 = PyFloat_FromDouble(0.0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2584; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m21);
    __pyx_v_m21 = __pyx_2;
    __pyx_2 = 0;
    __pyx_3 = PyFloat_FromDouble(0.0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2584; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m22);
    __pyx_v_m22 = __pyx_3;
    __pyx_3 = 0;
    __pyx_1 = PyFloat_FromDouble(0.0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2584; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m23);
    __pyx_v_m23 = __pyx_1;
    __pyx_1 = 0;
    __pyx_2 = PyFloat_FromDouble(0.0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2584; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m24);
    __pyx_v_m24 = __pyx_2;
    __pyx_2 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2585 */
    __pyx_3 = PyFloat_FromDouble(0.0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2585; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m31);
    __pyx_v_m31 = __pyx_3;
    __pyx_3 = 0;
    __pyx_1 = PyFloat_FromDouble(0.0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2585; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m32);
    __pyx_v_m32 = __pyx_1;
    __pyx_1 = 0;
    __pyx_2 = PyFloat_FromDouble(0.0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2585; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m33);
    __pyx_v_m33 = __pyx_2;
    __pyx_2 = 0;
    __pyx_3 = PyFloat_FromDouble(0.0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2585; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m34);
    __pyx_v_m34 = __pyx_3;
    __pyx_3 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2586 */
    __pyx_1 = PyFloat_FromDouble(0.0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2586; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m41);
    __pyx_v_m41 = __pyx_1;
    __pyx_1 = 0;
    __pyx_2 = PyFloat_FromDouble(0.0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2586; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m42);
    __pyx_v_m42 = __pyx_2;
    __pyx_2 = 0;
    __pyx_3 = PyFloat_FromDouble(0.0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2586; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m43);
    __pyx_v_m43 = __pyx_3;
    __pyx_3 = 0;
    __pyx_1 = PyFloat_FromDouble(0.0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2586; goto __pyx_L1;}
    Py_DECREF(__pyx_v_m44);
    __pyx_v_m44 = __pyx_1;
    __pyx_1 = 0;
    goto __pyx_L2;
  }
  __pyx_4 = (__pyx_v_arglen == 1);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2590 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2590; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2590; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_args, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2590; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2590; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2590; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_v_T);
    __pyx_v_T = __pyx_1;
    __pyx_1 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2592 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2592; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2592; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2592; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_T, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2592; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (!__pyx_4) {
        __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2592; goto __pyx_L1;}
        if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2592; goto __pyx_L1;}
        __pyx_4 = __pyx_4 == 0;
        Py_DECREF(__pyx_1); __pyx_1 = 0;
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2593 */
      __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2593; goto __pyx_L1;}
      __pyx_3 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2593; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2593; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2594 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 = 0.0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2595 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 = 0.0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2596 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 = 0.0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2597 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 = 0.0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2598 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2599 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 = 0.0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2600 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 = 0.0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2601 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 = 0.0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2602 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 = 0.0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2603 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2604 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 = 0.0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2605 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 = 0.0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2606 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 = 0.0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2607 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 = 0.0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2608 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11;
      goto __pyx_L3;
    }
    if (PyObject_Cmp(__pyx_v_T, ((PyObject*)__pyx_ptype_7cgtypes_mat4), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2610; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2611 */
      __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2611; goto __pyx_L1;}
      __pyx_2 = PyObject_GetItem(__pyx_v_args, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2611; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2611; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_B));
      ((PyObject *)__pyx_v_B) = __pyx_2;
      __pyx_2 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2612 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 = __pyx_v_B->m11;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2613 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 = __pyx_v_B->m12;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2614 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 = __pyx_v_B->m13;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2615 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 = __pyx_v_B->m14;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2616 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 = __pyx_v_B->m21;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2617 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 = __pyx_v_B->m22;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2618 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 = __pyx_v_B->m23;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2619 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 = __pyx_v_B->m24;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2620 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 = __pyx_v_B->m31;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2621 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 = __pyx_v_B->m32;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2622 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 = __pyx_v_B->m33;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2623 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 = __pyx_v_B->m34;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2624 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 = __pyx_v_B->m41;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2625 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 = __pyx_v_B->m42;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2626 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 = __pyx_v_B->m43;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2627 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 = __pyx_v_B->m44;
      goto __pyx_L3;
    }
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_str); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2629; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2629; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (!__pyx_4) {
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_unicode); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2629; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2629; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2630 */
      __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2630; goto __pyx_L1;}
      __pyx_3 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2630; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyObject_GetAttr(__pyx_3, __pyx_n_replace); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2630; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2630; goto __pyx_L1;}
      Py_INCREF(__pyx_k138p);
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_k138p);
      Py_INCREF(__pyx_k139p);
      PyTuple_SET_ITEM(__pyx_2, 1, __pyx_k139p);
      __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2630; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyObject_GetAttr(__pyx_3, __pyx_n_replace); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2630; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2630; goto __pyx_L1;}
      Py_INCREF(__pyx_k140p);
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_k140p);
      Py_INCREF(__pyx_k141p);
      PyTuple_SET_ITEM(__pyx_2, 1, __pyx_k141p);
      __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2630; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyObject_GetAttr(__pyx_3, __pyx_n_strip); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2630; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2630; goto __pyx_L1;}
      __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2630; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyObject_GetAttr(__pyx_3, __pyx_n_split); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2630; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2630; goto __pyx_L1;}
      Py_INCREF(__pyx_k142p);
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_k142p);
      __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2630; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_v_s);
      __pyx_v_s = __pyx_3;
      __pyx_3 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2631 */
      __pyx_1 = PyList_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2631; goto __pyx_L1;}
      Py_INCREF(__pyx_k143p);
      PyList_SET_ITEM(__pyx_1, 0, __pyx_k143p);
      if (PyObject_Cmp(__pyx_v_s, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2631; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2632 */
        __pyx_2 = PyList_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2632; goto __pyx_L1;}
        Py_DECREF(__pyx_v_s);
        __pyx_v_s = __pyx_2;
        __pyx_2 = 0;
        goto __pyx_L4;
      }
      __pyx_L4:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2633 */
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_range); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2633; goto __pyx_L1;}
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2633; goto __pyx_L1;}
      __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2633; goto __pyx_L1;}
      Py_INCREF(__pyx_v_s);
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_s);
      __pyx_6 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2633; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2633; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_6);
      __pyx_6 = 0;
      __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2633; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_6 = PyObject_GetIter(__pyx_2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2633; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      for (;;) {
        __pyx_L5:;
        __pyx_3 = PyIter_Next(__pyx_6);
        if (!__pyx_3) {
          if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2633; goto __pyx_L1;}
          break;
        }
        Py_DECREF(__pyx_v_i);
        __pyx_v_i = __pyx_3;
        __pyx_3 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2634 */
        /*try:*/ {

          /* "D:\Sources\Python\cgkit\cgtypes.pyx":2635 */
          __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2635; goto __pyx_L7;}
          __pyx_2 = PyObject_GetItem(__pyx_v_s, __pyx_v_i); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2635; goto __pyx_L7;}
          __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2635; goto __pyx_L7;}
          PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
          __pyx_2 = 0;
          __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2635; goto __pyx_L7;}
          Py_DECREF(__pyx_1); __pyx_1 = 0;
          Py_DECREF(__pyx_3); __pyx_3 = 0;
          if (PyObject_SetItem(__pyx_v_s, __pyx_v_i, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2635; goto __pyx_L7;}
          Py_DECREF(__pyx_2); __pyx_2 = 0;
        }
        goto __pyx_L8;
        __pyx_L7:;
        Py_XDECREF(__pyx_1); __pyx_1 = 0;
        Py_XDECREF(__pyx_3); __pyx_3 = 0;
        Py_XDECREF(__pyx_2); __pyx_2 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2636 */
        /*except:*/ {
          __Pyx_AddTraceback("cgtypes.__new__");
          __pyx_1 = __Pyx_GetExcValue(); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2636; goto __pyx_L1;}
          Py_DECREF(__pyx_1); __pyx_1 = 0;

          /* "D:\Sources\Python\cgkit\cgtypes.pyx":2637 */
          __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2637; goto __pyx_L1;}
          __Pyx_Raise(__pyx_3, __pyx_k144p, 0);
          Py_DECREF(__pyx_3); __pyx_3 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2637; goto __pyx_L1;}
          goto __pyx_L8;
        }
        __pyx_L8:;
      }
      __pyx_L6:;
      Py_DECREF(__pyx_6); __pyx_6 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2638 */
      __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2638; goto __pyx_L1;}
      Py_INCREF(__pyx_v_s);
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_s);
      __pyx_1 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2638; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2638; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_B));
      ((PyObject *)__pyx_v_B) = __pyx_1;
      __pyx_1 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2639 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 = __pyx_v_B->m11;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2640 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 = __pyx_v_B->m12;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2641 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 = __pyx_v_B->m13;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2642 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 = __pyx_v_B->m14;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2643 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 = __pyx_v_B->m21;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2644 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 = __pyx_v_B->m22;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2645 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 = __pyx_v_B->m23;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2646 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 = __pyx_v_B->m24;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2647 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 = __pyx_v_B->m31;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2648 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 = __pyx_v_B->m32;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2649 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 = __pyx_v_B->m33;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2650 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 = __pyx_v_B->m34;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2651 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 = __pyx_v_B->m41;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2652 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 = __pyx_v_B->m42;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2653 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 = __pyx_v_B->m43;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2654 */
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 = __pyx_v_B->m44;
      goto __pyx_L3;
    }
    /*else*/ {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2657 */
      __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2657; goto __pyx_L1;}
      __pyx_6 = PyObject_GetItem(__pyx_v_args, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2657; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_v_seq);
      __pyx_v_seq = __pyx_6;
      __pyx_6 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2658 */
      /*try:*/ {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2659 */
        __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2659; goto __pyx_L9;}
        __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2659; goto __pyx_L9;}
        Py_INCREF(__pyx_v_seq);
        PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_seq);
        __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2659; goto __pyx_L9;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        Py_DECREF(__pyx_v_seqlen);
        __pyx_v_seqlen = __pyx_3;
        __pyx_3 = 0;
      }
      goto __pyx_L10;
      __pyx_L9:;
      Py_XDECREF(__pyx_6); __pyx_6 = 0;
      Py_XDECREF(__pyx_2); __pyx_2 = 0;
      Py_XDECREF(__pyx_1); __pyx_1 = 0;
      Py_XDECREF(__pyx_3); __pyx_3 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2660 */
      /*except:*/ {
        __Pyx_AddTraceback("cgtypes.__new__");
        __pyx_6 = __Pyx_GetExcValue(); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2660; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2661 */
        __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2661; goto __pyx_L1;}
        __Pyx_Raise(__pyx_2, __pyx_k145p, 0);
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2661; goto __pyx_L1;}
        goto __pyx_L10;
      }
      __pyx_L10:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2663 */
      __pyx_1 = PyInt_FromLong(16); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2663; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_seqlen, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2663; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2664 */
        __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2664; goto __pyx_L1;}
        __pyx_6 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2664; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2664; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2665 */
        __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2665; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_seq, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2665; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2665; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2666 */
        __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2666; goto __pyx_L1;}
        __pyx_6 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2666; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2666; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2667 */
        __pyx_2 = PyInt_FromLong(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2667; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_seq, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2667; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2667; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2668 */
        __pyx_3 = PyInt_FromLong(4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2668; goto __pyx_L1;}
        __pyx_6 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2668; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2668; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2669 */
        __pyx_2 = PyInt_FromLong(5); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2669; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_seq, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2669; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2669; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2670 */
        __pyx_3 = PyInt_FromLong(6); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2670; goto __pyx_L1;}
        __pyx_6 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2670; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2670; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2671 */
        __pyx_2 = PyInt_FromLong(7); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2671; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_seq, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2671; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2671; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2672 */
        __pyx_3 = PyInt_FromLong(8); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2672; goto __pyx_L1;}
        __pyx_6 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2672; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2672; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2673 */
        __pyx_2 = PyInt_FromLong(9); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2673; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_seq, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2673; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2673; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2674 */
        __pyx_3 = PyInt_FromLong(10); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2674; goto __pyx_L1;}
        __pyx_6 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2674; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2674; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2675 */
        __pyx_2 = PyInt_FromLong(11); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2675; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_seq, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2675; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2675; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2676 */
        __pyx_3 = PyInt_FromLong(12); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2676; goto __pyx_L1;}
        __pyx_6 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2676; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2676; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2677 */
        __pyx_2 = PyInt_FromLong(13); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2677; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_seq, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2677; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2677; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2678 */
        __pyx_3 = PyInt_FromLong(14); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2678; goto __pyx_L1;}
        __pyx_6 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2678; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2678; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2679 */
        __pyx_2 = PyInt_FromLong(15); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2679; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_seq, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2679; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2679; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 = __pyx_5;
        goto __pyx_L11;
      }
      __pyx_3 = PyInt_FromLong(4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2680; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_seqlen, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2680; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2681 */
        __pyx_6 = PyInt_FromLong(0); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2681; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_seq, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2681; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        Py_DECREF(__pyx_v_b);
        __pyx_v_b = __pyx_2;
        __pyx_2 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2682 */
        __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2682; goto __pyx_L1;}
        __pyx_3 = PyObject_GetItem(__pyx_v_b, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2682; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2682; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2683 */
        __pyx_6 = PyInt_FromLong(1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2683; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_b, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2683; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2683; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2684 */
        __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2684; goto __pyx_L1;}
        __pyx_3 = PyObject_GetItem(__pyx_v_b, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2684; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2684; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2685 */
        __pyx_6 = PyInt_FromLong(3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2685; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_b, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2685; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2685; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2686 */
        __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2686; goto __pyx_L1;}
        __pyx_3 = PyObject_GetItem(__pyx_v_seq, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2686; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        Py_DECREF(__pyx_v_b);
        __pyx_v_b = __pyx_3;
        __pyx_3 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2687 */
        __pyx_6 = PyInt_FromLong(0); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2687; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_b, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2687; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2687; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2688 */
        __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2688; goto __pyx_L1;}
        __pyx_3 = PyObject_GetItem(__pyx_v_b, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2688; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2688; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2689 */
        __pyx_6 = PyInt_FromLong(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2689; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_b, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2689; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2689; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2690 */
        __pyx_1 = PyInt_FromLong(3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2690; goto __pyx_L1;}
        __pyx_3 = PyObject_GetItem(__pyx_v_b, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2690; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2690; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2691 */
        __pyx_6 = PyInt_FromLong(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2691; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_seq, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2691; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        Py_DECREF(__pyx_v_b);
        __pyx_v_b = __pyx_2;
        __pyx_2 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2692 */
        __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2692; goto __pyx_L1;}
        __pyx_3 = PyObject_GetItem(__pyx_v_b, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2692; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2692; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2693 */
        __pyx_6 = PyInt_FromLong(1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2693; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_b, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2693; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2693; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2694 */
        __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2694; goto __pyx_L1;}
        __pyx_3 = PyObject_GetItem(__pyx_v_b, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2694; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2694; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2695 */
        __pyx_6 = PyInt_FromLong(3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2695; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_b, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2695; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2695; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2696 */
        __pyx_1 = PyInt_FromLong(3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2696; goto __pyx_L1;}
        __pyx_3 = PyObject_GetItem(__pyx_v_seq, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2696; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        Py_DECREF(__pyx_v_b);
        __pyx_v_b = __pyx_3;
        __pyx_3 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2697 */
        __pyx_6 = PyInt_FromLong(0); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2697; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_b, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2697; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2697; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2698 */
        __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2698; goto __pyx_L1;}
        __pyx_3 = PyObject_GetItem(__pyx_v_b, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2698; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2698; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2699 */
        __pyx_6 = PyInt_FromLong(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2699; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_b, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2699; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2699; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2700 */
        __pyx_1 = PyInt_FromLong(3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2700; goto __pyx_L1;}
        __pyx_3 = PyObject_GetItem(__pyx_v_b, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2700; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2700; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 = __pyx_5;
        goto __pyx_L11;
      }
      /*else*/ {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2702 */
        __pyx_6 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2702; goto __pyx_L1;}
        __Pyx_Raise(__pyx_6, __pyx_k146p, 0);
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2702; goto __pyx_L1;}
      }
      __pyx_L11:;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_4 = (__pyx_v_arglen == 4);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2706 */
    __pyx_2 = __Pyx_UnpackItem(__pyx_v_args, 0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2706; goto __pyx_L1;}
    Py_DECREF(__pyx_v_a);
    __pyx_v_a = __pyx_2;
    __pyx_2 = 0;
    __pyx_1 = __Pyx_UnpackItem(__pyx_v_args, 1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2706; goto __pyx_L1;}
    Py_DECREF(__pyx_v_b);
    __pyx_v_b = __pyx_1;
    __pyx_1 = 0;
    __pyx_3 = __Pyx_UnpackItem(__pyx_v_args, 2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2706; goto __pyx_L1;}
    Py_DECREF(__pyx_v_c);
    __pyx_v_c = __pyx_3;
    __pyx_3 = 0;
    __pyx_6 = __Pyx_UnpackItem(__pyx_v_args, 3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2706; goto __pyx_L1;}
    Py_DECREF(__pyx_v_d);
    __pyx_v_d = __pyx_6;
    __pyx_6 = 0;
    if (__Pyx_EndUnpack(__pyx_v_args, 4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2706; goto __pyx_L1;}

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2707 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2707; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_a, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2707; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2707; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2708 */
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2708; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_b, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2708; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2708; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2709 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2709; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_c, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2709; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2709; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2710 */
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2710; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_d, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2710; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2710; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2711 */
    __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2711; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_a, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2711; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2711; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2712 */
    __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2712; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_b, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2712; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2712; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2713 */
    __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2713; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_c, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2713; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2713; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2714 */
    __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2714; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_d, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2714; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2714; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2715 */
    __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2715; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_a, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2715; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2715; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2716 */
    __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2716; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_b, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2716; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2716; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2717 */
    __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2717; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_c, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2717; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2717; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2718 */
    __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2718; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_d, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2718; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2718; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2719 */
    __pyx_2 = PyInt_FromLong(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2719; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_a, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2719; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2719; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2720 */
    __pyx_3 = PyInt_FromLong(3); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2720; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_b, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2720; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2720; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2721 */
    __pyx_2 = PyInt_FromLong(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2721; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_c, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2721; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2721; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2722 */
    __pyx_3 = PyInt_FromLong(3); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2722; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_d, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2722; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2722; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 = __pyx_5;
    goto __pyx_L2;
  }
  __pyx_4 = (__pyx_v_arglen == 16);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2726 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2726; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2726; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2726; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2727 */
    __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2727; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_args, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2727; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2727; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2728 */
    __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2728; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2728; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2728; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2729 */
    __pyx_3 = PyInt_FromLong(3); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2729; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_args, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2729; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2729; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2730 */
    __pyx_2 = PyInt_FromLong(4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2730; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2730; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2730; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2731 */
    __pyx_3 = PyInt_FromLong(5); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2731; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_args, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2731; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2731; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2732 */
    __pyx_2 = PyInt_FromLong(6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2732; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2732; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2732; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2733 */
    __pyx_3 = PyInt_FromLong(7); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2733; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_args, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2733; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2733; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2734 */
    __pyx_2 = PyInt_FromLong(8); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2734; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2734; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2734; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2735 */
    __pyx_3 = PyInt_FromLong(9); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2735; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_args, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2735; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2735; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2736 */
    __pyx_2 = PyInt_FromLong(10); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2736; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2736; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2736; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2737 */
    __pyx_3 = PyInt_FromLong(11); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2737; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_args, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2737; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2737; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2738 */
    __pyx_2 = PyInt_FromLong(12); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2738; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2738; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2738; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2739 */
    __pyx_3 = PyInt_FromLong(13); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2739; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_args, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2739; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2739; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2740 */
    __pyx_2 = PyInt_FromLong(14); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2740; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2740; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2740; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2741 */
    __pyx_3 = PyInt_FromLong(15); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2741; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_args, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2741; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2741; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 = __pyx_5;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2744 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2744; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k147p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2744; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("cgtypes.mat4.__new__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_XDECREF(__pyx_v_args);
  Py_DECREF(__pyx_v_B);
  Py_DECREF(__pyx_v_m11);
  Py_DECREF(__pyx_v_m12);
  Py_DECREF(__pyx_v_m13);
  Py_DECREF(__pyx_v_m14);
  Py_DECREF(__pyx_v_m21);
  Py_DECREF(__pyx_v_m22);
  Py_DECREF(__pyx_v_m23);
  Py_DECREF(__pyx_v_m24);
  Py_DECREF(__pyx_v_m31);
  Py_DECREF(__pyx_v_m32);
  Py_DECREF(__pyx_v_m33);
  Py_DECREF(__pyx_v_m34);
  Py_DECREF(__pyx_v_m41);
  Py_DECREF(__pyx_v_m42);
  Py_DECREF(__pyx_v_m43);
  Py_DECREF(__pyx_v_m44);
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_s);
  Py_DECREF(__pyx_v_i);
  Py_DECREF(__pyx_v_seq);
  Py_DECREF(__pyx_v_seqlen);
  Py_DECREF(__pyx_v_b);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_c);
  Py_DECREF(__pyx_v_d);
  Py_DECREF(__pyx_v_self);
  Py_XDECREF(__pyx_args);
  Py_XDECREF(__pyx_kwds);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4___reduce__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7cgtypes_4mat4___reduce__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2747 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__mat4construct); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2747; goto __pyx_L1;}
  __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2747; goto __pyx_L1;}
  __pyx_3 = PyObject_GetItem(__pyx_v_self, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2747; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2747; goto __pyx_L1;}
  __pyx_4 = PyObject_GetItem(__pyx_v_self, __pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2747; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2747; goto __pyx_L1;}
  __pyx_5 = PyObject_GetItem(__pyx_v_self, __pyx_2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2747; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyInt_FromLong(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2747; goto __pyx_L1;}
  __pyx_6 = PyObject_GetItem(__pyx_v_self, __pyx_2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2747; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyTuple_New(4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2747; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_4);
  PyTuple_SET_ITEM(__pyx_2, 2, __pyx_5);
  PyTuple_SET_ITEM(__pyx_2, 3, __pyx_6);
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_5 = 0;
  __pyx_6 = 0;
  __pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2747; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
  PyTuple_SET_ITEM(__pyx_3, 1, __pyx_2);
  __pyx_1 = 0;
  __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("cgtypes.mat4.__reduce__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k148p;

static char (__pyx_k148[]) = "mat4(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)";

static PyObject *__pyx_f_7cgtypes_4mat4___repr__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_4mat4___repr__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  PyObject *__pyx_7 = 0;
  PyObject *__pyx_8 = 0;
  PyObject *__pyx_9 = 0;
  PyObject *__pyx_10 = 0;
  PyObject *__pyx_11 = 0;
  PyObject *__pyx_12 = 0;
  PyObject *__pyx_13 = 0;
  PyObject *__pyx_14 = 0;
  PyObject *__pyx_15 = 0;
  PyObject *__pyx_16 = 0;
  PyObject *__pyx_17 = 0;
  PyObject *__pyx_18 = 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2750 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2751; goto __pyx_L1;}
  __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2751; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2751; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2751; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2751; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2751; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2751; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2751; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2751; goto __pyx_L1;}
  __pyx_4 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2751; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2751; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_4);
  __pyx_4 = 0;
  __pyx_4 = PyObject_CallObject(__pyx_1, __pyx_5); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2751; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2751; goto __pyx_L1;}
  __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2751; goto __pyx_L1;}
  __pyx_6 = PyTuple_New(1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2751; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_6, 0, __pyx_5);
  __pyx_5 = 0;
  __pyx_5 = PyObject_CallObject(__pyx_1, __pyx_6); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2751; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2752; goto __pyx_L1;}
  __pyx_6 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2752; goto __pyx_L1;}
  __pyx_7 = PyTuple_New(1); if (!__pyx_7) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2752; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_7, 0, __pyx_6);
  __pyx_6 = 0;
  __pyx_6 = PyObject_CallObject(__pyx_1, __pyx_7); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2752; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_7); __pyx_7 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2752; goto __pyx_L1;}
  __pyx_7 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22); if (!__pyx_7) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2752; goto __pyx_L1;}
  __pyx_8 = PyTuple_New(1); if (!__pyx_8) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2752; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_8, 0, __pyx_7);
  __pyx_7 = 0;
  __pyx_7 = PyObject_CallObject(__pyx_1, __pyx_8); if (!__pyx_7) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2752; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_8); __pyx_8 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2752; goto __pyx_L1;}
  __pyx_8 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23); if (!__pyx_8) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2752; goto __pyx_L1;}
  __pyx_9 = PyTuple_New(1); if (!__pyx_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2752; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_9, 0, __pyx_8);
  __pyx_8 = 0;
  __pyx_8 = PyObject_CallObject(__pyx_1, __pyx_9); if (!__pyx_8) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2752; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_9); __pyx_9 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2752; goto __pyx_L1;}
  __pyx_9 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24); if (!__pyx_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2752; goto __pyx_L1;}
  __pyx_10 = PyTuple_New(1); if (!__pyx_10) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2752; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_10, 0, __pyx_9);
  __pyx_9 = 0;
  __pyx_9 = PyObject_CallObject(__pyx_1, __pyx_10); if (!__pyx_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2752; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_10); __pyx_10 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2753; goto __pyx_L1;}
  __pyx_10 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31); if (!__pyx_10) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2753; goto __pyx_L1;}
  __pyx_11 = PyTuple_New(1); if (!__pyx_11) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2753; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_11, 0, __pyx_10);
  __pyx_10 = 0;
  __pyx_10 = PyObject_CallObject(__pyx_1, __pyx_11); if (!__pyx_10) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2753; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_11); __pyx_11 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2753; goto __pyx_L1;}
  __pyx_11 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32); if (!__pyx_11) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2753; goto __pyx_L1;}
  __pyx_12 = PyTuple_New(1); if (!__pyx_12) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2753; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_12, 0, __pyx_11);
  __pyx_11 = 0;
  __pyx_11 = PyObject_CallObject(__pyx_1, __pyx_12); if (!__pyx_11) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2753; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_12); __pyx_12 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2753; goto __pyx_L1;}
  __pyx_12 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33); if (!__pyx_12) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2753; goto __pyx_L1;}
  __pyx_13 = PyTuple_New(1); if (!__pyx_13) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2753; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_13, 0, __pyx_12);
  __pyx_12 = 0;
  __pyx_12 = PyObject_CallObject(__pyx_1, __pyx_13); if (!__pyx_12) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2753; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_13); __pyx_13 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2753; goto __pyx_L1;}
  __pyx_13 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34); if (!__pyx_13) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2753; goto __pyx_L1;}
  __pyx_14 = PyTuple_New(1); if (!__pyx_14) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2753; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_14, 0, __pyx_13);
  __pyx_13 = 0;
  __pyx_13 = PyObject_CallObject(__pyx_1, __pyx_14); if (!__pyx_13) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2753; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_14); __pyx_14 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2754; goto __pyx_L1;}
  __pyx_14 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41); if (!__pyx_14) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2754; goto __pyx_L1;}
  __pyx_15 = PyTuple_New(1); if (!__pyx_15) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2754; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_15, 0, __pyx_14);
  __pyx_14 = 0;
  __pyx_14 = PyObject_CallObject(__pyx_1, __pyx_15); if (!__pyx_14) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2754; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_15); __pyx_15 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2754; goto __pyx_L1;}
  __pyx_15 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42); if (!__pyx_15) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2754; goto __pyx_L1;}
  __pyx_16 = PyTuple_New(1); if (!__pyx_16) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2754; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_16, 0, __pyx_15);
  __pyx_15 = 0;
  __pyx_15 = PyObject_CallObject(__pyx_1, __pyx_16); if (!__pyx_15) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2754; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_16); __pyx_16 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2754; goto __pyx_L1;}
  __pyx_16 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43); if (!__pyx_16) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2754; goto __pyx_L1;}
  __pyx_17 = PyTuple_New(1); if (!__pyx_17) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2754; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_17, 0, __pyx_16);
  __pyx_16 = 0;
  __pyx_16 = PyObject_CallObject(__pyx_1, __pyx_17); if (!__pyx_16) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2754; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_17); __pyx_17 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2754; goto __pyx_L1;}
  __pyx_17 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44); if (!__pyx_17) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2754; goto __pyx_L1;}
  __pyx_18 = PyTuple_New(1); if (!__pyx_18) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2754; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_18, 0, __pyx_17);
  __pyx_17 = 0;
  __pyx_17 = PyObject_CallObject(__pyx_1, __pyx_18); if (!__pyx_17) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2754; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_18); __pyx_18 = 0;
  __pyx_1 = PyTuple_New(16); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2751; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_3);
  PyTuple_SET_ITEM(__pyx_1, 2, __pyx_4);
  PyTuple_SET_ITEM(__pyx_1, 3, __pyx_5);
  PyTuple_SET_ITEM(__pyx_1, 4, __pyx_6);
  PyTuple_SET_ITEM(__pyx_1, 5, __pyx_7);
  PyTuple_SET_ITEM(__pyx_1, 6, __pyx_8);
  PyTuple_SET_ITEM(__pyx_1, 7, __pyx_9);
  PyTuple_SET_ITEM(__pyx_1, 8, __pyx_10);
  PyTuple_SET_ITEM(__pyx_1, 9, __pyx_11);
  PyTuple_SET_ITEM(__pyx_1, 10, __pyx_12);
  PyTuple_SET_ITEM(__pyx_1, 11, __pyx_13);
  PyTuple_SET_ITEM(__pyx_1, 12, __pyx_14);
  PyTuple_SET_ITEM(__pyx_1, 13, __pyx_15);
  PyTuple_SET_ITEM(__pyx_1, 14, __pyx_16);
  PyTuple_SET_ITEM(__pyx_1, 15, __pyx_17);
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_5 = 0;
  __pyx_6 = 0;
  __pyx_7 = 0;
  __pyx_8 = 0;
  __pyx_9 = 0;
  __pyx_10 = 0;
  __pyx_11 = 0;
  __pyx_12 = 0;
  __pyx_13 = 0;
  __pyx_14 = 0;
  __pyx_15 = 0;
  __pyx_16 = 0;
  __pyx_17 = 0;
  __pyx_18 = PyNumber_Remainder(__pyx_k148p, __pyx_1); if (!__pyx_18) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2750; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_18;
  __pyx_18 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  Py_XDECREF(__pyx_7);
  Py_XDECREF(__pyx_8);
  Py_XDECREF(__pyx_9);
  Py_XDECREF(__pyx_10);
  Py_XDECREF(__pyx_11);
  Py_XDECREF(__pyx_12);
  Py_XDECREF(__pyx_13);
  Py_XDECREF(__pyx_14);
  Py_XDECREF(__pyx_15);
  Py_XDECREF(__pyx_16);
  Py_XDECREF(__pyx_17);
  Py_XDECREF(__pyx_18);
  __Pyx_AddTraceback("cgtypes.mat4.__repr__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k149p;

static char (__pyx_k149[]) = "[%9.4f, %9.4f, %9.4f, %9.4f]\n[%9.4f, %9.4f, %9.4f, %9.4f]\n[%9.4f, %9.4f, %9.4f, %9.4f]\n[%9.4f, %9.4f, %9.4f, %9.4f]";

static PyObject *__pyx_f_7cgtypes_4mat4___str__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_4mat4___str__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  PyObject *__pyx_7 = 0;
  PyObject *__pyx_8 = 0;
  PyObject *__pyx_9 = 0;
  PyObject *__pyx_10 = 0;
  PyObject *__pyx_11 = 0;
  PyObject *__pyx_12 = 0;
  PyObject *__pyx_13 = 0;
  PyObject *__pyx_14 = 0;
  PyObject *__pyx_15 = 0;
  PyObject *__pyx_16 = 0;
  PyObject *__pyx_17 = 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2757 */
  __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2758; goto __pyx_L1;}
  __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2758; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2758; goto __pyx_L1;}
  __pyx_4 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2758; goto __pyx_L1;}
  __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2759; goto __pyx_L1;}
  __pyx_6 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2759; goto __pyx_L1;}
  __pyx_7 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23); if (!__pyx_7) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2759; goto __pyx_L1;}
  __pyx_8 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24); if (!__pyx_8) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2759; goto __pyx_L1;}
  __pyx_9 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31); if (!__pyx_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2760; goto __pyx_L1;}
  __pyx_10 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32); if (!__pyx_10) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2760; goto __pyx_L1;}
  __pyx_11 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33); if (!__pyx_11) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2760; goto __pyx_L1;}
  __pyx_12 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34); if (!__pyx_12) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2760; goto __pyx_L1;}
  __pyx_13 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41); if (!__pyx_13) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2761; goto __pyx_L1;}
  __pyx_14 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42); if (!__pyx_14) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2761; goto __pyx_L1;}
  __pyx_15 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43); if (!__pyx_15) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2761; goto __pyx_L1;}
  __pyx_16 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44); if (!__pyx_16) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2761; goto __pyx_L1;}
  __pyx_17 = PyTuple_New(16); if (!__pyx_17) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2758; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_17, 0, __pyx_1);
  PyTuple_SET_ITEM(__pyx_17, 1, __pyx_2);
  PyTuple_SET_ITEM(__pyx_17, 2, __pyx_3);
  PyTuple_SET_ITEM(__pyx_17, 3, __pyx_4);
  PyTuple_SET_ITEM(__pyx_17, 4, __pyx_5);
  PyTuple_SET_ITEM(__pyx_17, 5, __pyx_6);
  PyTuple_SET_ITEM(__pyx_17, 6, __pyx_7);
  PyTuple_SET_ITEM(__pyx_17, 7, __pyx_8);
  PyTuple_SET_ITEM(__pyx_17, 8, __pyx_9);
  PyTuple_SET_ITEM(__pyx_17, 9, __pyx_10);
  PyTuple_SET_ITEM(__pyx_17, 10, __pyx_11);
  PyTuple_SET_ITEM(__pyx_17, 11, __pyx_12);
  PyTuple_SET_ITEM(__pyx_17, 12, __pyx_13);
  PyTuple_SET_ITEM(__pyx_17, 13, __pyx_14);
  PyTuple_SET_ITEM(__pyx_17, 14, __pyx_15);
  PyTuple_SET_ITEM(__pyx_17, 15, __pyx_16);
  __pyx_1 = 0;
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_5 = 0;
  __pyx_6 = 0;
  __pyx_7 = 0;
  __pyx_8 = 0;
  __pyx_9 = 0;
  __pyx_10 = 0;
  __pyx_11 = 0;
  __pyx_12 = 0;
  __pyx_13 = 0;
  __pyx_14 = 0;
  __pyx_15 = 0;
  __pyx_16 = 0;
  __pyx_1 = PyNumber_Remainder(__pyx_k149p, __pyx_17); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2757; goto __pyx_L1;}
  Py_DECREF(__pyx_17); __pyx_17 = 0;
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  Py_XDECREF(__pyx_7);
  Py_XDECREF(__pyx_8);
  Py_XDECREF(__pyx_9);
  Py_XDECREF(__pyx_10);
  Py_XDECREF(__pyx_11);
  Py_XDECREF(__pyx_12);
  Py_XDECREF(__pyx_13);
  Py_XDECREF(__pyx_14);
  Py_XDECREF(__pyx_15);
  Py_XDECREF(__pyx_16);
  Py_XDECREF(__pyx_17);
  __Pyx_AddTraceback("cgtypes.mat4.__str__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4___iter__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_4mat4___iter__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2764 */
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2764; goto __pyx_L1;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_self);
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4iter), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2764; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.mat4.__iter__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k150p;

static char (__pyx_k150[]) = "internal error: illegal rich comparison number";

static PyObject *__pyx_f_7cgtypes_4mat4___richcmp__(PyObject *__pyx_v_a, PyObject *__pyx_v_b, int __pyx_arg_op); /*proto*/
static PyObject *__pyx_f_7cgtypes_4mat4___richcmp__(PyObject *__pyx_v_a, PyObject *__pyx_v_b, int __pyx_arg_op) {
  PyObject *__pyx_v_op = 0;
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_ma;
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_mb;
  int __pyx_v_cop;
  PyObject *__pyx_v_ta;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  __pyx_v_op = PyInt_FromLong(__pyx_arg_op); if (!__pyx_v_op) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2766; goto __pyx_L1;}
  ((PyObject*)__pyx_v_ma) = Py_None; Py_INCREF(((PyObject*)__pyx_v_ma));
  ((PyObject*)__pyx_v_mb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_mb));
  __pyx_v_ta = Py_None; Py_INCREF(__pyx_v_ta);
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2770 */
  __pyx_1 = PyInt_AsLong(__pyx_v_op); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2770; goto __pyx_L1;}
  __pyx_v_cop = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2772 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2772; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2772; goto __pyx_L1;}
  Py_INCREF(__pyx_v_a);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_a);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2772; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_ta);
  __pyx_v_ta = __pyx_4;
  __pyx_4 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2773 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2773; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2773; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_b);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2773; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_4;
  __pyx_4 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2774 */
  if (PyObject_Cmp(__pyx_v_ta, ((PyObject*)__pyx_ptype_7cgtypes_mat4), &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2774; goto __pyx_L1;}
  __pyx_1 = __pyx_1 != 0;
  if (!__pyx_1) {
    if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_mat4), &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2774; goto __pyx_L1;}
    __pyx_1 = __pyx_1 != 0;
  }
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2775 */
    __pyx_1 = (__pyx_v_cop == 3);
    if (__pyx_1) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2776 */
      __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2776; goto __pyx_L1;}
      __pyx_r = __pyx_2;
      __pyx_2 = 0;
      goto __pyx_L0;
      goto __pyx_L3;
    }
    /*else*/ {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2778 */
      __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2778; goto __pyx_L1;}
      __pyx_r = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L0;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2780 */
  if (!__Pyx_TypeTest(__pyx_v_a, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2780; goto __pyx_L1;}
  Py_INCREF(__pyx_v_a);
  Py_DECREF(((PyObject *)__pyx_v_ma));
  ((PyObject *)__pyx_v_ma) = __pyx_v_a;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2781 */
  if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2781; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  Py_DECREF(((PyObject *)__pyx_v_mb));
  ((PyObject *)__pyx_v_mb) = __pyx_v_b;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2784 */
  __pyx_1 = (__pyx_v_cop == 0);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2785 */
    __pyx_4 = PyInt_FromLong(0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2785; goto __pyx_L1;}
    __pyx_r = __pyx_4;
    __pyx_4 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 1);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2788 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2788; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 2);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2791 */
    __pyx_1 = (fabs((__pyx_v_ma->m11 - __pyx_v_mb->m11)) <= __pyx_v_7cgtypes_eps);
    if (__pyx_1) {
      __pyx_1 = (fabs((__pyx_v_ma->m12 - __pyx_v_mb->m12)) <= __pyx_v_7cgtypes_eps);
      if (__pyx_1) {
        __pyx_1 = (fabs((__pyx_v_ma->m13 - __pyx_v_mb->m13)) <= __pyx_v_7cgtypes_eps);
        if (__pyx_1) {
          __pyx_1 = (fabs((__pyx_v_ma->m14 - __pyx_v_mb->m14)) <= __pyx_v_7cgtypes_eps);
          if (__pyx_1) {
            __pyx_1 = (fabs((__pyx_v_ma->m21 - __pyx_v_mb->m21)) <= __pyx_v_7cgtypes_eps);
            if (__pyx_1) {
              __pyx_1 = (fabs((__pyx_v_ma->m22 - __pyx_v_mb->m22)) <= __pyx_v_7cgtypes_eps);
              if (__pyx_1) {
                __pyx_1 = (fabs((__pyx_v_ma->m23 - __pyx_v_mb->m23)) <= __pyx_v_7cgtypes_eps);
                if (__pyx_1) {
                  __pyx_1 = (fabs((__pyx_v_ma->m24 - __pyx_v_mb->m24)) <= __pyx_v_7cgtypes_eps);
                  if (__pyx_1) {
                    __pyx_1 = (fabs((__pyx_v_ma->m31 - __pyx_v_mb->m31)) <= __pyx_v_7cgtypes_eps);
                    if (__pyx_1) {
                      __pyx_1 = (fabs((__pyx_v_ma->m32 - __pyx_v_mb->m32)) <= __pyx_v_7cgtypes_eps);
                      if (__pyx_1) {
                        __pyx_1 = (fabs((__pyx_v_ma->m33 - __pyx_v_mb->m33)) <= __pyx_v_7cgtypes_eps);
                        if (__pyx_1) {
                          __pyx_1 = (fabs((__pyx_v_ma->m34 - __pyx_v_mb->m34)) <= __pyx_v_7cgtypes_eps);
                          if (__pyx_1) {
                            __pyx_1 = (fabs((__pyx_v_ma->m41 - __pyx_v_mb->m41)) <= __pyx_v_7cgtypes_eps);
                            if (__pyx_1) {
                              __pyx_1 = (fabs((__pyx_v_ma->m42 - __pyx_v_mb->m42)) <= __pyx_v_7cgtypes_eps);
                              if (__pyx_1) {
                                __pyx_1 = (fabs((__pyx_v_ma->m43 - __pyx_v_mb->m43)) <= __pyx_v_7cgtypes_eps);
                                if (__pyx_1) {
                                  __pyx_1 = (fabs((__pyx_v_ma->m44 - __pyx_v_mb->m44)) <= __pyx_v_7cgtypes_eps);
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    __pyx_3 = PyInt_FromLong(__pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2791; goto __pyx_L1;}
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 3);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2801 */
    __pyx_1 = (fabs((__pyx_v_ma->m11 - __pyx_v_mb->m11)) > __pyx_v_7cgtypes_eps);
    if (!__pyx_1) {
      __pyx_1 = (fabs((__pyx_v_ma->m12 - __pyx_v_mb->m12)) > __pyx_v_7cgtypes_eps);
      if (!__pyx_1) {
        __pyx_1 = (fabs((__pyx_v_ma->m13 - __pyx_v_mb->m13)) > __pyx_v_7cgtypes_eps);
        if (!__pyx_1) {
          __pyx_1 = (fabs((__pyx_v_ma->m14 - __pyx_v_mb->m14)) > __pyx_v_7cgtypes_eps);
          if (!__pyx_1) {
            __pyx_1 = (fabs((__pyx_v_ma->m21 - __pyx_v_mb->m21)) > __pyx_v_7cgtypes_eps);
            if (!__pyx_1) {
              __pyx_1 = (fabs((__pyx_v_ma->m22 - __pyx_v_mb->m22)) > __pyx_v_7cgtypes_eps);
              if (!__pyx_1) {
                __pyx_1 = (fabs((__pyx_v_ma->m23 - __pyx_v_mb->m23)) > __pyx_v_7cgtypes_eps);
                if (!__pyx_1) {
                  __pyx_1 = (fabs((__pyx_v_ma->m24 - __pyx_v_mb->m24)) > __pyx_v_7cgtypes_eps);
                  if (!__pyx_1) {
                    __pyx_1 = (fabs((__pyx_v_ma->m31 - __pyx_v_mb->m31)) > __pyx_v_7cgtypes_eps);
                    if (!__pyx_1) {
                      __pyx_1 = (fabs((__pyx_v_ma->m32 - __pyx_v_mb->m32)) > __pyx_v_7cgtypes_eps);
                      if (!__pyx_1) {
                        __pyx_1 = (fabs((__pyx_v_ma->m33 - __pyx_v_mb->m33)) > __pyx_v_7cgtypes_eps);
                        if (!__pyx_1) {
                          __pyx_1 = (fabs((__pyx_v_ma->m34 - __pyx_v_mb->m34)) > __pyx_v_7cgtypes_eps);
                          if (!__pyx_1) {
                            __pyx_1 = (fabs((__pyx_v_ma->m41 - __pyx_v_mb->m41)) > __pyx_v_7cgtypes_eps);
                            if (!__pyx_1) {
                              __pyx_1 = (fabs((__pyx_v_ma->m42 - __pyx_v_mb->m42)) > __pyx_v_7cgtypes_eps);
                              if (!__pyx_1) {
                                __pyx_1 = (fabs((__pyx_v_ma->m43 - __pyx_v_mb->m43)) > __pyx_v_7cgtypes_eps);
                                if (!__pyx_1) {
                                  __pyx_1 = (fabs((__pyx_v_ma->m44 - __pyx_v_mb->m44)) > __pyx_v_7cgtypes_eps);
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    __pyx_4 = PyInt_FromLong(__pyx_1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2801; goto __pyx_L1;}
    __pyx_r = __pyx_4;
    __pyx_4 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 4);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2811 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2811; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 5);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2814 */
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2814; goto __pyx_L1;}
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2817 */
    __pyx_4 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2817; goto __pyx_L1;}
    __Pyx_Raise(__pyx_4, __pyx_k150p, 0);
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2817; goto __pyx_L1;}
  }
  __pyx_L4:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("cgtypes.mat4.__richcmp__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_op);
  Py_DECREF(__pyx_v_ma);
  Py_DECREF(__pyx_v_mb);
  Py_DECREF(__pyx_v_ta);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4___add__(PyObject *__pyx_v_a, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4mat4___add__[] = "Matrix addition.\n\n        >>> M=mat4(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16)\n        >>> print M+M\n        [   2.0000,    4.0000,    6.0000,    8.0000]\n        [  10.0000,   12.0000,   14.0000,   16.0000]\n        [  18.0000,   20.0000,   22.0000,   24.0000]\n        [  26.0000,   28.0000,   30.0000,   32.0000]\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4___add__(PyObject *__pyx_v_a, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_a), __pyx_ptype_7cgtypes_mat4, 1, "a")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2820; goto __pyx_L1;}
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_b), __pyx_ptype_7cgtypes_mat4, 1, "b")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2820; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2831 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2831; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2831; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2831; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2832 */
  __pyx_v_res->m11 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m11 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m11);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2833 */
  __pyx_v_res->m12 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m12 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m12);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2834 */
  __pyx_v_res->m13 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m13 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m13);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2835 */
  __pyx_v_res->m14 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m14 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m14);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2836 */
  __pyx_v_res->m21 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m21 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m21);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2837 */
  __pyx_v_res->m22 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m22 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m22);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2838 */
  __pyx_v_res->m23 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m23 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m23);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2839 */
  __pyx_v_res->m24 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m24 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m24);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2840 */
  __pyx_v_res->m31 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m31 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m31);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2841 */
  __pyx_v_res->m32 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m32 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m32);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2842 */
  __pyx_v_res->m33 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m33 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m33);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2843 */
  __pyx_v_res->m34 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m34 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m34);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2844 */
  __pyx_v_res->m41 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m41 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m41);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2845 */
  __pyx_v_res->m42 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m42 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m42);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2846 */
  __pyx_v_res->m43 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m43 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m43);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2847 */
  __pyx_v_res->m44 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m44 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m44);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2848 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.mat4.__add__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4___sub__(PyObject *__pyx_v_a, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4mat4___sub__[] = "Matrix subtraction.\n\n        >>> M=mat4(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16)\n        >>> print M-M\n        [   0.0000,    0.0000,    0.0000,    0.0000]\n        [   0.0000,    0.0000,    0.0000,    0.0000]\n        [   0.0000,    0.0000,    0.0000,    0.0000]\n        [   0.0000,    0.0000,    0.0000,    0.0000]\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4___sub__(PyObject *__pyx_v_a, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_a), __pyx_ptype_7cgtypes_mat4, 1, "a")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2850; goto __pyx_L1;}
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_b), __pyx_ptype_7cgtypes_mat4, 1, "b")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2850; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2861 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2861; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2861; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2861; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2862 */
  __pyx_v_res->m11 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m11 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m11);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2863 */
  __pyx_v_res->m12 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m12 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m12);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2864 */
  __pyx_v_res->m13 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m13 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m13);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2865 */
  __pyx_v_res->m14 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m14 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m14);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2866 */
  __pyx_v_res->m21 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m21 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m21);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2867 */
  __pyx_v_res->m22 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m22 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m22);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2868 */
  __pyx_v_res->m23 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m23 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m23);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2869 */
  __pyx_v_res->m24 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m24 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m24);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2870 */
  __pyx_v_res->m31 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m31 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m31);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2871 */
  __pyx_v_res->m32 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m32 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m32);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2872 */
  __pyx_v_res->m33 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m33 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m33);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2873 */
  __pyx_v_res->m34 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m34 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m34);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2874 */
  __pyx_v_res->m41 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m41 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m41);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2875 */
  __pyx_v_res->m42 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m42 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m42);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2876 */
  __pyx_v_res->m43 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m43 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m43);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2877 */
  __pyx_v_res->m44 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m44 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_b)->m44);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2878 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.mat4.__sub__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_k151p;

static char (__pyx_k151[]) = "unsupported operand type for *";

static PyObject *__pyx_f_7cgtypes_4mat4___mul__(PyObject *__pyx_v_a, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4mat4___mul__[] = "Multiplication.\n\n        >>> M=mat4(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16)\n        >>> print M*2.0\n        [   2.0000,    4.0000,    6.0000,    8.0000]\n        [  10.0000,   12.0000,   14.0000,   16.0000]\n        [  18.0000,   20.0000,   22.0000,   24.0000]\n        [  26.0000,   28.0000,   30.0000,   32.0000]\n        >>> print 2.0*M\n        [   2.0000,    4.0000,    6.0000,    8.0000]\n        [  10.0000,   12.0000,   14.0000,   16.0000]\n        [  18.0000,   20.0000,   22.0000,   24.0000]\n        [  26.0000,   28.0000,   30.0000,   32.0000]\n        >>> print M*M\n        [  90.0000,  100.0000,  110.0000,  120.0000]\n        [ 202.0000,  228.0000,  254.0000,  280.0000]\n        [ 314.0000,  356.0000,  398.0000,  440.0000]\n        [ 426.0000,  484.0000,  542.0000,  600.0000]\n        >>> print M*_vec3(1,2,3)\n        (0.1765, 0.4510, 0.7255)\n        >>> print _vec3(1,2,3)*M\n        (0.7083, 0.8056, 0.9028)\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4___mul__(PyObject *__pyx_v_a, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_ma;
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_mb;
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_res;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_va;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_vb;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_vres;
  struct __pyx_obj_7cgtypes_vec4 *__pyx_v_wa;
  struct __pyx_obj_7cgtypes_vec4 *__pyx_v_wb;
  struct __pyx_obj_7cgtypes_vec4 *__pyx_v_wres;
  double __pyx_v_r;
  double __pyx_v_w;
  PyObject *__pyx_v_ta;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_ma) = Py_None; Py_INCREF(((PyObject*)__pyx_v_ma));
  ((PyObject*)__pyx_v_mb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_mb));
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  ((PyObject*)__pyx_v_va) = Py_None; Py_INCREF(((PyObject*)__pyx_v_va));
  ((PyObject*)__pyx_v_vb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_vb));
  ((PyObject*)__pyx_v_vres) = Py_None; Py_INCREF(((PyObject*)__pyx_v_vres));
  ((PyObject*)__pyx_v_wa) = Py_None; Py_INCREF(((PyObject*)__pyx_v_wa));
  ((PyObject*)__pyx_v_wb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_wb));
  ((PyObject*)__pyx_v_wres) = Py_None; Py_INCREF(((PyObject*)__pyx_v_wres));
  __pyx_v_ta = Py_None; Py_INCREF(__pyx_v_ta);
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2909 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2909; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2909; goto __pyx_L1;}
  Py_INCREF(__pyx_v_a);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_a);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2909; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_ta);
  __pyx_v_ta = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2910 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2910; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2910; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_b);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2910; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2913 */
  if (PyObject_Cmp(__pyx_v_ta, ((PyObject*)__pyx_ptype_7cgtypes_mat4), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2913; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2914 */
    if (!__Pyx_TypeTest(__pyx_v_a, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2914; goto __pyx_L1;}
    Py_INCREF(__pyx_v_a);
    Py_DECREF(((PyObject *)__pyx_v_ma));
    ((PyObject *)__pyx_v_ma) = __pyx_v_a;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2916 */
    if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_mat4), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2916; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2918 */
      __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2918; goto __pyx_L1;}
      __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2918; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2918; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_res));
      ((PyObject *)__pyx_v_res) = __pyx_2;
      __pyx_2 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2919 */
      if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2919; goto __pyx_L1;}
      Py_INCREF(__pyx_v_b);
      Py_DECREF(((PyObject *)__pyx_v_mb));
      ((PyObject *)__pyx_v_mb) = __pyx_v_b;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2920 */
      __pyx_v_res->m11 = ((((__pyx_v_ma->m11 * __pyx_v_mb->m11) + (__pyx_v_ma->m12 * __pyx_v_mb->m21)) + (__pyx_v_ma->m13 * __pyx_v_mb->m31)) + (__pyx_v_ma->m14 * __pyx_v_mb->m41));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2921 */
      __pyx_v_res->m12 = ((((__pyx_v_ma->m11 * __pyx_v_mb->m12) + (__pyx_v_ma->m12 * __pyx_v_mb->m22)) + (__pyx_v_ma->m13 * __pyx_v_mb->m32)) + (__pyx_v_ma->m14 * __pyx_v_mb->m42));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2922 */
      __pyx_v_res->m13 = ((((__pyx_v_ma->m11 * __pyx_v_mb->m13) + (__pyx_v_ma->m12 * __pyx_v_mb->m23)) + (__pyx_v_ma->m13 * __pyx_v_mb->m33)) + (__pyx_v_ma->m14 * __pyx_v_mb->m43));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2923 */
      __pyx_v_res->m14 = ((((__pyx_v_ma->m11 * __pyx_v_mb->m14) + (__pyx_v_ma->m12 * __pyx_v_mb->m24)) + (__pyx_v_ma->m13 * __pyx_v_mb->m34)) + (__pyx_v_ma->m14 * __pyx_v_mb->m44));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2924 */
      __pyx_v_res->m21 = ((((__pyx_v_ma->m21 * __pyx_v_mb->m11) + (__pyx_v_ma->m22 * __pyx_v_mb->m21)) + (__pyx_v_ma->m23 * __pyx_v_mb->m31)) + (__pyx_v_ma->m24 * __pyx_v_mb->m41));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2925 */
      __pyx_v_res->m22 = ((((__pyx_v_ma->m21 * __pyx_v_mb->m12) + (__pyx_v_ma->m22 * __pyx_v_mb->m22)) + (__pyx_v_ma->m23 * __pyx_v_mb->m32)) + (__pyx_v_ma->m24 * __pyx_v_mb->m42));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2926 */
      __pyx_v_res->m23 = ((((__pyx_v_ma->m21 * __pyx_v_mb->m13) + (__pyx_v_ma->m22 * __pyx_v_mb->m23)) + (__pyx_v_ma->m23 * __pyx_v_mb->m33)) + (__pyx_v_ma->m24 * __pyx_v_mb->m43));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2927 */
      __pyx_v_res->m24 = ((((__pyx_v_ma->m21 * __pyx_v_mb->m14) + (__pyx_v_ma->m22 * __pyx_v_mb->m24)) + (__pyx_v_ma->m23 * __pyx_v_mb->m34)) + (__pyx_v_ma->m24 * __pyx_v_mb->m44));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2928 */
      __pyx_v_res->m31 = ((((__pyx_v_ma->m31 * __pyx_v_mb->m11) + (__pyx_v_ma->m32 * __pyx_v_mb->m21)) + (__pyx_v_ma->m33 * __pyx_v_mb->m31)) + (__pyx_v_ma->m34 * __pyx_v_mb->m41));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2929 */
      __pyx_v_res->m32 = ((((__pyx_v_ma->m31 * __pyx_v_mb->m12) + (__pyx_v_ma->m32 * __pyx_v_mb->m22)) + (__pyx_v_ma->m33 * __pyx_v_mb->m32)) + (__pyx_v_ma->m34 * __pyx_v_mb->m42));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2930 */
      __pyx_v_res->m33 = ((((__pyx_v_ma->m31 * __pyx_v_mb->m13) + (__pyx_v_ma->m32 * __pyx_v_mb->m23)) + (__pyx_v_ma->m33 * __pyx_v_mb->m33)) + (__pyx_v_ma->m34 * __pyx_v_mb->m43));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2931 */
      __pyx_v_res->m34 = ((((__pyx_v_ma->m31 * __pyx_v_mb->m14) + (__pyx_v_ma->m32 * __pyx_v_mb->m24)) + (__pyx_v_ma->m33 * __pyx_v_mb->m34)) + (__pyx_v_ma->m34 * __pyx_v_mb->m44));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2932 */
      __pyx_v_res->m41 = ((((__pyx_v_ma->m41 * __pyx_v_mb->m11) + (__pyx_v_ma->m42 * __pyx_v_mb->m21)) + (__pyx_v_ma->m43 * __pyx_v_mb->m31)) + (__pyx_v_ma->m44 * __pyx_v_mb->m41));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2933 */
      __pyx_v_res->m42 = ((((__pyx_v_ma->m41 * __pyx_v_mb->m12) + (__pyx_v_ma->m42 * __pyx_v_mb->m22)) + (__pyx_v_ma->m43 * __pyx_v_mb->m32)) + (__pyx_v_ma->m44 * __pyx_v_mb->m42));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2934 */
      __pyx_v_res->m43 = ((((__pyx_v_ma->m41 * __pyx_v_mb->m13) + (__pyx_v_ma->m42 * __pyx_v_mb->m23)) + (__pyx_v_ma->m43 * __pyx_v_mb->m33)) + (__pyx_v_ma->m44 * __pyx_v_mb->m43));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2935 */
      __pyx_v_res->m44 = ((((__pyx_v_ma->m41 * __pyx_v_mb->m14) + (__pyx_v_ma->m42 * __pyx_v_mb->m24)) + (__pyx_v_ma->m43 * __pyx_v_mb->m34)) + (__pyx_v_ma->m44 * __pyx_v_mb->m44));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2936 */
      Py_INCREF(((PyObject *)__pyx_v_res));
      __pyx_r = ((PyObject *)__pyx_v_res);
      goto __pyx_L0;
      goto __pyx_L3;
    }
    if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_vec4), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2938; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2940 */
      __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2940; goto __pyx_L1;}
      __pyx_1 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2940; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2940; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_wres));
      ((PyObject *)__pyx_v_wres) = __pyx_1;
      __pyx_1 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2941 */
      if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2941; goto __pyx_L1;}
      Py_INCREF(__pyx_v_b);
      Py_DECREF(((PyObject *)__pyx_v_wb));
      ((PyObject *)__pyx_v_wb) = __pyx_v_b;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2942 */
      __pyx_v_wres->x = ((((__pyx_v_ma->m11 * __pyx_v_wb->x) + (__pyx_v_ma->m12 * __pyx_v_wb->y)) + (__pyx_v_ma->m13 * __pyx_v_wb->z)) + (__pyx_v_ma->m14 * __pyx_v_wb->w));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2943 */
      __pyx_v_wres->y = ((((__pyx_v_ma->m21 * __pyx_v_wb->x) + (__pyx_v_ma->m22 * __pyx_v_wb->y)) + (__pyx_v_ma->m23 * __pyx_v_wb->z)) + (__pyx_v_ma->m24 * __pyx_v_wb->w));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2944 */
      __pyx_v_wres->z = ((((__pyx_v_ma->m31 * __pyx_v_wb->x) + (__pyx_v_ma->m32 * __pyx_v_wb->y)) + (__pyx_v_ma->m33 * __pyx_v_wb->z)) + (__pyx_v_ma->m34 * __pyx_v_wb->w));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2945 */
      __pyx_v_wres->w = ((((__pyx_v_ma->m41 * __pyx_v_wb->x) + (__pyx_v_ma->m42 * __pyx_v_wb->y)) + (__pyx_v_ma->m43 * __pyx_v_wb->z)) + (__pyx_v_ma->m44 * __pyx_v_wb->w));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2946 */
      Py_INCREF(((PyObject *)__pyx_v_wres));
      __pyx_r = ((PyObject *)__pyx_v_wres);
      goto __pyx_L0;
      goto __pyx_L3;
    }
    if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_vec3), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2948; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2950 */
      __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2950; goto __pyx_L1;}
      __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2950; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2950; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_vres));
      ((PyObject *)__pyx_v_vres) = __pyx_3;
      __pyx_3 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2951 */
      if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2951; goto __pyx_L1;}
      Py_INCREF(__pyx_v_b);
      Py_DECREF(((PyObject *)__pyx_v_vb));
      ((PyObject *)__pyx_v_vb) = __pyx_v_b;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2952 */
      __pyx_v_vres->x = ((((__pyx_v_ma->m11 * __pyx_v_vb->x) + (__pyx_v_ma->m12 * __pyx_v_vb->y)) + (__pyx_v_ma->m13 * __pyx_v_vb->z)) + __pyx_v_ma->m14);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2953 */
      __pyx_v_vres->y = ((((__pyx_v_ma->m21 * __pyx_v_vb->x) + (__pyx_v_ma->m22 * __pyx_v_vb->y)) + (__pyx_v_ma->m23 * __pyx_v_vb->z)) + __pyx_v_ma->m24);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2954 */
      __pyx_v_vres->z = ((((__pyx_v_ma->m31 * __pyx_v_vb->x) + (__pyx_v_ma->m32 * __pyx_v_vb->y)) + (__pyx_v_ma->m33 * __pyx_v_vb->z)) + __pyx_v_ma->m34);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2955 */
      __pyx_v_w = ((((__pyx_v_ma->m41 * __pyx_v_vb->x) + (__pyx_v_ma->m42 * __pyx_v_vb->y)) + (__pyx_v_ma->m43 * __pyx_v_vb->z)) + __pyx_v_ma->m44);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2956 */
      __pyx_4 = (fabs(__pyx_v_w) > __pyx_v_7cgtypes_eps);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2957 */
        __pyx_v_vres->x = (__pyx_v_vres->x / __pyx_v_w);

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2958 */
        __pyx_v_vres->y = (__pyx_v_vres->y / __pyx_v_w);

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":2959 */
        __pyx_v_vres->z = (__pyx_v_vres->z / __pyx_v_w);
        goto __pyx_L4;
      }
      __pyx_L4:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2960 */
      Py_INCREF(((PyObject *)__pyx_v_vres));
      __pyx_r = ((PyObject *)__pyx_v_vres);
      goto __pyx_L0;
      goto __pyx_L3;
    }
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2962; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2962; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__pyx_4) {
      __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2962; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2962; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      if (!__pyx_4) {
        __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2962; goto __pyx_L1;}
        if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2962; goto __pyx_L1;}
        __pyx_4 = __pyx_4 == 0;
        Py_DECREF(__pyx_3); __pyx_3 = 0;
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2963 */
      __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2963; goto __pyx_L1;}
      __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2963; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2963; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_res));
      ((PyObject *)__pyx_v_res) = __pyx_2;
      __pyx_2 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2964 */
      __pyx_5 = PyFloat_AsDouble(__pyx_v_b); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2964; goto __pyx_L1;}
      __pyx_v_r = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2965 */
      __pyx_v_res->m11 = (__pyx_v_ma->m11 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2966 */
      __pyx_v_res->m12 = (__pyx_v_ma->m12 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2967 */
      __pyx_v_res->m13 = (__pyx_v_ma->m13 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2968 */
      __pyx_v_res->m14 = (__pyx_v_ma->m14 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2969 */
      __pyx_v_res->m21 = (__pyx_v_ma->m21 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2970 */
      __pyx_v_res->m22 = (__pyx_v_ma->m22 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2971 */
      __pyx_v_res->m23 = (__pyx_v_ma->m23 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2972 */
      __pyx_v_res->m24 = (__pyx_v_ma->m24 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2973 */
      __pyx_v_res->m31 = (__pyx_v_ma->m31 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2974 */
      __pyx_v_res->m32 = (__pyx_v_ma->m32 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2975 */
      __pyx_v_res->m33 = (__pyx_v_ma->m33 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2976 */
      __pyx_v_res->m34 = (__pyx_v_ma->m34 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2977 */
      __pyx_v_res->m41 = (__pyx_v_ma->m41 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2978 */
      __pyx_v_res->m42 = (__pyx_v_ma->m42 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2979 */
      __pyx_v_res->m43 = (__pyx_v_ma->m43 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2980 */
      __pyx_v_res->m44 = (__pyx_v_ma->m44 * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":2981 */
      Py_INCREF(((PyObject *)__pyx_v_res));
      __pyx_r = ((PyObject *)__pyx_v_res);
      goto __pyx_L0;
      goto __pyx_L3;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_ta, ((PyObject*)__pyx_ptype_7cgtypes_vec4), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2984; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2986 */
    __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2986; goto __pyx_L1;}
    __pyx_1 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2986; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2986; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_wres));
    ((PyObject *)__pyx_v_wres) = __pyx_1;
    __pyx_1 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2987 */
    if (!__Pyx_TypeTest(__pyx_v_a, __pyx_ptype_7cgtypes_vec4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2987; goto __pyx_L1;}
    Py_INCREF(__pyx_v_a);
    Py_DECREF(((PyObject *)__pyx_v_wa));
    ((PyObject *)__pyx_v_wa) = __pyx_v_a;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2988 */
    if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2988; goto __pyx_L1;}
    Py_INCREF(__pyx_v_b);
    Py_DECREF(((PyObject *)__pyx_v_mb));
    ((PyObject *)__pyx_v_mb) = __pyx_v_b;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2989 */
    __pyx_v_wres->x = ((((__pyx_v_wa->x * __pyx_v_mb->m11) + (__pyx_v_wa->y * __pyx_v_mb->m21)) + (__pyx_v_wa->z * __pyx_v_mb->m31)) + (__pyx_v_wa->w * __pyx_v_mb->m41));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2990 */
    __pyx_v_wres->y = ((((__pyx_v_wa->x * __pyx_v_mb->m12) + (__pyx_v_wa->y * __pyx_v_mb->m22)) + (__pyx_v_wa->z * __pyx_v_mb->m32)) + (__pyx_v_wa->w * __pyx_v_mb->m42));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2991 */
    __pyx_v_wres->z = ((((__pyx_v_wa->x * __pyx_v_mb->m13) + (__pyx_v_wa->y * __pyx_v_mb->m23)) + (__pyx_v_wa->z * __pyx_v_mb->m33)) + (__pyx_v_wa->w * __pyx_v_mb->m43));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2992 */
    __pyx_v_wres->w = ((((__pyx_v_wa->x * __pyx_v_mb->m14) + (__pyx_v_wa->y * __pyx_v_mb->m24)) + (__pyx_v_wa->z * __pyx_v_mb->m34)) + (__pyx_v_wa->w * __pyx_v_mb->m44));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2993 */
    Py_INCREF(((PyObject *)__pyx_v_wres));
    __pyx_r = ((PyObject *)__pyx_v_wres);
    goto __pyx_L0;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_ta, ((PyObject*)__pyx_ptype_7cgtypes_vec3), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2996; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2998 */
    __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2998; goto __pyx_L1;}
    __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2998; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2998; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_vres));
    ((PyObject *)__pyx_v_vres) = __pyx_3;
    __pyx_3 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":2999 */
    if (!__Pyx_TypeTest(__pyx_v_a, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2999; goto __pyx_L1;}
    Py_INCREF(__pyx_v_a);
    Py_DECREF(((PyObject *)__pyx_v_va));
    ((PyObject *)__pyx_v_va) = __pyx_v_a;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3000 */
    if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3000; goto __pyx_L1;}
    Py_INCREF(__pyx_v_b);
    Py_DECREF(((PyObject *)__pyx_v_mb));
    ((PyObject *)__pyx_v_mb) = __pyx_v_b;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3001 */
    __pyx_v_vres->x = ((((__pyx_v_va->x * __pyx_v_mb->m11) + (__pyx_v_va->y * __pyx_v_mb->m21)) + (__pyx_v_va->z * __pyx_v_mb->m31)) + __pyx_v_mb->m41);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3002 */
    __pyx_v_vres->y = ((((__pyx_v_va->x * __pyx_v_mb->m12) + (__pyx_v_va->y * __pyx_v_mb->m22)) + (__pyx_v_va->z * __pyx_v_mb->m32)) + __pyx_v_mb->m42);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3003 */
    __pyx_v_vres->z = ((((__pyx_v_va->x * __pyx_v_mb->m13) + (__pyx_v_va->y * __pyx_v_mb->m23)) + (__pyx_v_va->z * __pyx_v_mb->m33)) + __pyx_v_mb->m43);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3004 */
    __pyx_v_w = ((((__pyx_v_va->x * __pyx_v_mb->m14) + (__pyx_v_va->y * __pyx_v_mb->m24)) + (__pyx_v_va->z * __pyx_v_mb->m34)) + __pyx_v_mb->m44);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3005 */
    __pyx_4 = (fabs(__pyx_v_w) > __pyx_v_7cgtypes_eps);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3006 */
      __pyx_v_vres->x = (__pyx_v_vres->x / __pyx_v_w);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3007 */
      __pyx_v_vres->y = (__pyx_v_vres->y / __pyx_v_w);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3008 */
      __pyx_v_vres->z = (__pyx_v_vres->z / __pyx_v_w);
      goto __pyx_L5;
    }
    __pyx_L5:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3009 */
    Py_INCREF(((PyObject *)__pyx_v_vres));
    __pyx_r = ((PyObject *)__pyx_v_vres);
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3012; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_ta, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3012; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3012; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_ta, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3012; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3012; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_ta, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3012; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3013 */
    __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3013; goto __pyx_L1;}
    __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3013; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3013; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_res));
    ((PyObject *)__pyx_v_res) = __pyx_2;
    __pyx_2 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3014 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_a); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3014; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3015 */
    if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3015; goto __pyx_L1;}
    Py_INCREF(__pyx_v_b);
    Py_DECREF(((PyObject *)__pyx_v_mb));
    ((PyObject *)__pyx_v_mb) = __pyx_v_b;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3016 */
    __pyx_v_res->m11 = (__pyx_v_r * __pyx_v_mb->m11);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3017 */
    __pyx_v_res->m12 = (__pyx_v_r * __pyx_v_mb->m12);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3018 */
    __pyx_v_res->m13 = (__pyx_v_r * __pyx_v_mb->m13);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3019 */
    __pyx_v_res->m14 = (__pyx_v_r * __pyx_v_mb->m14);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3020 */
    __pyx_v_res->m21 = (__pyx_v_r * __pyx_v_mb->m21);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3021 */
    __pyx_v_res->m22 = (__pyx_v_r * __pyx_v_mb->m22);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3022 */
    __pyx_v_res->m23 = (__pyx_v_r * __pyx_v_mb->m23);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3023 */
    __pyx_v_res->m24 = (__pyx_v_r * __pyx_v_mb->m24);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3024 */
    __pyx_v_res->m31 = (__pyx_v_r * __pyx_v_mb->m31);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3025 */
    __pyx_v_res->m32 = (__pyx_v_r * __pyx_v_mb->m32);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3026 */
    __pyx_v_res->m33 = (__pyx_v_r * __pyx_v_mb->m33);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3027 */
    __pyx_v_res->m34 = (__pyx_v_r * __pyx_v_mb->m34);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3028 */
    __pyx_v_res->m41 = (__pyx_v_r * __pyx_v_mb->m41);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3029 */
    __pyx_v_res->m42 = (__pyx_v_r * __pyx_v_mb->m42);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3030 */
    __pyx_v_res->m43 = (__pyx_v_r * __pyx_v_mb->m43);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3031 */
    __pyx_v_res->m44 = (__pyx_v_r * __pyx_v_mb->m44);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3032 */
    Py_INCREF(((PyObject *)__pyx_v_res));
    __pyx_r = ((PyObject *)__pyx_v_res);
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3035 */
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3035; goto __pyx_L1;}
  __Pyx_Raise(__pyx_3, __pyx_k151p, 0);
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3035; goto __pyx_L1;}

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat4.__mul__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_ma);
  Py_DECREF(__pyx_v_mb);
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_va);
  Py_DECREF(__pyx_v_vb);
  Py_DECREF(__pyx_v_vres);
  Py_DECREF(__pyx_v_wa);
  Py_DECREF(__pyx_v_wb);
  Py_DECREF(__pyx_v_wres);
  Py_DECREF(__pyx_v_ta);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_k152p;
static PyObject *__pyx_k153p;

static char (__pyx_k152[]) = "mat4 division";
static char (__pyx_k153[]) = "unsupported operand type for /";

static PyObject *__pyx_f_7cgtypes_4mat4___div__(PyObject *__pyx_v_a, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4mat4___div__[] = "Division.\n        \n        >>> M=mat4(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16)\n        >>> print M/2.0\n        [   0.5000,    1.0000,    1.5000,    2.0000]\n        [   2.5000,    3.0000,    3.5000,    4.0000]\n        [   4.5000,    5.0000,    5.5000,    6.0000]\n        [   6.5000,    7.0000,    7.5000,    8.0000]\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4___div__(PyObject *__pyx_v_a, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_res;
  double __pyx_v_r;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_a), __pyx_ptype_7cgtypes_mat4, 1, "a")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3037; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3050 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3050; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3050; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_b);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3050; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3052 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3052; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3052; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3052; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3052; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3052; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3052; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3054 */
    __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3054; goto __pyx_L1;}
    __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3054; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3054; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_res));
    ((PyObject *)__pyx_v_res) = __pyx_2;
    __pyx_2 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3055 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_b); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3055; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3056 */
    __pyx_4 = (fabs(__pyx_v_r) <= __pyx_v_7cgtypes_eps);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3057 */
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3057; goto __pyx_L1;}
      __Pyx_Raise(__pyx_3, __pyx_k152p, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3057; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3058 */
    __pyx_v_res->m11 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m11 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3059 */
    __pyx_v_res->m12 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m12 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3060 */
    __pyx_v_res->m13 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m13 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3061 */
    __pyx_v_res->m14 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m14 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3062 */
    __pyx_v_res->m21 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m21 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3063 */
    __pyx_v_res->m22 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m22 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3064 */
    __pyx_v_res->m23 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m23 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3065 */
    __pyx_v_res->m24 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m24 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3066 */
    __pyx_v_res->m31 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m31 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3067 */
    __pyx_v_res->m32 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m32 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3068 */
    __pyx_v_res->m33 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m33 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3069 */
    __pyx_v_res->m34 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m34 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3070 */
    __pyx_v_res->m41 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m41 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3071 */
    __pyx_v_res->m42 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m42 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3072 */
    __pyx_v_res->m43 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m43 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3073 */
    __pyx_v_res->m44 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_a)->m44 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3074 */
    Py_INCREF(((PyObject *)__pyx_v_res));
    __pyx_r = ((PyObject *)__pyx_v_res);
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3076 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3076; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k153p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3076; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat4.__div__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_k154p;
static PyObject *__pyx_k155p;
static PyObject *__pyx_k156p;

static char (__pyx_k154[]) = "mat4 modulo";
static char (__pyx_k155[]) = "mat4 modulo";
static char (__pyx_k156[]) = "unsupported operand type for %";

static PyObject *__pyx_f_7cgtypes_4mat4___mod__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4mat4___mod__[] = "Modulo.\n\n        >>> M=mat4(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16)\n        >>> print M%5.0\n        [   1.0000,    2.0000,    3.0000,    4.0000]\n        [   0.0000,    1.0000,    2.0000,    3.0000]\n        [   4.0000,    0.0000,    1.0000,    2.0000]\n        [   3.0000,    4.0000,    0.0000,    1.0000]\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4___mod__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_mb;
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_res;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_v_r;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  ((PyObject*)__pyx_v_mb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_mb));
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);
  __pyx_v_r = Py_None; Py_INCREF(__pyx_v_r);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_self), __pyx_ptype_7cgtypes_mat4, 1, "self")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3078; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3090 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3090; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3090; goto __pyx_L1;}
  Py_INCREF(__pyx_v_other);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_other);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3090; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3092 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3092; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3092; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3092; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3092; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3092; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3092; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3093 */
    Py_INCREF(__pyx_v_other);
    Py_DECREF(__pyx_v_r);
    __pyx_v_r = __pyx_v_other;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3094 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3094; goto __pyx_L1;}
    __pyx_4 = (fabs(__pyx_5) <= __pyx_v_7cgtypes_eps);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3095 */
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3095; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_k154p, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3095; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3096 */
    __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3096; goto __pyx_L1;}
    __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3096; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3096; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_res));
    ((PyObject *)__pyx_v_res) = __pyx_3;
    __pyx_3 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3097 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3097; goto __pyx_L1;}
    __pyx_v_res->m11 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3098 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3098; goto __pyx_L1;}
    __pyx_v_res->m12 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3099 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3099; goto __pyx_L1;}
    __pyx_v_res->m13 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3100 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3100; goto __pyx_L1;}
    __pyx_v_res->m14 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3101 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3101; goto __pyx_L1;}
    __pyx_v_res->m21 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3102 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3102; goto __pyx_L1;}
    __pyx_v_res->m22 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3103 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3103; goto __pyx_L1;}
    __pyx_v_res->m23 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3104 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3104; goto __pyx_L1;}
    __pyx_v_res->m24 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3105 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3105; goto __pyx_L1;}
    __pyx_v_res->m31 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3106 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3106; goto __pyx_L1;}
    __pyx_v_res->m32 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3107 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3107; goto __pyx_L1;}
    __pyx_v_res->m33 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3108 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3108; goto __pyx_L1;}
    __pyx_v_res->m34 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3109 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3109; goto __pyx_L1;}
    __pyx_v_res->m41 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3110 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3110; goto __pyx_L1;}
    __pyx_v_res->m42 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3111 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3111; goto __pyx_L1;}
    __pyx_v_res->m43 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3112 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_r); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3112; goto __pyx_L1;}
    __pyx_v_res->m44 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44,__pyx_5);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3113 */
    Py_INCREF(((PyObject *)__pyx_v_res));
    __pyx_r = ((PyObject *)__pyx_v_res);
    goto __pyx_L0;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_mat4), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3115; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3116 */
    if (!__Pyx_TypeTest(__pyx_v_other, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3116; goto __pyx_L1;}
    Py_INCREF(__pyx_v_other);
    Py_DECREF(((PyObject *)__pyx_v_mb));
    ((PyObject *)__pyx_v_mb) = __pyx_v_other;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3118 */
    __pyx_4 = (fabs(__pyx_v_mb->m11) <= __pyx_v_7cgtypes_eps);
    if (!__pyx_4) {
      __pyx_4 = (fabs(__pyx_v_mb->m12) <= __pyx_v_7cgtypes_eps);
      if (!__pyx_4) {
        __pyx_4 = (fabs(__pyx_v_mb->m13) <= __pyx_v_7cgtypes_eps);
        if (!__pyx_4) {
          __pyx_4 = (fabs(__pyx_v_mb->m14) <= __pyx_v_7cgtypes_eps);
          if (!__pyx_4) {
            __pyx_4 = (fabs(__pyx_v_mb->m21) <= __pyx_v_7cgtypes_eps);
            if (!__pyx_4) {
              __pyx_4 = (fabs(__pyx_v_mb->m22) <= __pyx_v_7cgtypes_eps);
              if (!__pyx_4) {
                __pyx_4 = (fabs(__pyx_v_mb->m23) <= __pyx_v_7cgtypes_eps);
                if (!__pyx_4) {
                  __pyx_4 = (fabs(__pyx_v_mb->m24) <= __pyx_v_7cgtypes_eps);
                  if (!__pyx_4) {
                    __pyx_4 = (fabs(__pyx_v_mb->m31) <= __pyx_v_7cgtypes_eps);
                    if (!__pyx_4) {
                      __pyx_4 = (fabs(__pyx_v_mb->m32) <= __pyx_v_7cgtypes_eps);
                      if (!__pyx_4) {
                        __pyx_4 = (fabs(__pyx_v_mb->m33) <= __pyx_v_7cgtypes_eps);
                        if (!__pyx_4) {
                          __pyx_4 = (fabs(__pyx_v_mb->m34) <= __pyx_v_7cgtypes_eps);
                          if (!__pyx_4) {
                            __pyx_4 = (fabs(__pyx_v_mb->m41) <= __pyx_v_7cgtypes_eps);
                            if (!__pyx_4) {
                              __pyx_4 = (fabs(__pyx_v_mb->m42) <= __pyx_v_7cgtypes_eps);
                              if (!__pyx_4) {
                                __pyx_4 = (fabs(__pyx_v_mb->m43) <= __pyx_v_7cgtypes_eps);
                                if (!__pyx_4) {
                                  __pyx_4 = (fabs(__pyx_v_mb->m44) <= __pyx_v_7cgtypes_eps);
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3126 */
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3126; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_k155p, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3126; goto __pyx_L1;}
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3128 */
    __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3128; goto __pyx_L1;}
    __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3128; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3128; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_res));
    ((PyObject *)__pyx_v_res) = __pyx_3;
    __pyx_3 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3129 */
    __pyx_v_res->m11 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11,__pyx_v_mb->m11);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3130 */
    __pyx_v_res->m12 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12,__pyx_v_mb->m12);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3131 */
    __pyx_v_res->m13 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13,__pyx_v_mb->m13);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3132 */
    __pyx_v_res->m14 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14,__pyx_v_mb->m14);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3133 */
    __pyx_v_res->m21 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21,__pyx_v_mb->m21);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3134 */
    __pyx_v_res->m22 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22,__pyx_v_mb->m22);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3135 */
    __pyx_v_res->m23 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23,__pyx_v_mb->m23);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3136 */
    __pyx_v_res->m24 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24,__pyx_v_mb->m24);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3137 */
    __pyx_v_res->m31 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31,__pyx_v_mb->m31);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3138 */
    __pyx_v_res->m32 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32,__pyx_v_mb->m32);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3139 */
    __pyx_v_res->m33 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33,__pyx_v_mb->m33);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3140 */
    __pyx_v_res->m34 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34,__pyx_v_mb->m34);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3141 */
    __pyx_v_res->m41 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41,__pyx_v_mb->m41);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3142 */
    __pyx_v_res->m42 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42,__pyx_v_mb->m42);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3143 */
    __pyx_v_res->m43 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43,__pyx_v_mb->m43);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3144 */
    __pyx_v_res->m44 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44,__pyx_v_mb->m44);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3145 */
    Py_INCREF(((PyObject *)__pyx_v_res));
    __pyx_r = ((PyObject *)__pyx_v_res);
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3148 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3148; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k156p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3148; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat4.__mod__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_mb);
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_r);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4___neg__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_7cgtypes_4mat4___neg__[] = "Negation.\n\n        >>> M=mat4(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16)\n        >>> print -M\n        [  -1.0000,   -2.0000,   -3.0000,   -4.0000]\n        [  -5.0000,   -6.0000,   -7.0000,   -8.0000]\n        [  -9.0000,  -10.0000,  -11.0000,  -12.0000]\n        [ -13.0000,  -14.0000,  -15.0000,  -16.0000]\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4___neg__(PyObject *__pyx_v_self) {
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3162 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3162; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3162; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3162; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3163 */
  __pyx_v_res->m11 = (-((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3164 */
  __pyx_v_res->m12 = (-((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3165 */
  __pyx_v_res->m13 = (-((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3166 */
  __pyx_v_res->m14 = (-((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3167 */
  __pyx_v_res->m21 = (-((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3168 */
  __pyx_v_res->m22 = (-((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3169 */
  __pyx_v_res->m23 = (-((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3170 */
  __pyx_v_res->m24 = (-((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3171 */
  __pyx_v_res->m31 = (-((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3172 */
  __pyx_v_res->m32 = (-((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3173 */
  __pyx_v_res->m33 = (-((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3174 */
  __pyx_v_res->m34 = (-((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3175 */
  __pyx_v_res->m41 = (-((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3176 */
  __pyx_v_res->m42 = (-((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3177 */
  __pyx_v_res->m43 = (-((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3178 */
  __pyx_v_res->m44 = (-((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3179 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.mat4.__neg__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4___pos__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_7cgtypes_4mat4___pos__[] = "\n        >>> M=mat4(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16)\n        >>> print +M\n        [   1.0000,    2.0000,    3.0000,    4.0000]\n        [   5.0000,    6.0000,    7.0000,    8.0000]\n        [   9.0000,   10.0000,   11.0000,   12.0000]\n        [  13.0000,   14.0000,   15.0000,   16.0000]\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4___pos__(PyObject *__pyx_v_self) {
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3191 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3191; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3191; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3191; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3192 */
  __pyx_v_res->m11 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3193 */
  __pyx_v_res->m12 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3194 */
  __pyx_v_res->m13 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3195 */
  __pyx_v_res->m14 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3196 */
  __pyx_v_res->m21 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3197 */
  __pyx_v_res->m22 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3198 */
  __pyx_v_res->m23 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3199 */
  __pyx_v_res->m24 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3200 */
  __pyx_v_res->m31 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3201 */
  __pyx_v_res->m32 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3202 */
  __pyx_v_res->m33 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3203 */
  __pyx_v_res->m34 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3204 */
  __pyx_v_res->m41 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3205 */
  __pyx_v_res->m42 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3206 */
  __pyx_v_res->m43 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3207 */
  __pyx_v_res->m44 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3208 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.mat4.__pos__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4___iadd__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4mat4___iadd__[] = "Inline matrix addition.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4___iadd__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  PyObject *__pyx_r;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_other), __pyx_ptype_7cgtypes_mat4, 1, "other")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3210; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3213 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m11);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3214 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m12);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3215 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m13);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3216 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m14);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3217 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m21);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3218 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m22);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3219 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m23);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3220 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m24);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3221 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m31);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3222 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m32);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3223 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m33);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3224 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m34);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3225 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m41);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3226 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m42);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3227 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m43);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3228 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m44);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3229 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.mat4.__iadd__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4___isub__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4mat4___isub__[] = "Inline matrix subtraction.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4___isub__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  PyObject *__pyx_r;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_other), __pyx_ptype_7cgtypes_mat4, 1, "other")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3231; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3234 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m11);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3235 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m12);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3236 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m13);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3237 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m14);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3238 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m21);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3239 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m22);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3240 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m23);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3241 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m24);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3242 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m31);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3243 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m32);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3244 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m33);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3245 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m34);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3246 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m41);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3247 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m42);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3248 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m43);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3249 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 - ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_other)->m44);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3250 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.mat4.__isub__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_k157p;

static char (__pyx_k157[]) = "unsupported operand type for *=";

static PyObject *__pyx_f_7cgtypes_4mat4___imul__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4mat4___imul__[] = "Inline multiplication (scalar or matrix).\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4___imul__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  double __pyx_v_r;
  double __pyx_v_a;
  double __pyx_v_b;
  double __pyx_v_c;
  double __pyx_v_d;
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_mb;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  ((PyObject*)__pyx_v_mb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_mb));
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3258 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3258; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3258; goto __pyx_L1;}
  Py_INCREF(__pyx_v_other);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_other);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3258; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3259 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3259; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3259; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3259; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3259; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3259; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3259; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3260 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_other); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3260; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3261 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3262 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3263 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3264 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3265 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3266 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3267 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3268 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3269 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3270 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3271 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3272 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3273 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3274 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3275 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3276 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3277 */
    Py_INCREF(__pyx_v_self);
    __pyx_r = __pyx_v_self;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_mat4), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3278; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3279 */
    if (!__Pyx_TypeTest(__pyx_v_other, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3279; goto __pyx_L1;}
    Py_INCREF(__pyx_v_other);
    Py_DECREF(((PyObject *)__pyx_v_mb));
    ((PyObject *)__pyx_v_mb) = __pyx_v_other;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3280 */
    __pyx_v_a = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3281 */
    __pyx_v_b = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3282 */
    __pyx_v_c = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3283 */
    __pyx_v_d = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3284 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 = ((((__pyx_v_a * __pyx_v_mb->m11) + (__pyx_v_b * __pyx_v_mb->m21)) + (__pyx_v_c * __pyx_v_mb->m31)) + (__pyx_v_d * __pyx_v_mb->m41));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3285 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 = ((((__pyx_v_a * __pyx_v_mb->m12) + (__pyx_v_b * __pyx_v_mb->m22)) + (__pyx_v_c * __pyx_v_mb->m32)) + (__pyx_v_d * __pyx_v_mb->m42));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3286 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 = ((((__pyx_v_a * __pyx_v_mb->m13) + (__pyx_v_b * __pyx_v_mb->m23)) + (__pyx_v_c * __pyx_v_mb->m33)) + (__pyx_v_d * __pyx_v_mb->m43));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3287 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 = ((((__pyx_v_a * __pyx_v_mb->m14) + (__pyx_v_b * __pyx_v_mb->m24)) + (__pyx_v_c * __pyx_v_mb->m34)) + (__pyx_v_d * __pyx_v_mb->m44));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3288 */
    __pyx_v_a = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3289 */
    __pyx_v_b = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3290 */
    __pyx_v_c = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3291 */
    __pyx_v_d = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3292 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 = ((((__pyx_v_a * __pyx_v_mb->m11) + (__pyx_v_b * __pyx_v_mb->m21)) + (__pyx_v_c * __pyx_v_mb->m31)) + (__pyx_v_d * __pyx_v_mb->m41));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3293 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 = ((((__pyx_v_a * __pyx_v_mb->m12) + (__pyx_v_b * __pyx_v_mb->m22)) + (__pyx_v_c * __pyx_v_mb->m32)) + (__pyx_v_d * __pyx_v_mb->m42));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3294 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 = ((((__pyx_v_a * __pyx_v_mb->m13) + (__pyx_v_b * __pyx_v_mb->m23)) + (__pyx_v_c * __pyx_v_mb->m33)) + (__pyx_v_d * __pyx_v_mb->m43));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3295 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 = ((((__pyx_v_a * __pyx_v_mb->m14) + (__pyx_v_b * __pyx_v_mb->m24)) + (__pyx_v_c * __pyx_v_mb->m34)) + (__pyx_v_d * __pyx_v_mb->m44));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3296 */
    __pyx_v_a = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3297 */
    __pyx_v_b = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3298 */
    __pyx_v_c = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3299 */
    __pyx_v_d = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3300 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 = ((((__pyx_v_a * __pyx_v_mb->m11) + (__pyx_v_b * __pyx_v_mb->m21)) + (__pyx_v_c * __pyx_v_mb->m31)) + (__pyx_v_d * __pyx_v_mb->m41));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3301 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 = ((((__pyx_v_a * __pyx_v_mb->m12) + (__pyx_v_b * __pyx_v_mb->m22)) + (__pyx_v_c * __pyx_v_mb->m32)) + (__pyx_v_d * __pyx_v_mb->m42));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3302 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 = ((((__pyx_v_a * __pyx_v_mb->m13) + (__pyx_v_b * __pyx_v_mb->m23)) + (__pyx_v_c * __pyx_v_mb->m33)) + (__pyx_v_d * __pyx_v_mb->m43));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3303 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 = ((((__pyx_v_a * __pyx_v_mb->m14) + (__pyx_v_b * __pyx_v_mb->m24)) + (__pyx_v_c * __pyx_v_mb->m34)) + (__pyx_v_d * __pyx_v_mb->m44));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3304 */
    __pyx_v_a = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3305 */
    __pyx_v_b = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3306 */
    __pyx_v_c = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3307 */
    __pyx_v_d = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3308 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 = ((((__pyx_v_a * __pyx_v_mb->m11) + (__pyx_v_b * __pyx_v_mb->m21)) + (__pyx_v_c * __pyx_v_mb->m31)) + (__pyx_v_d * __pyx_v_mb->m41));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3309 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 = ((((__pyx_v_a * __pyx_v_mb->m12) + (__pyx_v_b * __pyx_v_mb->m22)) + (__pyx_v_c * __pyx_v_mb->m32)) + (__pyx_v_d * __pyx_v_mb->m42));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3310 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 = ((((__pyx_v_a * __pyx_v_mb->m13) + (__pyx_v_b * __pyx_v_mb->m23)) + (__pyx_v_c * __pyx_v_mb->m33)) + (__pyx_v_d * __pyx_v_mb->m43));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3311 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 = ((((__pyx_v_a * __pyx_v_mb->m14) + (__pyx_v_b * __pyx_v_mb->m24)) + (__pyx_v_c * __pyx_v_mb->m34)) + (__pyx_v_d * __pyx_v_mb->m44));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3312 */
    Py_INCREF(__pyx_v_self);
    __pyx_r = __pyx_v_self;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3314 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3314; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k157p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3314; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat4.__imul__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_mb);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_k158p;
static PyObject *__pyx_k159p;

static char (__pyx_k158[]) = "mat4 division";
static char (__pyx_k159[]) = "unsupported operand type for /=";

static PyObject *__pyx_f_7cgtypes_4mat4___idiv__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4mat4___idiv__[] = "Inline division with scalar.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4___idiv__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  double __pyx_v_r;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3320 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3320; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3320; goto __pyx_L1;}
  Py_INCREF(__pyx_v_other);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_other);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3320; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3321 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3321; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3321; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3321; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3321; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3321; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3321; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3322 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_other); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3322; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3323 */
    __pyx_4 = (fabs(__pyx_v_r) <= __pyx_v_7cgtypes_eps);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3324 */
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3324; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_k158p, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3324; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3325 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3326 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3327 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3328 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3329 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3330 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3331 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3332 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3333 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3334 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3335 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3336 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3337 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3338 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3339 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3340 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3341 */
    Py_INCREF(__pyx_v_self);
    __pyx_r = __pyx_v_self;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3343 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3343; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k159p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3343; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat4.__idiv__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_k160p;
static PyObject *__pyx_k161p;
static PyObject *__pyx_k162p;

static char (__pyx_k160[]) = "mat4 modulo";
static char (__pyx_k161[]) = "mat4 modulo";
static char (__pyx_k162[]) = "unsupported operand type for %=";

static PyObject *__pyx_f_7cgtypes_4mat4___imod__(PyObject *__pyx_v_self, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4mat4___imod__[] = "Inline modulo.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4___imod__(PyObject *__pyx_v_self, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_mb;
  double __pyx_v_r;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_mb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_mb));
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3351 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3351; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3351; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_b);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3351; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3353 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3353; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3353; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3353; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3353; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3353; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3353; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3354 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_b); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3354; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3355 */
    __pyx_4 = (fabs(__pyx_v_r) <= __pyx_v_7cgtypes_eps);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3356 */
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3356; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_k160p, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3356; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3357 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3358 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3359 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3360 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3361 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3362 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3363 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3364 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3365 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3366 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3367 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3368 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3369 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3370 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3371 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3372 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44,__pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3373 */
    Py_INCREF(__pyx_v_self);
    __pyx_r = __pyx_v_self;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_mat4), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3374; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3375 */
    if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3375; goto __pyx_L1;}
    Py_INCREF(__pyx_v_b);
    Py_DECREF(((PyObject *)__pyx_v_mb));
    ((PyObject *)__pyx_v_mb) = __pyx_v_b;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3376 */
    __pyx_4 = (fabs(__pyx_v_mb->m11) <= __pyx_v_7cgtypes_eps);
    if (!__pyx_4) {
      __pyx_4 = (fabs(__pyx_v_mb->m12) <= __pyx_v_7cgtypes_eps);
      if (!__pyx_4) {
        __pyx_4 = (fabs(__pyx_v_mb->m13) <= __pyx_v_7cgtypes_eps);
        if (!__pyx_4) {
          __pyx_4 = (fabs(__pyx_v_mb->m14) <= __pyx_v_7cgtypes_eps);
          if (!__pyx_4) {
            __pyx_4 = (fabs(__pyx_v_mb->m21) <= __pyx_v_7cgtypes_eps);
            if (!__pyx_4) {
              __pyx_4 = (fabs(__pyx_v_mb->m22) <= __pyx_v_7cgtypes_eps);
              if (!__pyx_4) {
                __pyx_4 = (fabs(__pyx_v_mb->m23) <= __pyx_v_7cgtypes_eps);
                if (!__pyx_4) {
                  __pyx_4 = (fabs(__pyx_v_mb->m24) <= __pyx_v_7cgtypes_eps);
                  if (!__pyx_4) {
                    __pyx_4 = (fabs(__pyx_v_mb->m31) <= __pyx_v_7cgtypes_eps);
                    if (!__pyx_4) {
                      __pyx_4 = (fabs(__pyx_v_mb->m32) <= __pyx_v_7cgtypes_eps);
                      if (!__pyx_4) {
                        __pyx_4 = (fabs(__pyx_v_mb->m33) <= __pyx_v_7cgtypes_eps);
                        if (!__pyx_4) {
                          __pyx_4 = (fabs(__pyx_v_mb->m34) <= __pyx_v_7cgtypes_eps);
                          if (!__pyx_4) {
                            __pyx_4 = (fabs(__pyx_v_mb->m41) <= __pyx_v_7cgtypes_eps);
                            if (!__pyx_4) {
                              __pyx_4 = (fabs(__pyx_v_mb->m42) <= __pyx_v_7cgtypes_eps);
                              if (!__pyx_4) {
                                __pyx_4 = (fabs(__pyx_v_mb->m43) <= __pyx_v_7cgtypes_eps);
                                if (!__pyx_4) {
                                  __pyx_4 = (fabs(__pyx_v_mb->m44) <= __pyx_v_7cgtypes_eps);
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3384 */
      __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3384; goto __pyx_L1;}
      __Pyx_Raise(__pyx_2, __pyx_k161p, 0);
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3384; goto __pyx_L1;}
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3385 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11,__pyx_v_mb->m11);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3386 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12,__pyx_v_mb->m12);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3387 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13,__pyx_v_mb->m13);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3388 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14,__pyx_v_mb->m13);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3389 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21,__pyx_v_mb->m21);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3390 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22,__pyx_v_mb->m22);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3391 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23,__pyx_v_mb->m23);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3392 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24,__pyx_v_mb->m23);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3393 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31,__pyx_v_mb->m31);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3394 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32,__pyx_v_mb->m32);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3395 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33,__pyx_v_mb->m33);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3396 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34,__pyx_v_mb->m33);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3397 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41,__pyx_v_mb->m41);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3398 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42,__pyx_v_mb->m42);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3399 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43,__pyx_v_mb->m43);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3400 */
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 = __pyx_f_7cgtypes__fmod(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44,__pyx_v_mb->m43);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3401 */
    Py_INCREF(__pyx_v_self);
    __pyx_r = __pyx_v_self;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3403 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3403; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k162p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3403; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat4.__imod__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_mb);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static int __pyx_f_7cgtypes_4mat4___len__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_7cgtypes_4mat4___len__[] = "Length of the sequence (always 4).";
static int __pyx_f_7cgtypes_4mat4___len__(PyObject *__pyx_v_self) {
  int __pyx_r;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3407 */
  __pyx_r = 4;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.mat4.__len__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k163p;
static PyObject *__pyx_k164p;
static PyObject *__pyx_k165p;
static PyObject *__pyx_k166p;

static char (__pyx_k163[]) = "index out of range";
static char (__pyx_k164[]) = "index tuple must be a 2-tuple";
static char (__pyx_k165[]) = "index out of range";
static char (__pyx_k166[]) = "index must be integer or 2-tuple";

static PyObject *__pyx_f_7cgtypes_4mat4___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key); /*proto*/
static char __pyx_doc_7cgtypes_4mat4___getitem__[] = "Return a column or a single matrix element.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key) {
  int __pyx_v_i;
  int __pyx_v_j;
  PyObject *__pyx_v_T;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_key);
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3414 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3414; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3414; goto __pyx_L1;}
  Py_INCREF(__pyx_v_key);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_key);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3414; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_T);
  __pyx_v_T = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3415 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3415; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3415; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3415; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3415; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3416 */
    __pyx_4 = PyInt_AsLong(__pyx_v_key); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3416; goto __pyx_L1;}
    __pyx_v_i = __pyx_4;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3417 */
    __pyx_4 = (__pyx_v_i == 0);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3418 */
      __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3418; goto __pyx_L1;}
      __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3418; goto __pyx_L1;}
      __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3418; goto __pyx_L1;}
      __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3418; goto __pyx_L1;}
      __pyx_6 = PyTuple_New(4); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3418; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_6, 0, __pyx_3);
      PyTuple_SET_ITEM(__pyx_6, 1, __pyx_1);
      PyTuple_SET_ITEM(__pyx_6, 2, __pyx_2);
      PyTuple_SET_ITEM(__pyx_6, 3, __pyx_5);
      __pyx_3 = 0;
      __pyx_1 = 0;
      __pyx_2 = 0;
      __pyx_5 = 0;
      __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_6); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3418; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_r = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L0;
      goto __pyx_L3;
    }
    __pyx_4 = (__pyx_v_i == 1);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3420 */
      __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3420; goto __pyx_L1;}
      __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3420; goto __pyx_L1;}
      __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3420; goto __pyx_L1;}
      __pyx_6 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3420; goto __pyx_L1;}
      __pyx_3 = PyTuple_New(4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3420; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
      PyTuple_SET_ITEM(__pyx_3, 1, __pyx_2);
      PyTuple_SET_ITEM(__pyx_3, 2, __pyx_5);
      PyTuple_SET_ITEM(__pyx_3, 3, __pyx_6);
      __pyx_1 = 0;
      __pyx_2 = 0;
      __pyx_5 = 0;
      __pyx_6 = 0;
      __pyx_1 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3420; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_r = __pyx_1;
      __pyx_1 = 0;
      goto __pyx_L0;
      goto __pyx_L3;
    }
    __pyx_4 = (__pyx_v_i == 2);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3422 */
      __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3422; goto __pyx_L1;}
      __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3422; goto __pyx_L1;}
      __pyx_6 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3422; goto __pyx_L1;}
      __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3422; goto __pyx_L1;}
      __pyx_1 = PyTuple_New(4); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3422; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
      PyTuple_SET_ITEM(__pyx_1, 1, __pyx_5);
      PyTuple_SET_ITEM(__pyx_1, 2, __pyx_6);
      PyTuple_SET_ITEM(__pyx_1, 3, __pyx_3);
      __pyx_2 = 0;
      __pyx_5 = 0;
      __pyx_6 = 0;
      __pyx_3 = 0;
      __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3422; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_r = __pyx_2;
      __pyx_2 = 0;
      goto __pyx_L0;
      goto __pyx_L3;
    }
    __pyx_4 = (__pyx_v_i == 3);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3424 */
      __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3424; goto __pyx_L1;}
      __pyx_6 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3424; goto __pyx_L1;}
      __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3424; goto __pyx_L1;}
      __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3424; goto __pyx_L1;}
      __pyx_2 = PyTuple_New(4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3424; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_5);
      PyTuple_SET_ITEM(__pyx_2, 1, __pyx_6);
      PyTuple_SET_ITEM(__pyx_2, 2, __pyx_3);
      PyTuple_SET_ITEM(__pyx_2, 3, __pyx_1);
      __pyx_5 = 0;
      __pyx_6 = 0;
      __pyx_3 = 0;
      __pyx_1 = 0;
      __pyx_5 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3424; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_r = __pyx_5;
      __pyx_5 = 0;
      goto __pyx_L0;
      goto __pyx_L3;
    }
    /*else*/ {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3426 */
      __pyx_6 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3426; goto __pyx_L1;}
      __Pyx_Raise(__pyx_6, __pyx_k163p, 0);
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3426; goto __pyx_L1;}
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_tuple); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3427; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_T, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3427; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3428 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3428; goto __pyx_L1;}
    __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3428; goto __pyx_L1;}
    Py_INCREF(__pyx_v_key);
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_key);
    __pyx_5 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3428; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_6 = PyInt_FromLong(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3428; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_5, __pyx_6, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3428; goto __pyx_L1;}
    __pyx_4 = __pyx_4 != 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3429 */
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3429; goto __pyx_L1;}
      __Pyx_Raise(__pyx_3, __pyx_k164p, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3429; goto __pyx_L1;}
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3430 */
    __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3430; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_key, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3430; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_4 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3430; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_v_i = __pyx_4;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3431 */
    __pyx_5 = PyInt_FromLong(1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3431; goto __pyx_L1;}
    __pyx_6 = PyObject_GetItem(__pyx_v_key, __pyx_5); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3431; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_4 = PyInt_AsLong(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3431; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_v_j = __pyx_4;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3432 */
    __pyx_4 = (__pyx_v_i < 0);
    if (!__pyx_4) {
      __pyx_4 = (__pyx_v_i > 3);
      if (!__pyx_4) {
        __pyx_4 = (__pyx_v_j < 0);
        if (!__pyx_4) {
          __pyx_4 = (__pyx_v_j > 3);
        }
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3433 */
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3433; goto __pyx_L1;}
      __Pyx_Raise(__pyx_3, __pyx_k165p, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3433; goto __pyx_L1;}
      goto __pyx_L5;
    }
    __pyx_L5:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3435 */
    __pyx_4 = (__pyx_v_i == 0);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3436 */
      __pyx_4 = (__pyx_v_j == 0);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3437 */
        __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3437; goto __pyx_L1;}
        __pyx_r = __pyx_1;
        __pyx_1 = 0;
        goto __pyx_L0;
        goto __pyx_L7;
      }
      __pyx_4 = (__pyx_v_j == 1);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3439 */
        __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3439; goto __pyx_L1;}
        __pyx_r = __pyx_2;
        __pyx_2 = 0;
        goto __pyx_L0;
        goto __pyx_L7;
      }
      __pyx_4 = (__pyx_v_j == 2);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3441 */
        __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3441; goto __pyx_L1;}
        __pyx_r = __pyx_5;
        __pyx_5 = 0;
        goto __pyx_L0;
        goto __pyx_L7;
      }
      __pyx_4 = (__pyx_v_j == 3);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3443 */
        __pyx_6 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3443; goto __pyx_L1;}
        __pyx_r = __pyx_6;
        __pyx_6 = 0;
        goto __pyx_L0;
        goto __pyx_L7;
      }
      __pyx_L7:;
      goto __pyx_L6;
    }
    __pyx_4 = (__pyx_v_i == 1);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3445 */
      __pyx_4 = (__pyx_v_j == 0);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3446 */
        __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3446; goto __pyx_L1;}
        __pyx_r = __pyx_3;
        __pyx_3 = 0;
        goto __pyx_L0;
        goto __pyx_L8;
      }
      __pyx_4 = (__pyx_v_j == 1);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3448 */
        __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3448; goto __pyx_L1;}
        __pyx_r = __pyx_1;
        __pyx_1 = 0;
        goto __pyx_L0;
        goto __pyx_L8;
      }
      __pyx_4 = (__pyx_v_j == 2);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3450 */
        __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3450; goto __pyx_L1;}
        __pyx_r = __pyx_2;
        __pyx_2 = 0;
        goto __pyx_L0;
        goto __pyx_L8;
      }
      __pyx_4 = (__pyx_v_j == 3);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3452 */
        __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3452; goto __pyx_L1;}
        __pyx_r = __pyx_5;
        __pyx_5 = 0;
        goto __pyx_L0;
        goto __pyx_L8;
      }
      __pyx_L8:;
      goto __pyx_L6;
    }
    __pyx_4 = (__pyx_v_i == 2);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3454 */
      __pyx_4 = (__pyx_v_j == 0);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3455 */
        __pyx_6 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3455; goto __pyx_L1;}
        __pyx_r = __pyx_6;
        __pyx_6 = 0;
        goto __pyx_L0;
        goto __pyx_L9;
      }
      __pyx_4 = (__pyx_v_j == 1);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3457 */
        __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3457; goto __pyx_L1;}
        __pyx_r = __pyx_3;
        __pyx_3 = 0;
        goto __pyx_L0;
        goto __pyx_L9;
      }
      __pyx_4 = (__pyx_v_j == 2);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3459 */
        __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3459; goto __pyx_L1;}
        __pyx_r = __pyx_1;
        __pyx_1 = 0;
        goto __pyx_L0;
        goto __pyx_L9;
      }
      __pyx_4 = (__pyx_v_j == 3);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3461 */
        __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3461; goto __pyx_L1;}
        __pyx_r = __pyx_2;
        __pyx_2 = 0;
        goto __pyx_L0;
        goto __pyx_L9;
      }
      __pyx_L9:;
      goto __pyx_L6;
    }
    __pyx_4 = (__pyx_v_i == 3);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3463 */
      __pyx_4 = (__pyx_v_j == 0);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3464 */
        __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3464; goto __pyx_L1;}
        __pyx_r = __pyx_5;
        __pyx_5 = 0;
        goto __pyx_L0;
        goto __pyx_L10;
      }
      __pyx_4 = (__pyx_v_j == 1);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3466 */
        __pyx_6 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3466; goto __pyx_L1;}
        __pyx_r = __pyx_6;
        __pyx_6 = 0;
        goto __pyx_L0;
        goto __pyx_L10;
      }
      __pyx_4 = (__pyx_v_j == 2);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3468 */
        __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3468; goto __pyx_L1;}
        __pyx_r = __pyx_3;
        __pyx_3 = 0;
        goto __pyx_L0;
        goto __pyx_L10;
      }
      __pyx_4 = (__pyx_v_j == 3);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3470 */
        __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3470; goto __pyx_L1;}
        __pyx_r = __pyx_1;
        __pyx_1 = 0;
        goto __pyx_L0;
        goto __pyx_L10;
      }
      __pyx_L10:;
      goto __pyx_L6;
    }
    __pyx_L6:;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3472 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3472; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k166p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3472; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("cgtypes.mat4.__getitem__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_key);
  return __pyx_r;
}

static PyObject *__pyx_k167p;
static PyObject *__pyx_k168p;
static PyObject *__pyx_k169p;
static PyObject *__pyx_k170p;
static PyObject *__pyx_k171p;

static char (__pyx_k167[]) = "4-sequence expected";
static char (__pyx_k168[]) = "index out of range";
static char (__pyx_k169[]) = "index tuple must be a 2-tuple";
static char (__pyx_k170[]) = "index out of range";
static char (__pyx_k171[]) = "index must be integer or 2-tuple";

static int __pyx_f_7cgtypes_4mat4___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key, PyObject *__pyx_v_value); /*proto*/
static char __pyx_doc_7cgtypes_4mat4___setitem__[] = "Set a column or a single matrix element.\n\n        The column must be given as a 4-sequence (this includes vec4 as well).\n        ";
static int __pyx_f_7cgtypes_4mat4___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_key, PyObject *__pyx_v_value) {
  int __pyx_v_i;
  int __pyx_v_j;
  double __pyx_v_v;
  PyObject *__pyx_v_T;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_key);
  Py_INCREF(__pyx_v_value);
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3482 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3482; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3482; goto __pyx_L1;}
  Py_INCREF(__pyx_v_key);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_key);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3482; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_T);
  __pyx_v_T = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3483 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3483; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3483; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3483; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3483; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3484 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3484; goto __pyx_L1;}
    __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3484; goto __pyx_L1;}
    Py_INCREF(__pyx_v_value);
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_value);
    __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3484; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_3 = PyInt_FromLong(4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3484; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_2, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3484; goto __pyx_L1;}
    __pyx_4 = __pyx_4 != 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3485 */
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3485; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_k167p, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3485; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3486 */
    __pyx_4 = PyInt_AsLong(__pyx_v_key); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3486; goto __pyx_L1;}
    __pyx_v_i = __pyx_4;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3487 */
    __pyx_4 = (__pyx_v_i == 0);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3488 */
      __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3488; goto __pyx_L1;}
      __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3488; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3488; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3489 */
      __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3489; goto __pyx_L1;}
      __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3489; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3489; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3490 */
      __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3490; goto __pyx_L1;}
      __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3490; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3490; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3491 */
      __pyx_2 = PyInt_FromLong(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3491; goto __pyx_L1;}
      __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3491; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3491; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 = __pyx_5;
      goto __pyx_L4;
    }
    __pyx_4 = (__pyx_v_i == 1);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3493 */
      __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3493; goto __pyx_L1;}
      __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3493; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3493; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3494 */
      __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3494; goto __pyx_L1;}
      __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3494; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3494; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3495 */
      __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3495; goto __pyx_L1;}
      __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3495; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3495; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3496 */
      __pyx_1 = PyInt_FromLong(3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3496; goto __pyx_L1;}
      __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3496; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3496; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 = __pyx_5;
      goto __pyx_L4;
    }
    __pyx_4 = (__pyx_v_i == 2);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3498 */
      __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3498; goto __pyx_L1;}
      __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3498; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3498; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3499 */
      __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3499; goto __pyx_L1;}
      __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3499; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3499; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3500 */
      __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3500; goto __pyx_L1;}
      __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3500; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3500; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3501 */
      __pyx_3 = PyInt_FromLong(3); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3501; goto __pyx_L1;}
      __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3501; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3501; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 = __pyx_5;
      goto __pyx_L4;
    }
    __pyx_4 = (__pyx_v_i == 3);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3503 */
      __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3503; goto __pyx_L1;}
      __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3503; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3503; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3504 */
      __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3504; goto __pyx_L1;}
      __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3504; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3504; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3505 */
      __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3505; goto __pyx_L1;}
      __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3505; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3505; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3506 */
      __pyx_2 = PyInt_FromLong(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3506; goto __pyx_L1;}
      __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3506; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3506; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 = __pyx_5;
      goto __pyx_L4;
    }
    /*else*/ {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3508 */
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3508; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_k168p, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3508; goto __pyx_L1;}
    }
    __pyx_L4:;
    goto __pyx_L2;
  }
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_tuple); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3509; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3509; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3510 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3510; goto __pyx_L1;}
    __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3510; goto __pyx_L1;}
    Py_INCREF(__pyx_v_key);
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_key);
    __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3510; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3510; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_2, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3510; goto __pyx_L1;}
    __pyx_4 = __pyx_4 != 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3511 */
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3511; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_k169p, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3511; goto __pyx_L1;}
      goto __pyx_L5;
    }
    __pyx_L5:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3512 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3512; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_key, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3512; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_4 = PyInt_AsLong(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3512; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_v_i = __pyx_4;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3513 */
    __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3513; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_key, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3513; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_4 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3513; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_v_j = __pyx_4;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3514 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_value); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3514; goto __pyx_L1;}
    __pyx_v_v = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3515 */
    __pyx_4 = (__pyx_v_i < 0);
    if (!__pyx_4) {
      __pyx_4 = (__pyx_v_i > 3);
      if (!__pyx_4) {
        __pyx_4 = (__pyx_v_j < 0);
        if (!__pyx_4) {
          __pyx_4 = (__pyx_v_j > 3);
        }
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3516 */
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3516; goto __pyx_L1;}
      __Pyx_Raise(__pyx_3, __pyx_k170p, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3516; goto __pyx_L1;}
      goto __pyx_L6;
    }
    __pyx_L6:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3518 */
    __pyx_4 = (__pyx_v_i == 0);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3519 */
      __pyx_4 = (__pyx_v_j == 0);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3520 */
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 = __pyx_v_v;
        goto __pyx_L8;
      }
      __pyx_4 = (__pyx_v_j == 1);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3522 */
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 = __pyx_v_v;
        goto __pyx_L8;
      }
      __pyx_4 = (__pyx_v_j == 2);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3524 */
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 = __pyx_v_v;
        goto __pyx_L8;
      }
      __pyx_4 = (__pyx_v_j == 3);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3526 */
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 = __pyx_v_v;
        goto __pyx_L8;
      }
      __pyx_L8:;
      goto __pyx_L7;
    }
    __pyx_4 = (__pyx_v_i == 1);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3528 */
      __pyx_4 = (__pyx_v_j == 0);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3529 */
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 = __pyx_v_v;
        goto __pyx_L9;
      }
      __pyx_4 = (__pyx_v_j == 1);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3531 */
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 = __pyx_v_v;
        goto __pyx_L9;
      }
      __pyx_4 = (__pyx_v_j == 2);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3533 */
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 = __pyx_v_v;
        goto __pyx_L9;
      }
      __pyx_4 = (__pyx_v_j == 3);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3535 */
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 = __pyx_v_v;
        goto __pyx_L9;
      }
      __pyx_L9:;
      goto __pyx_L7;
    }
    __pyx_4 = (__pyx_v_i == 2);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3537 */
      __pyx_4 = (__pyx_v_j == 0);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3538 */
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 = __pyx_v_v;
        goto __pyx_L10;
      }
      __pyx_4 = (__pyx_v_j == 1);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3540 */
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 = __pyx_v_v;
        goto __pyx_L10;
      }
      __pyx_4 = (__pyx_v_j == 2);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3542 */
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 = __pyx_v_v;
        goto __pyx_L10;
      }
      __pyx_4 = (__pyx_v_j == 3);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3544 */
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 = __pyx_v_v;
        goto __pyx_L10;
      }
      __pyx_L10:;
      goto __pyx_L7;
    }
    __pyx_4 = (__pyx_v_i == 3);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3546 */
      __pyx_4 = (__pyx_v_j == 0);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3547 */
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 = __pyx_v_v;
        goto __pyx_L11;
      }
      __pyx_4 = (__pyx_v_j == 1);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3549 */
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 = __pyx_v_v;
        goto __pyx_L11;
      }
      __pyx_4 = (__pyx_v_j == 2);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3551 */
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 = __pyx_v_v;
        goto __pyx_L11;
      }
      __pyx_4 = (__pyx_v_j == 3);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3553 */
        ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 = __pyx_v_v;
        goto __pyx_L11;
      }
      __pyx_L11:;
      goto __pyx_L7;
    }
    __pyx_L7:;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3555 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3555; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k171p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3555; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat4.__setitem__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_key);
  Py_DECREF(__pyx_v_value);
  return __pyx_r;
}

static PyObject *__pyx_k172p;
static PyObject *__pyx_k173p;

static char (__pyx_k172[]) = "index must be integer";
static char (__pyx_k173[]) = "index out of range";

static PyObject *__pyx_f_7cgtypes_4mat4_getRow(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_getRow[] = "Return row (as vec4).";
static PyObject *__pyx_f_7cgtypes_4mat4_getRow(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_idx = 0;
  int __pyx_v_i;
  PyObject *__pyx_v_T;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  static char *__pyx_argnames[] = {"idx",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_idx)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_idx);
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3561 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3561; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3561; goto __pyx_L1;}
  Py_INCREF(__pyx_v_idx);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_idx);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3561; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_T);
  __pyx_v_T = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3562 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3562; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3562; goto __pyx_L1;}
  __pyx_4 = __pyx_4 != 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3562; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3562; goto __pyx_L1;}
    __pyx_4 = __pyx_4 != 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3563 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3563; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k172p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3563; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3565 */
  __pyx_4 = PyInt_AsLong(__pyx_v_idx); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3565; goto __pyx_L1;}
  __pyx_v_i = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3566 */
  __pyx_4 = (__pyx_v_i == 0);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3567 */
    __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3567; goto __pyx_L1;}
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3567; goto __pyx_L1;}
    __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3567; goto __pyx_L1;}
    __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3567; goto __pyx_L1;}
    __pyx_6 = PyTuple_New(4); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3567; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_6, 0, __pyx_1);
    PyTuple_SET_ITEM(__pyx_6, 1, __pyx_2);
    PyTuple_SET_ITEM(__pyx_6, 2, __pyx_3);
    PyTuple_SET_ITEM(__pyx_6, 3, __pyx_5);
    __pyx_1 = 0;
    __pyx_2 = 0;
    __pyx_3 = 0;
    __pyx_5 = 0;
    __pyx_1 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3567; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_r = __pyx_1;
    __pyx_1 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_4 = (__pyx_v_i == 1);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3569 */
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3569; goto __pyx_L1;}
    __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3569; goto __pyx_L1;}
    __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3569; goto __pyx_L1;}
    __pyx_6 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3569; goto __pyx_L1;}
    __pyx_1 = PyTuple_New(4); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3569; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
    PyTuple_SET_ITEM(__pyx_1, 1, __pyx_3);
    PyTuple_SET_ITEM(__pyx_1, 2, __pyx_5);
    PyTuple_SET_ITEM(__pyx_1, 3, __pyx_6);
    __pyx_2 = 0;
    __pyx_3 = 0;
    __pyx_5 = 0;
    __pyx_6 = 0;
    __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3569; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_4 = (__pyx_v_i == 2);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3571 */
    __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3571; goto __pyx_L1;}
    __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3571; goto __pyx_L1;}
    __pyx_6 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3571; goto __pyx_L1;}
    __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3571; goto __pyx_L1;}
    __pyx_2 = PyTuple_New(4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3571; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
    PyTuple_SET_ITEM(__pyx_2, 1, __pyx_5);
    PyTuple_SET_ITEM(__pyx_2, 2, __pyx_6);
    PyTuple_SET_ITEM(__pyx_2, 3, __pyx_1);
    __pyx_3 = 0;
    __pyx_5 = 0;
    __pyx_6 = 0;
    __pyx_1 = 0;
    __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3571; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_4 = (__pyx_v_i == 3);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3573 */
    __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3573; goto __pyx_L1;}
    __pyx_6 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3573; goto __pyx_L1;}
    __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3573; goto __pyx_L1;}
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3573; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3573; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_5);
    PyTuple_SET_ITEM(__pyx_3, 1, __pyx_6);
    PyTuple_SET_ITEM(__pyx_3, 2, __pyx_1);
    PyTuple_SET_ITEM(__pyx_3, 3, __pyx_2);
    __pyx_5 = 0;
    __pyx_6 = 0;
    __pyx_1 = 0;
    __pyx_2 = 0;
    __pyx_5 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3573; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_r = __pyx_5;
    __pyx_5 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3575 */
    __pyx_6 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3575; goto __pyx_L1;}
    __Pyx_Raise(__pyx_6, __pyx_k173p, 0);
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3575; goto __pyx_L1;}
  }
  __pyx_L3:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("cgtypes.mat4.getRow");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_idx);
  return __pyx_r;
}

static PyObject *__pyx_k174p;
static PyObject *__pyx_k175p;
static PyObject *__pyx_k176p;

static char (__pyx_k174[]) = "index must be integer";
static char (__pyx_k175[]) = "4-sequence expected";
static char (__pyx_k176[]) = "index out of range";

static PyObject *__pyx_f_7cgtypes_4mat4_setRow(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_setRow[] = "Set row.";
static PyObject *__pyx_f_7cgtypes_4mat4_setRow(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_idx = 0;
  PyObject *__pyx_v_value = 0;
  int __pyx_v_i;
  PyObject *__pyx_v_T;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  static char *__pyx_argnames[] = {"idx","value",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_idx, &__pyx_v_value)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_idx);
  Py_INCREF(__pyx_v_value);
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3581 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3581; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3581; goto __pyx_L1;}
  Py_INCREF(__pyx_v_idx);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_idx);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3581; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_T);
  __pyx_v_T = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3582 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3582; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3582; goto __pyx_L1;}
  __pyx_4 = __pyx_4 != 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3582; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3582; goto __pyx_L1;}
    __pyx_4 = __pyx_4 != 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3583 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3583; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k174p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3583; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3585 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3585; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3585; goto __pyx_L1;}
  Py_INCREF(__pyx_v_value);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_value);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3585; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = PyInt_FromLong(4); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3585; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_3, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3585; goto __pyx_L1;}
  __pyx_4 = __pyx_4 != 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3586 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3586; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k175p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3586; goto __pyx_L1;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3588 */
  __pyx_4 = PyInt_AsLong(__pyx_v_idx); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3588; goto __pyx_L1;}
  __pyx_v_i = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3589 */
  __pyx_4 = (__pyx_v_i == 0);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3590 */
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3590; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3590; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3590; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3591 */
    __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3591; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3591; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3591; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3592 */
    __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3592; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3592; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3592; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3593 */
    __pyx_3 = PyInt_FromLong(3); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3593; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3593; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3593; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 = __pyx_5;
    goto __pyx_L4;
  }
  __pyx_4 = (__pyx_v_i == 1);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3595 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3595; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3595; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3595; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3596 */
    __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3596; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3596; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3596; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3597 */
    __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3597; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3597; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3597; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3598 */
    __pyx_2 = PyInt_FromLong(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3598; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3598; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3598; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 = __pyx_5;
    goto __pyx_L4;
  }
  __pyx_4 = (__pyx_v_i == 2);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3600 */
    __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3600; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3600; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3600; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3601 */
    __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3601; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3601; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3601; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3602 */
    __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3602; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3602; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3602; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3603 */
    __pyx_1 = PyInt_FromLong(3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3603; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3603; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3603; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 = __pyx_5;
    goto __pyx_L4;
  }
  __pyx_4 = (__pyx_v_i == 3);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3605 */
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3605; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3605; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3605; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3606 */
    __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3606; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3606; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3606; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3607 */
    __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3607; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3607; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3607; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3608 */
    __pyx_3 = PyInt_FromLong(3); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3608; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3608; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3608; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 = __pyx_5;
    goto __pyx_L4;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3610 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3610; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k176p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3610; goto __pyx_L1;}
  }
  __pyx_L4:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat4.setRow");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_idx);
  Py_DECREF(__pyx_v_value);
  return __pyx_r;
}

static PyObject *__pyx_k177p;
static PyObject *__pyx_k178p;

static char (__pyx_k177[]) = "index must be integer";
static char (__pyx_k178[]) = "index out of range";

static PyObject *__pyx_f_7cgtypes_4mat4_getColumn(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_getColumn[] = "Return column (as vec4).";
static PyObject *__pyx_f_7cgtypes_4mat4_getColumn(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_idx = 0;
  int __pyx_v_i;
  PyObject *__pyx_v_T;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  static char *__pyx_argnames[] = {"idx",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_idx)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_idx);
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3616 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3616; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3616; goto __pyx_L1;}
  Py_INCREF(__pyx_v_idx);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_idx);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3616; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_T);
  __pyx_v_T = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3617 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3617; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3617; goto __pyx_L1;}
  __pyx_4 = __pyx_4 != 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3617; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3617; goto __pyx_L1;}
    __pyx_4 = __pyx_4 != 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3618 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3618; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k177p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3618; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3620 */
  __pyx_4 = PyInt_AsLong(__pyx_v_idx); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3620; goto __pyx_L1;}
  __pyx_v_i = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3621 */
  __pyx_4 = (__pyx_v_i == 0);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3622 */
    __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3622; goto __pyx_L1;}
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3622; goto __pyx_L1;}
    __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3622; goto __pyx_L1;}
    __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3622; goto __pyx_L1;}
    __pyx_6 = PyTuple_New(4); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3622; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_6, 0, __pyx_1);
    PyTuple_SET_ITEM(__pyx_6, 1, __pyx_2);
    PyTuple_SET_ITEM(__pyx_6, 2, __pyx_3);
    PyTuple_SET_ITEM(__pyx_6, 3, __pyx_5);
    __pyx_1 = 0;
    __pyx_2 = 0;
    __pyx_3 = 0;
    __pyx_5 = 0;
    __pyx_1 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3622; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_r = __pyx_1;
    __pyx_1 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_4 = (__pyx_v_i == 1);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3624 */
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3624; goto __pyx_L1;}
    __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3624; goto __pyx_L1;}
    __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3624; goto __pyx_L1;}
    __pyx_6 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3624; goto __pyx_L1;}
    __pyx_1 = PyTuple_New(4); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3624; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
    PyTuple_SET_ITEM(__pyx_1, 1, __pyx_3);
    PyTuple_SET_ITEM(__pyx_1, 2, __pyx_5);
    PyTuple_SET_ITEM(__pyx_1, 3, __pyx_6);
    __pyx_2 = 0;
    __pyx_3 = 0;
    __pyx_5 = 0;
    __pyx_6 = 0;
    __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3624; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_4 = (__pyx_v_i == 2);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3626 */
    __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3626; goto __pyx_L1;}
    __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3626; goto __pyx_L1;}
    __pyx_6 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3626; goto __pyx_L1;}
    __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3626; goto __pyx_L1;}
    __pyx_2 = PyTuple_New(4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3626; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
    PyTuple_SET_ITEM(__pyx_2, 1, __pyx_5);
    PyTuple_SET_ITEM(__pyx_2, 2, __pyx_6);
    PyTuple_SET_ITEM(__pyx_2, 3, __pyx_1);
    __pyx_3 = 0;
    __pyx_5 = 0;
    __pyx_6 = 0;
    __pyx_1 = 0;
    __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3626; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_4 = (__pyx_v_i == 3);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3628 */
    __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3628; goto __pyx_L1;}
    __pyx_6 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3628; goto __pyx_L1;}
    __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3628; goto __pyx_L1;}
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3628; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3628; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_5);
    PyTuple_SET_ITEM(__pyx_3, 1, __pyx_6);
    PyTuple_SET_ITEM(__pyx_3, 2, __pyx_1);
    PyTuple_SET_ITEM(__pyx_3, 3, __pyx_2);
    __pyx_5 = 0;
    __pyx_6 = 0;
    __pyx_1 = 0;
    __pyx_2 = 0;
    __pyx_5 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3628; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_r = __pyx_5;
    __pyx_5 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3630 */
    __pyx_6 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3630; goto __pyx_L1;}
    __Pyx_Raise(__pyx_6, __pyx_k178p, 0);
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3630; goto __pyx_L1;}
  }
  __pyx_L3:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("cgtypes.mat4.getColumn");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_idx);
  return __pyx_r;
}

static PyObject *__pyx_k179p;
static PyObject *__pyx_k180p;
static PyObject *__pyx_k181p;

static char (__pyx_k179[]) = "index must be integer";
static char (__pyx_k180[]) = "4-sequence expected";
static char (__pyx_k181[]) = "index out of range";

static PyObject *__pyx_f_7cgtypes_4mat4_setColumn(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_setColumn[] = "Set column.";
static PyObject *__pyx_f_7cgtypes_4mat4_setColumn(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_idx = 0;
  PyObject *__pyx_v_value = 0;
  int __pyx_v_i;
  PyObject *__pyx_v_T;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  static char *__pyx_argnames[] = {"idx","value",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_idx, &__pyx_v_value)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_idx);
  Py_INCREF(__pyx_v_value);
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3636 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3636; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3636; goto __pyx_L1;}
  Py_INCREF(__pyx_v_idx);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_idx);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3636; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_T);
  __pyx_v_T = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3637 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3637; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3637; goto __pyx_L1;}
  __pyx_4 = __pyx_4 != 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3637; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3637; goto __pyx_L1;}
    __pyx_4 = __pyx_4 != 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3638 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3638; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k179p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3638; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3640 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3640; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3640; goto __pyx_L1;}
  Py_INCREF(__pyx_v_value);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_value);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3640; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = PyInt_FromLong(4); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3640; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_3, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3640; goto __pyx_L1;}
  __pyx_4 = __pyx_4 != 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3641 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3641; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k180p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3641; goto __pyx_L1;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3643 */
  __pyx_4 = PyInt_AsLong(__pyx_v_idx); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3643; goto __pyx_L1;}
  __pyx_v_i = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3644 */
  __pyx_4 = (__pyx_v_i == 0);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3645 */
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3645; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3645; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3645; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3646 */
    __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3646; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3646; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3646; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3647 */
    __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3647; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3647; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3647; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3648 */
    __pyx_3 = PyInt_FromLong(3); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3648; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3648; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3648; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 = __pyx_5;
    goto __pyx_L4;
  }
  __pyx_4 = (__pyx_v_i == 1);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3650 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3650; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3650; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3650; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3651 */
    __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3651; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3651; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3651; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3652 */
    __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3652; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3652; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3652; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3653 */
    __pyx_2 = PyInt_FromLong(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3653; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3653; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3653; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 = __pyx_5;
    goto __pyx_L4;
  }
  __pyx_4 = (__pyx_v_i == 2);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3655 */
    __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3655; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3655; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3655; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3656 */
    __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3656; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3656; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3656; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3657 */
    __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3657; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3657; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3657; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3658 */
    __pyx_1 = PyInt_FromLong(3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3658; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3658; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3658; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 = __pyx_5;
    goto __pyx_L4;
  }
  __pyx_4 = (__pyx_v_i == 3);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3660 */
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3660; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3660; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3660; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3661 */
    __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3661; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_value, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3661; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3661; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3662 */
    __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3662; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_value, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3662; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3662; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3663 */
    __pyx_3 = PyInt_FromLong(3); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3663; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_value, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3663; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3663; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 = __pyx_5;
    goto __pyx_L4;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3665 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3665; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k181p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3665; goto __pyx_L1;}
  }
  __pyx_L4:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat4.setColumn");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_idx);
  Py_DECREF(__pyx_v_value);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4_toList(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_toList[] = "Return a list containing the matrix elements.\n\n        By default the list is in column-major order (which can directly be\n        used in OpenGL or RenderMan). If you set the optional argument\n        rowmajor to 1, you\'ll get the list in row-major order.\n\n        >>> M=mat4(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16)\n        >>> print M.toList()\n        [1, 5, 9, 13, 2, 6, 10, 14, 3, 7, 11, 15, 4, 8, 12, 16]\n        >>> print M.toList(rowmajor=1)\n        [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4_toList(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_rowmajor = 0;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  PyObject *__pyx_7 = 0;
  PyObject *__pyx_8 = 0;
  PyObject *__pyx_9 = 0;
  PyObject *__pyx_10 = 0;
  PyObject *__pyx_11 = 0;
  PyObject *__pyx_12 = 0;
  PyObject *__pyx_13 = 0;
  PyObject *__pyx_14 = 0;
  PyObject *__pyx_15 = 0;
  PyObject *__pyx_16 = 0;
  PyObject *__pyx_17 = 0;
  PyObject *__pyx_18 = 0;
  static char *__pyx_argnames[] = {"rowmajor",0};
  __pyx_v_rowmajor = __pyx_k2;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "|O", __pyx_argnames, &__pyx_v_rowmajor)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rowmajor);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3681 */
  __pyx_1 = PyObject_IsTrue(__pyx_v_rowmajor); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3681; goto __pyx_L1;}
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3682 */
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3682; goto __pyx_L1;}
    __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3682; goto __pyx_L1;}
    __pyx_4 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3682; goto __pyx_L1;}
    __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3682; goto __pyx_L1;}
    __pyx_6 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3683; goto __pyx_L1;}
    __pyx_7 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22); if (!__pyx_7) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3683; goto __pyx_L1;}
    __pyx_8 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23); if (!__pyx_8) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3683; goto __pyx_L1;}
    __pyx_9 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24); if (!__pyx_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3683; goto __pyx_L1;}
    __pyx_10 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31); if (!__pyx_10) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3684; goto __pyx_L1;}
    __pyx_11 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32); if (!__pyx_11) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3684; goto __pyx_L1;}
    __pyx_12 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33); if (!__pyx_12) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3684; goto __pyx_L1;}
    __pyx_13 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34); if (!__pyx_13) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3684; goto __pyx_L1;}
    __pyx_14 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41); if (!__pyx_14) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3685; goto __pyx_L1;}
    __pyx_15 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42); if (!__pyx_15) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3685; goto __pyx_L1;}
    __pyx_16 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43); if (!__pyx_16) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3685; goto __pyx_L1;}
    __pyx_17 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44); if (!__pyx_17) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3685; goto __pyx_L1;}
    __pyx_18 = PyList_New(16); if (!__pyx_18) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3682; goto __pyx_L1;}
    PyList_SET_ITEM(__pyx_18, 0, __pyx_2);
    PyList_SET_ITEM(__pyx_18, 1, __pyx_3);
    PyList_SET_ITEM(__pyx_18, 2, __pyx_4);
    PyList_SET_ITEM(__pyx_18, 3, __pyx_5);
    PyList_SET_ITEM(__pyx_18, 4, __pyx_6);
    PyList_SET_ITEM(__pyx_18, 5, __pyx_7);
    PyList_SET_ITEM(__pyx_18, 6, __pyx_8);
    PyList_SET_ITEM(__pyx_18, 7, __pyx_9);
    PyList_SET_ITEM(__pyx_18, 8, __pyx_10);
    PyList_SET_ITEM(__pyx_18, 9, __pyx_11);
    PyList_SET_ITEM(__pyx_18, 10, __pyx_12);
    PyList_SET_ITEM(__pyx_18, 11, __pyx_13);
    PyList_SET_ITEM(__pyx_18, 12, __pyx_14);
    PyList_SET_ITEM(__pyx_18, 13, __pyx_15);
    PyList_SET_ITEM(__pyx_18, 14, __pyx_16);
    PyList_SET_ITEM(__pyx_18, 15, __pyx_17);
    __pyx_2 = 0;
    __pyx_3 = 0;
    __pyx_4 = 0;
    __pyx_5 = 0;
    __pyx_6 = 0;
    __pyx_7 = 0;
    __pyx_8 = 0;
    __pyx_9 = 0;
    __pyx_10 = 0;
    __pyx_11 = 0;
    __pyx_12 = 0;
    __pyx_13 = 0;
    __pyx_14 = 0;
    __pyx_15 = 0;
    __pyx_16 = 0;
    __pyx_17 = 0;
    __pyx_r = __pyx_18;
    __pyx_18 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3687 */
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3687; goto __pyx_L1;}
    __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3687; goto __pyx_L1;}
    __pyx_4 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3687; goto __pyx_L1;}
    __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3687; goto __pyx_L1;}
    __pyx_6 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3688; goto __pyx_L1;}
    __pyx_7 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22); if (!__pyx_7) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3688; goto __pyx_L1;}
    __pyx_8 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32); if (!__pyx_8) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3688; goto __pyx_L1;}
    __pyx_9 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42); if (!__pyx_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3688; goto __pyx_L1;}
    __pyx_10 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13); if (!__pyx_10) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3689; goto __pyx_L1;}
    __pyx_11 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23); if (!__pyx_11) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3689; goto __pyx_L1;}
    __pyx_12 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33); if (!__pyx_12) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3689; goto __pyx_L1;}
    __pyx_13 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43); if (!__pyx_13) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3689; goto __pyx_L1;}
    __pyx_14 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14); if (!__pyx_14) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3690; goto __pyx_L1;}
    __pyx_15 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24); if (!__pyx_15) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3690; goto __pyx_L1;}
    __pyx_16 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34); if (!__pyx_16) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3690; goto __pyx_L1;}
    __pyx_17 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44); if (!__pyx_17) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3690; goto __pyx_L1;}
    __pyx_18 = PyList_New(16); if (!__pyx_18) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3687; goto __pyx_L1;}
    PyList_SET_ITEM(__pyx_18, 0, __pyx_2);
    PyList_SET_ITEM(__pyx_18, 1, __pyx_3);
    PyList_SET_ITEM(__pyx_18, 2, __pyx_4);
    PyList_SET_ITEM(__pyx_18, 3, __pyx_5);
    PyList_SET_ITEM(__pyx_18, 4, __pyx_6);
    PyList_SET_ITEM(__pyx_18, 5, __pyx_7);
    PyList_SET_ITEM(__pyx_18, 6, __pyx_8);
    PyList_SET_ITEM(__pyx_18, 7, __pyx_9);
    PyList_SET_ITEM(__pyx_18, 8, __pyx_10);
    PyList_SET_ITEM(__pyx_18, 9, __pyx_11);
    PyList_SET_ITEM(__pyx_18, 10, __pyx_12);
    PyList_SET_ITEM(__pyx_18, 11, __pyx_13);
    PyList_SET_ITEM(__pyx_18, 12, __pyx_14);
    PyList_SET_ITEM(__pyx_18, 13, __pyx_15);
    PyList_SET_ITEM(__pyx_18, 14, __pyx_16);
    PyList_SET_ITEM(__pyx_18, 15, __pyx_17);
    __pyx_2 = 0;
    __pyx_3 = 0;
    __pyx_4 = 0;
    __pyx_5 = 0;
    __pyx_6 = 0;
    __pyx_7 = 0;
    __pyx_8 = 0;
    __pyx_9 = 0;
    __pyx_10 = 0;
    __pyx_11 = 0;
    __pyx_12 = 0;
    __pyx_13 = 0;
    __pyx_14 = 0;
    __pyx_15 = 0;
    __pyx_16 = 0;
    __pyx_17 = 0;
    __pyx_r = __pyx_18;
    __pyx_18 = 0;
    goto __pyx_L0;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  Py_XDECREF(__pyx_7);
  Py_XDECREF(__pyx_8);
  Py_XDECREF(__pyx_9);
  Py_XDECREF(__pyx_10);
  Py_XDECREF(__pyx_11);
  Py_XDECREF(__pyx_12);
  Py_XDECREF(__pyx_13);
  Py_XDECREF(__pyx_14);
  Py_XDECREF(__pyx_15);
  Py_XDECREF(__pyx_16);
  Py_XDECREF(__pyx_17);
  Py_XDECREF(__pyx_18);
  __Pyx_AddTraceback("cgtypes.mat4.toList");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rowmajor);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4_identity(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_identity[] = "Return identity matrix.\n\n        >>> print mat4().identity()\n        [   1.0000,    0.0000,    0.0000,    0.0000]\n        [   0.0000,    1.0000,    0.0000,    0.0000]\n        [   0.0000,    0.0000,    1.0000,    0.0000]\n        [   0.0000,    0.0000,    0.0000,    1.0000]\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4_identity(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3703 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3703; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3703; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3703; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3704 */
  __pyx_v_res->m11 = 1.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3705 */
  __pyx_v_res->m12 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3706 */
  __pyx_v_res->m13 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3707 */
  __pyx_v_res->m14 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3708 */
  __pyx_v_res->m21 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3709 */
  __pyx_v_res->m22 = 1.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3710 */
  __pyx_v_res->m23 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3711 */
  __pyx_v_res->m24 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3712 */
  __pyx_v_res->m31 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3713 */
  __pyx_v_res->m32 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3714 */
  __pyx_v_res->m33 = 1.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3715 */
  __pyx_v_res->m34 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3716 */
  __pyx_v_res->m41 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3717 */
  __pyx_v_res->m42 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3718 */
  __pyx_v_res->m43 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3719 */
  __pyx_v_res->m44 = 1.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3720 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.mat4.identity");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4_transpose(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_transpose[] = "Return transpose matrix.\n        \n        >>> M=mat4(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16)\n        >>> print M.transpose()\n        [   1.0000,    5.0000,    9.0000,   13.0000]\n        [   2.0000,    6.0000,   10.0000,   14.0000]\n        [   3.0000,    7.0000,   11.0000,   15.0000]\n        [   4.0000,    8.0000,   12.0000,   16.0000]\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4_transpose(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3733 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3733; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3733; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3733; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3734 */
  __pyx_v_res->m11 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3735 */
  __pyx_v_res->m12 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3736 */
  __pyx_v_res->m13 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3737 */
  __pyx_v_res->m14 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3738 */
  __pyx_v_res->m21 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3739 */
  __pyx_v_res->m22 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3740 */
  __pyx_v_res->m23 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3741 */
  __pyx_v_res->m24 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3742 */
  __pyx_v_res->m31 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3743 */
  __pyx_v_res->m32 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3744 */
  __pyx_v_res->m33 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3745 */
  __pyx_v_res->m34 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3746 */
  __pyx_v_res->m41 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3747 */
  __pyx_v_res->m42 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3748 */
  __pyx_v_res->m43 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3749 */
  __pyx_v_res->m44 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3750 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.mat4.transpose");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4_determinant(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_determinant[] = "Return determinant.\n        \n        >>> M=mat4(2.0,0,0,0, 0,2.0,0,0, 0,0,2.0,0, 0,0,0,2.0)\n        >>> print M.determinant()\n        16.0\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4_determinant(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3759 */
  __pyx_1 = PyFloat_FromDouble(((((((((((((((((((((((((((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44) - (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43)) + (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42)) - (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44)) + (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43)) - (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42)) - (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41)) + (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44)) - (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43)) + (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41)) - (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44)) + (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43)) + (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42)) - (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41)) + (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44)) - (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42)) + (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41)) - (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44)) - (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43)) + (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42)) - (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41)) + (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43)) - (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42)) + (((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32) * ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41))); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3782; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("cgtypes.mat4.determinant");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4__submat(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7cgtypes_4mat4__submat(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_M3 = 0;
  PyObject *__pyx_v_i = 0;
  PyObject *__pyx_v_j = 0;
  int __pyx_v_k;
  int __pyx_v_l;
  double __pyx_v_v;
  PyObject *__pyx_v_t;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  double __pyx_5;
  static char *__pyx_argnames[] = {"M3","i","j",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OOO", __pyx_argnames, &__pyx_v_M3, &__pyx_v_i, &__pyx_v_j)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_M3);
  Py_INCREF(__pyx_v_i);
  Py_INCREF(__pyx_v_j);
  __pyx_v_t = Py_None; Py_INCREF(__pyx_v_t);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_M3), __pyx_ptype_7cgtypes_mat3, 1, "M3")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3784; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3789 */
  __pyx_v_k = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3790 */
  while (1) {
    __pyx_L2:;
    __pyx_1 = (__pyx_v_k < 3);
    if (!__pyx_1) break;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3791 */
    __pyx_v_l = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3792 */
    while (1) {
      __pyx_L4:;
      __pyx_1 = (__pyx_v_l < 3);
      if (!__pyx_1) break;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3793 */
      __pyx_2 = PyInt_FromLong(__pyx_v_k); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3793; goto __pyx_L1;}
      __pyx_3 = PyInt_FromLong(__pyx_v_l); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3793; goto __pyx_L1;}
      __pyx_4 = PyTuple_New(2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3793; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
      PyTuple_SET_ITEM(__pyx_4, 1, __pyx_3);
      __pyx_2 = 0;
      __pyx_3 = 0;
      Py_DECREF(__pyx_v_t);
      __pyx_v_t = __pyx_4;
      __pyx_4 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3794 */
      __pyx_2 = PyInt_FromLong(__pyx_v_k); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3794; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_2, __pyx_v_i, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3794; goto __pyx_L1;}
      __pyx_1 = __pyx_1 >= 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      if (__pyx_1) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3795 */
        __pyx_3 = PyInt_FromLong((__pyx_v_k + 1)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3795; goto __pyx_L1;}
        __pyx_4 = PyInt_FromLong(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3795; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_t, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3795; goto __pyx_L1;}
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        __pyx_4 = PyTuple_New(2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3795; goto __pyx_L1;}
        PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
        PyTuple_SET_ITEM(__pyx_4, 1, __pyx_2);
        __pyx_3 = 0;
        __pyx_2 = 0;
        Py_DECREF(__pyx_v_t);
        __pyx_v_t = __pyx_4;
        __pyx_4 = 0;
        goto __pyx_L6;
      }
      __pyx_L6:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3796 */
      __pyx_3 = PyInt_FromLong(__pyx_v_l); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3796; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_3, __pyx_v_j, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3796; goto __pyx_L1;}
      __pyx_1 = __pyx_1 >= 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (__pyx_1) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3797 */
        __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3797; goto __pyx_L1;}
        __pyx_4 = PyObject_GetItem(__pyx_v_t, __pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3797; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_3 = PyInt_FromLong((__pyx_v_l + 1)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3797; goto __pyx_L1;}
        __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3797; goto __pyx_L1;}
        PyTuple_SET_ITEM(__pyx_2, 0, __pyx_4);
        PyTuple_SET_ITEM(__pyx_2, 1, __pyx_3);
        __pyx_4 = 0;
        __pyx_3 = 0;
        Py_DECREF(__pyx_v_t);
        __pyx_v_t = __pyx_2;
        __pyx_2 = 0;
        goto __pyx_L7;
      }
      __pyx_L7:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3800 */
      __pyx_4 = PyObject_GetItem(__pyx_v_self, __pyx_v_t); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3800; goto __pyx_L1;}
      __pyx_5 = PyFloat_AsDouble(__pyx_4); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3800; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __pyx_v_v = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3801 */
      __pyx_1 = (__pyx_v_k == 0);
      if (__pyx_1) {
        __pyx_1 = (__pyx_v_l == 0);
      }
      if (__pyx_1) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3802 */
        __pyx_v_M3->m11 = __pyx_v_v;
        goto __pyx_L8;
      }
      __pyx_L8:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3803 */
      __pyx_1 = (__pyx_v_k == 0);
      if (__pyx_1) {
        __pyx_1 = (__pyx_v_l == 1);
      }
      if (__pyx_1) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3804 */
        __pyx_v_M3->m12 = __pyx_v_v;
        goto __pyx_L9;
      }
      __pyx_L9:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3805 */
      __pyx_1 = (__pyx_v_k == 0);
      if (__pyx_1) {
        __pyx_1 = (__pyx_v_l == 2);
      }
      if (__pyx_1) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3806 */
        __pyx_v_M3->m13 = __pyx_v_v;
        goto __pyx_L10;
      }
      __pyx_L10:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3807 */
      __pyx_1 = (__pyx_v_k == 1);
      if (__pyx_1) {
        __pyx_1 = (__pyx_v_l == 0);
      }
      if (__pyx_1) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3808 */
        __pyx_v_M3->m21 = __pyx_v_v;
        goto __pyx_L11;
      }
      __pyx_L11:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3809 */
      __pyx_1 = (__pyx_v_k == 1);
      if (__pyx_1) {
        __pyx_1 = (__pyx_v_l == 1);
      }
      if (__pyx_1) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3810 */
        __pyx_v_M3->m22 = __pyx_v_v;
        goto __pyx_L12;
      }
      __pyx_L12:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3811 */
      __pyx_1 = (__pyx_v_k == 1);
      if (__pyx_1) {
        __pyx_1 = (__pyx_v_l == 2);
      }
      if (__pyx_1) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3812 */
        __pyx_v_M3->m23 = __pyx_v_v;
        goto __pyx_L13;
      }
      __pyx_L13:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3813 */
      __pyx_1 = (__pyx_v_k == 2);
      if (__pyx_1) {
        __pyx_1 = (__pyx_v_l == 0);
      }
      if (__pyx_1) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3814 */
        __pyx_v_M3->m31 = __pyx_v_v;
        goto __pyx_L14;
      }
      __pyx_L14:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3815 */
      __pyx_1 = (__pyx_v_k == 2);
      if (__pyx_1) {
        __pyx_1 = (__pyx_v_l == 1);
      }
      if (__pyx_1) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3816 */
        __pyx_v_M3->m32 = __pyx_v_v;
        goto __pyx_L15;
      }
      __pyx_L15:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3817 */
      __pyx_1 = (__pyx_v_k == 2);
      if (__pyx_1) {
        __pyx_1 = (__pyx_v_l == 2);
      }
      if (__pyx_1) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":3818 */
        __pyx_v_M3->m33 = __pyx_v_v;
        goto __pyx_L16;
      }
      __pyx_L16:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3820 */
      __pyx_v_l = (__pyx_v_l + 1);
    }
    __pyx_L5:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3821 */
    __pyx_v_k = (__pyx_v_k + 1);
  }
  __pyx_L3:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3822 */
  Py_INCREF(((PyObject *)__pyx_v_M3));
  __pyx_r = ((PyObject *)__pyx_v_M3);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("cgtypes.mat4._submat");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_t);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_M3);
  Py_DECREF(__pyx_v_i);
  Py_DECREF(__pyx_v_j);
  return __pyx_r;
}

static PyObject *__pyx_k182p;

static char (__pyx_k182[]) = "matrix not invertible";

static PyObject *__pyx_f_7cgtypes_4mat4_inverse(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_inverse[] = "Return inverse matrix.\n\n        >>> M=mat4(0,-2.0,0,0, 2.0,0,0,0, 0,0,2,0, 0,0,0,2)\n        >>> print M.inverse()\n        [   0.0000,    0.5000,    0.0000,    0.0000]\n        [  -0.5000,    0.0000,    0.0000,    0.0000]\n        [   0.0000,    0.0000,    0.5000,    0.0000]\n        [   0.0000,    0.0000,    0.0000,    0.5000]\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4_inverse(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_res;
  short __pyx_v_i;
  short __pyx_v_j;
  short __pyx_v_sign;
  double (__pyx_v_m4[16]);
  double (__pyx_v_m4_res[16]);
  double __pyx_v_det;
  double __pyx_v_d;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  double __pyx_4;
  int __pyx_5;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3840 */
  (__pyx_v_m4[0]) = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3841 */
  (__pyx_v_m4[1]) = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3842 */
  (__pyx_v_m4[2]) = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3843 */
  (__pyx_v_m4[3]) = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3844 */
  (__pyx_v_m4[4]) = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3845 */
  (__pyx_v_m4[5]) = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3846 */
  (__pyx_v_m4[6]) = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3847 */
  (__pyx_v_m4[7]) = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3848 */
  (__pyx_v_m4[8]) = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3849 */
  (__pyx_v_m4[9]) = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3850 */
  (__pyx_v_m4[10]) = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3851 */
  (__pyx_v_m4[11]) = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3852 */
  (__pyx_v_m4[12]) = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3853 */
  (__pyx_v_m4[13]) = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3854 */
  (__pyx_v_m4[14]) = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3855 */
  (__pyx_v_m4[15]) = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3857 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_determinant); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3857; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3857; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3857; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_4 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3857; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_v_det = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3858 */
  __pyx_5 = (fabs(__pyx_v_det) <= __pyx_v_7cgtypes_eps);
  if (__pyx_5) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3859 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3859; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k182p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3859; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3861 */
  __pyx_v_i = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3862 */
  while (1) {
    __pyx_L3:;
    __pyx_5 = (__pyx_v_i < 4);
    if (!__pyx_5) break;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3863 */
    __pyx_v_j = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3864 */
    while (1) {
      __pyx_L5:;
      __pyx_5 = (__pyx_v_j < 4);
      if (!__pyx_5) break;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3865 */
      __pyx_v_sign = (1 - (((__pyx_v_i + __pyx_v_j) % 2) * 2));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3866 */
      __pyx_v_d = __pyx_f_7cgtypes__subdet(__pyx_v_m4,__pyx_v_i,__pyx_v_j);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3867 */
      (__pyx_v_m4_res[((__pyx_v_j * 4) + __pyx_v_i)]) = ((__pyx_v_sign * __pyx_v_d) / __pyx_v_det);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":3868 */
      __pyx_v_j = (__pyx_v_j + 1);
    }
    __pyx_L6:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":3869 */
    __pyx_v_i = (__pyx_v_i + 1);
  }
  __pyx_L4:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3871 */
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3871; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3871; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3871; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3872 */
  __pyx_v_res->m11 = (__pyx_v_m4_res[0]);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3873 */
  __pyx_v_res->m12 = (__pyx_v_m4_res[1]);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3874 */
  __pyx_v_res->m13 = (__pyx_v_m4_res[2]);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3875 */
  __pyx_v_res->m14 = (__pyx_v_m4_res[3]);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3876 */
  __pyx_v_res->m21 = (__pyx_v_m4_res[4]);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3877 */
  __pyx_v_res->m22 = (__pyx_v_m4_res[5]);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3878 */
  __pyx_v_res->m23 = (__pyx_v_m4_res[6]);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3879 */
  __pyx_v_res->m24 = (__pyx_v_m4_res[7]);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3880 */
  __pyx_v_res->m31 = (__pyx_v_m4_res[8]);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3881 */
  __pyx_v_res->m32 = (__pyx_v_m4_res[9]);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3882 */
  __pyx_v_res->m33 = (__pyx_v_m4_res[10]);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3883 */
  __pyx_v_res->m34 = (__pyx_v_m4_res[11]);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3884 */
  __pyx_v_res->m41 = (__pyx_v_m4_res[12]);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3885 */
  __pyx_v_res->m42 = (__pyx_v_m4_res[13]);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3886 */
  __pyx_v_res->m43 = (__pyx_v_m4_res[14]);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3887 */
  __pyx_v_res->m44 = (__pyx_v_m4_res[15]);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3888 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat4.inverse");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4_translation(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_translation[] = "Return translation matrix.\n\n        t must be a 3-sequence (e.g. a vec3).\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4_translation(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_t = 0;
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  double __pyx_3;
  static char *__pyx_argnames[] = {"t",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_t)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_t);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3897 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3897; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3897; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3897; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3898 */
  __pyx_v_res->m11 = 1.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3899 */
  __pyx_v_res->m12 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3900 */
  __pyx_v_res->m13 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3901 */
  __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3901; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_t, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3901; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3901; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_res->m14 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3902 */
  __pyx_v_res->m21 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3903 */
  __pyx_v_res->m22 = 1.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3904 */
  __pyx_v_res->m23 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3905 */
  __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3905; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_t, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3905; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3905; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_res->m24 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3906 */
  __pyx_v_res->m31 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3907 */
  __pyx_v_res->m32 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3908 */
  __pyx_v_res->m33 = 1.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3909 */
  __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3909; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_t, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3909; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3909; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_res->m34 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3910 */
  __pyx_v_res->m41 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3911 */
  __pyx_v_res->m42 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3912 */
  __pyx_v_res->m43 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3913 */
  __pyx_v_res->m44 = 1.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3914 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.mat4.translation");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_t);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4_scaling(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_scaling[] = "Return scaling matrix.\n\n        s must be a 3-sequence (e.g. a vec3).\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4_scaling(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_s = 0;
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  double __pyx_3;
  static char *__pyx_argnames[] = {"s",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_s)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_s);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3922 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3922; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3922; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3922; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3923 */
  __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3923; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_s, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3923; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3923; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_res->m11 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3924 */
  __pyx_v_res->m12 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3925 */
  __pyx_v_res->m13 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3926 */
  __pyx_v_res->m14 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3927 */
  __pyx_v_res->m21 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3928 */
  __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3928; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_s, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3928; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3928; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_res->m22 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3929 */
  __pyx_v_res->m23 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3930 */
  __pyx_v_res->m24 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3931 */
  __pyx_v_res->m31 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3932 */
  __pyx_v_res->m32 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3933 */
  __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3933; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_s, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3933; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3933; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_res->m33 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3934 */
  __pyx_v_res->m34 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3935 */
  __pyx_v_res->m41 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3936 */
  __pyx_v_res->m42 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3937 */
  __pyx_v_res->m43 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3938 */
  __pyx_v_res->m44 = 1.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3939 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.mat4.scaling");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_s);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4_rotation(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_rotation[] = "Return rotation matrix.\n\n        angle must be given in radians. axis must be a 3-sequence.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4_rotation(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_angle = 0;
  PyObject *__pyx_v_axis = 0;
  double __pyx_v_cangle;
  double __pyx_v_ax;
  double __pyx_v_ay;
  double __pyx_v_az;
  double __pyx_v_sqr_a;
  double __pyx_v_sqr_b;
  double __pyx_v_sqr_c;
  double __pyx_v_len2;
  double __pyx_v_k1;
  double __pyx_v_k2;
  double __pyx_v_k3;
  double __pyx_v_k1ab;
  double __pyx_v_k1ac;
  double __pyx_v_k1bc;
  double __pyx_v_k3a;
  double __pyx_v_k3b;
  double __pyx_v_k3c;
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_res;
  PyObject *__pyx_r;
  double __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"angle","axis",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_angle, &__pyx_v_axis)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_angle);
  Py_INCREF(__pyx_v_axis);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3951 */
  __pyx_1 = PyFloat_AsDouble(__pyx_v_angle); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3951; goto __pyx_L1;}
  __pyx_v_cangle = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3952 */
  __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3952; goto __pyx_L1;}
  __pyx_3 = PyObject_GetItem(__pyx_v_axis, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3952; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3952; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_v_ax = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3953 */
  __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3953; goto __pyx_L1;}
  __pyx_3 = PyObject_GetItem(__pyx_v_axis, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3953; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3953; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_v_ay = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3954 */
  __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3954; goto __pyx_L1;}
  __pyx_3 = PyObject_GetItem(__pyx_v_axis, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3954; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3954; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_v_az = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3955 */
  __pyx_v_sqr_a = (__pyx_v_ax * __pyx_v_ax);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3956 */
  __pyx_v_sqr_b = (__pyx_v_ay * __pyx_v_ay);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3957 */
  __pyx_v_sqr_c = (__pyx_v_az * __pyx_v_az);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3958 */
  __pyx_v_len2 = ((__pyx_v_sqr_a + __pyx_v_sqr_b) + __pyx_v_sqr_c);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3960 */
  __pyx_v_k2 = cos(__pyx_v_cangle);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3961 */
  __pyx_v_k1 = ((1.0 - __pyx_v_k2) / __pyx_v_len2);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3962 */
  __pyx_v_k3 = (sin(__pyx_v_cangle) / sqrt(__pyx_v_len2));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3963 */
  __pyx_v_k1ab = ((__pyx_v_k1 * __pyx_v_ax) * __pyx_v_ay);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3964 */
  __pyx_v_k1ac = ((__pyx_v_k1 * __pyx_v_ax) * __pyx_v_az);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3965 */
  __pyx_v_k1bc = ((__pyx_v_k1 * __pyx_v_ay) * __pyx_v_az);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3966 */
  __pyx_v_k3a = (__pyx_v_k3 * __pyx_v_ax);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3967 */
  __pyx_v_k3b = (__pyx_v_k3 * __pyx_v_ay);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3968 */
  __pyx_v_k3c = (__pyx_v_k3 * __pyx_v_az);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3970 */
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3970; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3970; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3970; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3971 */
  __pyx_v_res->m11 = ((__pyx_v_k1 * __pyx_v_sqr_a) + __pyx_v_k2);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3972 */
  __pyx_v_res->m12 = (__pyx_v_k1ab - __pyx_v_k3c);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3973 */
  __pyx_v_res->m13 = (__pyx_v_k1ac + __pyx_v_k3b);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3974 */
  __pyx_v_res->m14 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3975 */
  __pyx_v_res->m21 = (__pyx_v_k1ab + __pyx_v_k3c);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3976 */
  __pyx_v_res->m22 = ((__pyx_v_k1 * __pyx_v_sqr_b) + __pyx_v_k2);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3977 */
  __pyx_v_res->m23 = (__pyx_v_k1bc - __pyx_v_k3a);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3978 */
  __pyx_v_res->m24 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3979 */
  __pyx_v_res->m31 = (__pyx_v_k1ac - __pyx_v_k3b);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3980 */
  __pyx_v_res->m32 = (__pyx_v_k1bc + __pyx_v_k3a);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3981 */
  __pyx_v_res->m33 = ((__pyx_v_k1 * __pyx_v_sqr_c) + __pyx_v_k2);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3982 */
  __pyx_v_res->m34 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3983 */
  __pyx_v_res->m41 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3984 */
  __pyx_v_res->m42 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3985 */
  __pyx_v_res->m43 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3986 */
  __pyx_v_res->m44 = 1.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3987 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat4.rotation");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_angle);
  Py_DECREF(__pyx_v_axis);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4_translate(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_translate[] = "Concatenate a translation.\n\n        t must be a 3-sequence (e.g. a vec3).\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4_translate(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_t = 0;
  double __pyx_v_tx;
  double __pyx_v_ty;
  double __pyx_v_tz;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  double __pyx_3;
  static char *__pyx_argnames[] = {"t",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_t)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_t);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3996 */
  __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3996; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_t, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3996; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3996; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_tx = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3997 */
  __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3997; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_t, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3997; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3997; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_ty = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3998 */
  __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3998; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_t, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3998; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3998; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_tz = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4000 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 = ((((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 * __pyx_v_tx) + (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 * __pyx_v_ty)) + (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 * __pyx_v_tz)) + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4001 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 = ((((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 * __pyx_v_tx) + (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 * __pyx_v_ty)) + (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 * __pyx_v_tz)) + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4002 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 = ((((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 * __pyx_v_tx) + (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 * __pyx_v_ty)) + (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 * __pyx_v_tz)) + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4003 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 = ((((((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 * __pyx_v_tx) + (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 * __pyx_v_ty)) + (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 * __pyx_v_tz)) + ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4004 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.mat4.translate");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_t);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4_scale(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_scale[] = "Concatenate a scaling.\n\n        s must be a 3-sequence (e.g. a vec3).\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4_scale(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_s = 0;
  double __pyx_v_sx;
  double __pyx_v_sy;
  double __pyx_v_sz;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  double __pyx_3;
  static char *__pyx_argnames[] = {"s",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_s)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_s);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4012 */
  __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4012; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_s, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4012; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4012; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_sx = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4013 */
  __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4013; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_s, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4013; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4013; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_sy = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4014 */
  __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4014; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_s, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4014; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4014; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_sz = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4015 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 * __pyx_v_sx);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4016 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 * __pyx_v_sy);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4017 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 * __pyx_v_sz);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4018 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 * __pyx_v_sx);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4019 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 * __pyx_v_sy);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4020 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 * __pyx_v_sz);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4021 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 * __pyx_v_sx);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4022 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 * __pyx_v_sy);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4023 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 * __pyx_v_sz);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4024 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 * __pyx_v_sx);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4025 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 * __pyx_v_sy);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4026 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 = (((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 * __pyx_v_sz);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4027 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.mat4.scale");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_s);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4_rotate(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_rotate[] = "Concatenate a rotation.\n\n        angle must be given in radians. axis must be a 3-sequence.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4_rotate(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_angle = 0;
  PyObject *__pyx_v_axis = 0;
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_R;
  double __pyx_v_c1;
  double __pyx_v_c2;
  double __pyx_v_c3;
  double __pyx_v_c4;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"angle","axis",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_angle, &__pyx_v_axis)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_angle);
  Py_INCREF(__pyx_v_axis);
  ((PyObject*)__pyx_v_R) = Py_None; Py_INCREF(((PyObject*)__pyx_v_R));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4036 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_rotation); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4036; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4036; goto __pyx_L1;}
  Py_INCREF(__pyx_v_angle);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_angle);
  Py_INCREF(__pyx_v_axis);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_axis);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4036; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4036; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_R));
  ((PyObject *)__pyx_v_R) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4039 */
  __pyx_v_c1 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4040 */
  __pyx_v_c2 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4041 */
  __pyx_v_c3 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4042 */
  __pyx_v_c4 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4043 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 = ((((__pyx_v_c1 * __pyx_v_R->m11) + (__pyx_v_c2 * __pyx_v_R->m21)) + (__pyx_v_c3 * __pyx_v_R->m31)) + (__pyx_v_c4 * __pyx_v_R->m41));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4044 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 = ((((__pyx_v_c1 * __pyx_v_R->m12) + (__pyx_v_c2 * __pyx_v_R->m22)) + (__pyx_v_c3 * __pyx_v_R->m32)) + (__pyx_v_c4 * __pyx_v_R->m42));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4045 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 = ((((__pyx_v_c1 * __pyx_v_R->m13) + (__pyx_v_c2 * __pyx_v_R->m23)) + (__pyx_v_c3 * __pyx_v_R->m33)) + (__pyx_v_c4 * __pyx_v_R->m43));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4046 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14 = ((((__pyx_v_c1 * __pyx_v_R->m14) + (__pyx_v_c2 * __pyx_v_R->m24)) + (__pyx_v_c3 * __pyx_v_R->m34)) + (__pyx_v_c4 * __pyx_v_R->m44));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4048 */
  __pyx_v_c1 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4049 */
  __pyx_v_c2 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4050 */
  __pyx_v_c3 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4051 */
  __pyx_v_c4 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4052 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 = ((((__pyx_v_c1 * __pyx_v_R->m11) + (__pyx_v_c2 * __pyx_v_R->m21)) + (__pyx_v_c3 * __pyx_v_R->m31)) + (__pyx_v_c4 * __pyx_v_R->m41));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4053 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 = ((((__pyx_v_c1 * __pyx_v_R->m12) + (__pyx_v_c2 * __pyx_v_R->m22)) + (__pyx_v_c3 * __pyx_v_R->m32)) + (__pyx_v_c4 * __pyx_v_R->m42));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4054 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 = ((((__pyx_v_c1 * __pyx_v_R->m13) + (__pyx_v_c2 * __pyx_v_R->m23)) + (__pyx_v_c3 * __pyx_v_R->m33)) + (__pyx_v_c4 * __pyx_v_R->m43));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4055 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24 = ((((__pyx_v_c1 * __pyx_v_R->m14) + (__pyx_v_c2 * __pyx_v_R->m24)) + (__pyx_v_c3 * __pyx_v_R->m34)) + (__pyx_v_c4 * __pyx_v_R->m44));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4057 */
  __pyx_v_c1 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4058 */
  __pyx_v_c2 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4059 */
  __pyx_v_c3 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4060 */
  __pyx_v_c4 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4061 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 = ((((__pyx_v_c1 * __pyx_v_R->m11) + (__pyx_v_c2 * __pyx_v_R->m21)) + (__pyx_v_c3 * __pyx_v_R->m31)) + (__pyx_v_c4 * __pyx_v_R->m41));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4062 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 = ((((__pyx_v_c1 * __pyx_v_R->m12) + (__pyx_v_c2 * __pyx_v_R->m22)) + (__pyx_v_c3 * __pyx_v_R->m32)) + (__pyx_v_c4 * __pyx_v_R->m42));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4063 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 = ((((__pyx_v_c1 * __pyx_v_R->m13) + (__pyx_v_c2 * __pyx_v_R->m23)) + (__pyx_v_c3 * __pyx_v_R->m33)) + (__pyx_v_c4 * __pyx_v_R->m43));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4064 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34 = ((((__pyx_v_c1 * __pyx_v_R->m14) + (__pyx_v_c2 * __pyx_v_R->m24)) + (__pyx_v_c3 * __pyx_v_R->m34)) + (__pyx_v_c4 * __pyx_v_R->m44));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4066 */
  __pyx_v_c1 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4067 */
  __pyx_v_c2 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4068 */
  __pyx_v_c3 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4069 */
  __pyx_v_c4 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4070 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41 = ((((__pyx_v_c1 * __pyx_v_R->m11) + (__pyx_v_c2 * __pyx_v_R->m21)) + (__pyx_v_c3 * __pyx_v_R->m31)) + (__pyx_v_c4 * __pyx_v_R->m41));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4071 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42 = ((((__pyx_v_c1 * __pyx_v_R->m12) + (__pyx_v_c2 * __pyx_v_R->m22)) + (__pyx_v_c3 * __pyx_v_R->m32)) + (__pyx_v_c4 * __pyx_v_R->m42));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4072 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43 = ((((__pyx_v_c1 * __pyx_v_R->m13) + (__pyx_v_c2 * __pyx_v_R->m23)) + (__pyx_v_c3 * __pyx_v_R->m33)) + (__pyx_v_c4 * __pyx_v_R->m43));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4073 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44 = ((((__pyx_v_c1 * __pyx_v_R->m14) + (__pyx_v_c2 * __pyx_v_R->m24)) + (__pyx_v_c3 * __pyx_v_R->m34)) + (__pyx_v_c4 * __pyx_v_R->m44));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4075 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat4.rotate");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_R);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_angle);
  Py_DECREF(__pyx_v_axis);
  return __pyx_r;
}

static PyObject *__pyx_k183p;
static PyObject *__pyx_k184p;
static PyObject *__pyx_k185p;

static char (__pyx_k183[]) = "right-value must be greater than left-value";
static char (__pyx_k184[]) = "top-value must be greater than bottom-value";
static char (__pyx_k185[]) = "far-value must be greater than near-value";

static PyObject *__pyx_f_7cgtypes_4mat4_orthographic(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_orthographic[] = "equivalent to the OpenGL command glOrtho()";
static PyObject *__pyx_f_7cgtypes_4mat4_orthographic(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_left = 0;
  PyObject *__pyx_v_right = 0;
  PyObject *__pyx_v_bottom = 0;
  PyObject *__pyx_v_top = 0;
  PyObject *__pyx_v_near = 0;
  PyObject *__pyx_v_far = 0;
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_res;
  double __pyx_v_l;
  double __pyx_v_r;
  double __pyx_v_b;
  double __pyx_v_t;
  double __pyx_v_n;
  double __pyx_v_f;
  double __pyx_v_r_l;
  double __pyx_v_t_b;
  double __pyx_v_f_n;
  PyObject *__pyx_r;
  double __pyx_1;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {"left","right","bottom","top","near","far",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OOOOOO", __pyx_argnames, &__pyx_v_left, &__pyx_v_right, &__pyx_v_bottom, &__pyx_v_top, &__pyx_v_near, &__pyx_v_far)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_left);
  Py_INCREF(__pyx_v_right);
  Py_INCREF(__pyx_v_bottom);
  Py_INCREF(__pyx_v_top);
  Py_INCREF(__pyx_v_near);
  Py_INCREF(__pyx_v_far);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4082 */
  __pyx_1 = PyFloat_AsDouble(__pyx_v_left); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4082; goto __pyx_L1;}
  __pyx_v_l = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4083 */
  __pyx_1 = PyFloat_AsDouble(__pyx_v_right); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4083; goto __pyx_L1;}
  __pyx_v_r = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4084 */
  __pyx_1 = PyFloat_AsDouble(__pyx_v_bottom); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4084; goto __pyx_L1;}
  __pyx_v_b = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4085 */
  __pyx_1 = PyFloat_AsDouble(__pyx_v_top); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4085; goto __pyx_L1;}
  __pyx_v_t = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4086 */
  __pyx_1 = PyFloat_AsDouble(__pyx_v_near); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4086; goto __pyx_L1;}
  __pyx_v_n = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4087 */
  __pyx_1 = PyFloat_AsDouble(__pyx_v_far); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4087; goto __pyx_L1;}
  __pyx_v_f = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4089 */
  __pyx_v_r_l = (__pyx_v_r - __pyx_v_l);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4090 */
  __pyx_v_t_b = (__pyx_v_t - __pyx_v_b);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4091 */
  __pyx_v_f_n = (__pyx_v_f - __pyx_v_n);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4093 */
  __pyx_2 = (__pyx_v_r_l <= __pyx_v_7cgtypes_eps);
  if (__pyx_2) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4094 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4094; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k183p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4094; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4095 */
  __pyx_2 = (__pyx_v_t_b <= __pyx_v_7cgtypes_eps);
  if (__pyx_2) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4096 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4096; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k184p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4096; goto __pyx_L1;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4097 */
  __pyx_2 = (__pyx_v_f_n <= __pyx_v_7cgtypes_eps);
  if (__pyx_2) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4098 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4098; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k185p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4098; goto __pyx_L1;}
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4100 */
  __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4100; goto __pyx_L1;}
  __pyx_4 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4100; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (!__Pyx_TypeTest(__pyx_4, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4100; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_4;
  __pyx_4 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4102 */
  __pyx_v_res->m11 = (2.0 / __pyx_v_r_l);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4103 */
  __pyx_v_res->m12 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4104 */
  __pyx_v_res->m13 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4105 */
  __pyx_v_res->m14 = ((-(__pyx_v_r + __pyx_v_l)) / __pyx_v_r_l);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4106 */
  __pyx_v_res->m21 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4107 */
  __pyx_v_res->m22 = (2.0 / __pyx_v_t_b);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4108 */
  __pyx_v_res->m23 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4109 */
  __pyx_v_res->m24 = ((-(__pyx_v_t + __pyx_v_b)) / __pyx_v_t_b);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4110 */
  __pyx_v_res->m31 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4111 */
  __pyx_v_res->m32 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4112 */
  __pyx_v_res->m33 = ((-2.0) / __pyx_v_f_n);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4113 */
  __pyx_v_res->m34 = ((-(__pyx_v_f + __pyx_v_n)) / __pyx_v_f_n);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4114 */
  __pyx_v_res->m41 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4115 */
  __pyx_v_res->m42 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4116 */
  __pyx_v_res->m43 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4117 */
  __pyx_v_res->m44 = 1.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4118 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("cgtypes.mat4.orthographic");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_left);
  Py_DECREF(__pyx_v_right);
  Py_DECREF(__pyx_v_bottom);
  Py_DECREF(__pyx_v_top);
  Py_DECREF(__pyx_v_near);
  Py_DECREF(__pyx_v_far);
  return __pyx_r;
}

static PyObject *__pyx_k186p;
static PyObject *__pyx_k187p;
static PyObject *__pyx_k188p;

static char (__pyx_k186[]) = "right-value must be greater than left-value";
static char (__pyx_k187[]) = "top-value must be greater than bottom-value";
static char (__pyx_k188[]) = "far-value must be greater than near-value";

static PyObject *__pyx_f_7cgtypes_4mat4_frustum(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_frustum[] = "equivalent to the OpenGL command glFrustum()";
static PyObject *__pyx_f_7cgtypes_4mat4_frustum(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_left = 0;
  PyObject *__pyx_v_right = 0;
  PyObject *__pyx_v_bottom = 0;
  PyObject *__pyx_v_top = 0;
  PyObject *__pyx_v_near = 0;
  PyObject *__pyx_v_far = 0;
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_res;
  double __pyx_v_l;
  double __pyx_v_r;
  double __pyx_v_b;
  double __pyx_v_t;
  double __pyx_v_n;
  double __pyx_v_f;
  double __pyx_v_r_l;
  double __pyx_v_t_b;
  double __pyx_v_f_n;
  PyObject *__pyx_r;
  double __pyx_1;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {"left","right","bottom","top","near","far",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OOOOOO", __pyx_argnames, &__pyx_v_left, &__pyx_v_right, &__pyx_v_bottom, &__pyx_v_top, &__pyx_v_near, &__pyx_v_far)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_left);
  Py_INCREF(__pyx_v_right);
  Py_INCREF(__pyx_v_bottom);
  Py_INCREF(__pyx_v_top);
  Py_INCREF(__pyx_v_near);
  Py_INCREF(__pyx_v_far);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4125 */
  __pyx_1 = PyFloat_AsDouble(__pyx_v_left); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4125; goto __pyx_L1;}
  __pyx_v_l = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4126 */
  __pyx_1 = PyFloat_AsDouble(__pyx_v_right); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4126; goto __pyx_L1;}
  __pyx_v_r = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4127 */
  __pyx_1 = PyFloat_AsDouble(__pyx_v_bottom); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4127; goto __pyx_L1;}
  __pyx_v_b = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4128 */
  __pyx_1 = PyFloat_AsDouble(__pyx_v_top); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4128; goto __pyx_L1;}
  __pyx_v_t = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4129 */
  __pyx_1 = PyFloat_AsDouble(__pyx_v_near); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4129; goto __pyx_L1;}
  __pyx_v_n = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4130 */
  __pyx_1 = PyFloat_AsDouble(__pyx_v_far); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4130; goto __pyx_L1;}
  __pyx_v_f = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4132 */
  __pyx_v_r_l = (__pyx_v_r - __pyx_v_l);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4133 */
  __pyx_v_t_b = (__pyx_v_t - __pyx_v_b);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4134 */
  __pyx_v_f_n = (__pyx_v_f - __pyx_v_n);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4136 */
  __pyx_2 = (__pyx_v_r_l <= __pyx_v_7cgtypes_eps);
  if (__pyx_2) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4137 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4137; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k186p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4137; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4138 */
  __pyx_2 = (__pyx_v_t_b <= __pyx_v_7cgtypes_eps);
  if (__pyx_2) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4139 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4139; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k187p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4139; goto __pyx_L1;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4140 */
  __pyx_2 = (__pyx_v_f_n <= __pyx_v_7cgtypes_eps);
  if (__pyx_2) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4141 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4141; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k188p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4141; goto __pyx_L1;}
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4143 */
  __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4143; goto __pyx_L1;}
  __pyx_4 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4143; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (!__Pyx_TypeTest(__pyx_4, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4143; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_4;
  __pyx_4 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4145 */
  __pyx_v_res->m11 = ((2.0 * __pyx_v_n) / __pyx_v_r_l);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4146 */
  __pyx_v_res->m12 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4147 */
  __pyx_v_res->m13 = ((__pyx_v_r + __pyx_v_l) / __pyx_v_r_l);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4148 */
  __pyx_v_res->m14 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4149 */
  __pyx_v_res->m21 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4150 */
  __pyx_v_res->m22 = ((2.0 * __pyx_v_n) / __pyx_v_t_b);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4151 */
  __pyx_v_res->m23 = ((__pyx_v_t + __pyx_v_b) / __pyx_v_t_b);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4152 */
  __pyx_v_res->m24 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4153 */
  __pyx_v_res->m31 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4154 */
  __pyx_v_res->m32 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4155 */
  __pyx_v_res->m33 = ((-(__pyx_v_f + __pyx_v_n)) / __pyx_v_f_n);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4156 */
  __pyx_v_res->m34 = ((((-2.0) * __pyx_v_f) * __pyx_v_n) / __pyx_v_f_n);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4157 */
  __pyx_v_res->m41 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4158 */
  __pyx_v_res->m42 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4159 */
  __pyx_v_res->m43 = (-1.0);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4160 */
  __pyx_v_res->m44 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4161 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("cgtypes.mat4.frustum");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_left);
  Py_DECREF(__pyx_v_right);
  Py_DECREF(__pyx_v_bottom);
  Py_DECREF(__pyx_v_top);
  Py_DECREF(__pyx_v_near);
  Py_DECREF(__pyx_v_far);
  return __pyx_r;
}

static PyObject *__pyx_n_frustum;

static PyObject *__pyx_f_7cgtypes_4mat4_perspective(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_perspective[] = "von Mesa bernommen (glu.c)";
static PyObject *__pyx_f_7cgtypes_4mat4_perspective(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_fovy = 0;
  PyObject *__pyx_v_aspect = 0;
  PyObject *__pyx_v_near = 0;
  PyObject *__pyx_v_far = 0;
  double __pyx_v_f;
  double __pyx_v_a;
  double __pyx_v_top;
  double __pyx_v_bottom;
  double __pyx_v_left;
  double __pyx_v_right;
  PyObject *__pyx_r;
  double __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  PyObject *__pyx_7 = 0;
  static char *__pyx_argnames[] = {"fovy","aspect","near","far",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OOOO", __pyx_argnames, &__pyx_v_fovy, &__pyx_v_aspect, &__pyx_v_near, &__pyx_v_far)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_fovy);
  Py_INCREF(__pyx_v_aspect);
  Py_INCREF(__pyx_v_near);
  Py_INCREF(__pyx_v_far);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4168 */
  __pyx_1 = PyFloat_AsDouble(__pyx_v_fovy); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4168; goto __pyx_L1;}
  __pyx_v_f = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4169 */
  __pyx_1 = PyFloat_AsDouble(__pyx_v_aspect); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4169; goto __pyx_L1;}
  __pyx_v_a = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4171 */
  __pyx_2 = PyFloat_FromDouble(tan(((__pyx_v_f * 3.1415926535897931) / 360.0))); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4171; goto __pyx_L1;}
  __pyx_3 = PyNumber_Multiply(__pyx_v_near, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4171; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4171; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_v_top = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4172 */
  __pyx_v_bottom = (-__pyx_v_top);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4173 */
  __pyx_v_left = (__pyx_v_bottom * __pyx_v_a);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4174 */
  __pyx_v_right = (__pyx_v_top * __pyx_v_a);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4176 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_frustum); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4176; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(__pyx_v_left); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4176; goto __pyx_L1;}
  __pyx_4 = PyFloat_FromDouble(__pyx_v_right); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4176; goto __pyx_L1;}
  __pyx_5 = PyFloat_FromDouble(__pyx_v_bottom); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4176; goto __pyx_L1;}
  __pyx_6 = PyFloat_FromDouble(__pyx_v_top); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4176; goto __pyx_L1;}
  __pyx_7 = PyTuple_New(6); if (!__pyx_7) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4176; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_7, 0, __pyx_3);
  PyTuple_SET_ITEM(__pyx_7, 1, __pyx_4);
  PyTuple_SET_ITEM(__pyx_7, 2, __pyx_5);
  PyTuple_SET_ITEM(__pyx_7, 3, __pyx_6);
  Py_INCREF(__pyx_v_near);
  PyTuple_SET_ITEM(__pyx_7, 4, __pyx_v_near);
  Py_INCREF(__pyx_v_far);
  PyTuple_SET_ITEM(__pyx_7, 5, __pyx_v_far);
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_5 = 0;
  __pyx_6 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_7); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4176; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_7); __pyx_7 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  Py_XDECREF(__pyx_7);
  __Pyx_AddTraceback("cgtypes.mat4.perspective");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_fovy);
  Py_DECREF(__pyx_v_aspect);
  Py_DECREF(__pyx_v_near);
  Py_DECREF(__pyx_v_far);
  return __pyx_r;
}

static PyObject *__pyx_n_normalize;
static PyObject *__pyx_n_cross;

static PyObject *__pyx_f_7cgtypes_4mat4_lookAt(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_lookAt[] = "Look from pos to target.\n\n        The resulting transformation moves the origin to pos and\n        rotates so that The z-axis points to target. The y-axis is\n        as close as possible to the up vector.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4_lookAt(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_pos = 0;
  PyObject *__pyx_v_target = 0;
  PyObject *__pyx_v_up = 0;
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_res;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_right;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_vup;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_dir;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  double __pyx_4;
  static char *__pyx_argnames[] = {"pos","target","up",0};
  __pyx_v_up = __pyx_k3;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO|O", __pyx_argnames, &__pyx_v_pos, &__pyx_v_target, &__pyx_v_up)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_pos);
  Py_INCREF(__pyx_v_target);
  Py_INCREF(__pyx_v_up);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  ((PyObject*)__pyx_v_right) = Py_None; Py_INCREF(((PyObject*)__pyx_v_right));
  ((PyObject*)__pyx_v_vup) = Py_None; Py_INCREF(((PyObject*)__pyx_v_vup));
  ((PyObject*)__pyx_v_dir) = Py_None; Py_INCREF(((PyObject*)__pyx_v_dir));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4188 */
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4188; goto __pyx_L1;}
  Py_INCREF(__pyx_v_pos);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_pos);
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4188; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_pos);
  __pyx_v_pos = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4189 */
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4189; goto __pyx_L1;}
  Py_INCREF(__pyx_v_target);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_target);
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4189; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_target);
  __pyx_v_target = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4190 */
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4190; goto __pyx_L1;}
  Py_INCREF(__pyx_v_up);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_up);
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4190; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4190; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_vup));
  ((PyObject *)__pyx_v_vup) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4192 */
  __pyx_1 = PyNumber_Subtract(__pyx_v_target, __pyx_v_pos); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4192; goto __pyx_L1;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_normalize); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4192; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4192; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4192; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4192; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_dir));
  ((PyObject *)__pyx_v_dir) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4193 */
  __pyx_2 = PyObject_GetAttr(((PyObject *)__pyx_v_vup), __pyx_n_normalize); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4193; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4193; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4193; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4193; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_vup));
  ((PyObject *)__pyx_v_vup) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4194 */
  __pyx_2 = PyNumber_Multiply(((PyObject *)__pyx_v_vup), ((PyObject *)__pyx_v_dir)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4194; goto __pyx_L1;}
  __pyx_1 = PyNumber_Multiply(__pyx_2, ((PyObject *)__pyx_v_dir)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4194; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_3 = PyNumber_Subtract(((PyObject *)__pyx_v_vup), __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4194; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4194; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_vup));
  ((PyObject *)__pyx_v_vup) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4195 */
  /*try:*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4196 */
    __pyx_2 = PyObject_GetAttr(((PyObject *)__pyx_v_vup), __pyx_n_normalize); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4196; goto __pyx_L2;}
    __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4196; goto __pyx_L2;}
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4196; goto __pyx_L2;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4196; goto __pyx_L2;}
    Py_DECREF(((PyObject *)__pyx_v_vup));
    ((PyObject *)__pyx_v_vup) = __pyx_3;
    __pyx_3 = 0;
  }
  goto __pyx_L3;
  __pyx_L2:;
  Py_XDECREF(__pyx_2); __pyx_2 = 0;
  Py_XDECREF(__pyx_1); __pyx_1 = 0;
  Py_XDECREF(__pyx_3); __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4197 */
  /*except:*/ {
    __Pyx_AddTraceback("cgtypes.lookAt");
    __pyx_2 = __Pyx_GetExcValue(); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4197; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4201 */
    __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_dir), __pyx_n_ortho); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4201; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4201; goto __pyx_L1;}
    __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4201; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4201; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_vup));
    ((PyObject *)__pyx_v_vup) = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4203 */
  __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_vup), __pyx_n_cross); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4203; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4203; goto __pyx_L1;}
  Py_INCREF(((PyObject *)__pyx_v_dir));
  PyTuple_SET_ITEM(__pyx_3, 0, ((PyObject *)__pyx_v_dir));
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4203; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_n_normalize); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4203; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4203; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4203; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4203; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_right));
  ((PyObject *)__pyx_v_right) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4205 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4205; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4205; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4205; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4206 */
  __pyx_v_res->m11 = __pyx_v_right->x;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4207 */
  __pyx_v_res->m21 = __pyx_v_right->y;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4208 */
  __pyx_v_res->m31 = __pyx_v_right->z;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4209 */
  __pyx_v_res->m41 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4210 */
  __pyx_v_res->m12 = __pyx_v_vup->x;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4211 */
  __pyx_v_res->m22 = __pyx_v_vup->y;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4212 */
  __pyx_v_res->m32 = __pyx_v_vup->z;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4213 */
  __pyx_v_res->m42 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4214 */
  __pyx_v_res->m13 = __pyx_v_dir->x;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4215 */
  __pyx_v_res->m23 = __pyx_v_dir->y;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4216 */
  __pyx_v_res->m33 = __pyx_v_dir->z;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4217 */
  __pyx_v_res->m43 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4218 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_pos, __pyx_n_x); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4218; goto __pyx_L1;}
  __pyx_4 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4218; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_res->m14 = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4219 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_pos, __pyx_n_y); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4219; goto __pyx_L1;}
  __pyx_4 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4219; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_v_res->m24 = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4220 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_pos, __pyx_n_z); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4220; goto __pyx_L1;}
  __pyx_4 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4220; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_v_res->m34 = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4221 */
  __pyx_v_res->m44 = 1.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4222 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.mat4.lookAt");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_right);
  Py_DECREF(__pyx_v_vup);
  Py_DECREF(__pyx_v_dir);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_pos);
  Py_DECREF(__pyx_v_target);
  Py_DECREF(__pyx_v_up);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4_ortho(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_ortho[] = "Return a matrix with orthogonal base vectors.\n\n        Makes the x-, y- and z-axis orthogonal.\n        The fourth column and row remain untouched.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4_ortho(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_res;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_x;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_y;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_z;
  PyObject *__pyx_v_xl;
  PyObject *__pyx_v_yl;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  ((PyObject*)__pyx_v_x) = Py_None; Py_INCREF(((PyObject*)__pyx_v_x));
  ((PyObject*)__pyx_v_y) = Py_None; Py_INCREF(((PyObject*)__pyx_v_y));
  ((PyObject*)__pyx_v_z) = Py_None; Py_INCREF(((PyObject*)__pyx_v_z));
  __pyx_v_xl = Py_None; Py_INCREF(__pyx_v_xl);
  __pyx_v_yl = Py_None; Py_INCREF(__pyx_v_yl);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4233 */
  __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4233; goto __pyx_L1;}
  __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4233; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4233; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4233; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
  PyTuple_SET_ITEM(__pyx_4, 1, __pyx_2);
  PyTuple_SET_ITEM(__pyx_4, 2, __pyx_3);
  __pyx_1 = 0;
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_1 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_4); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4233; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4233; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_x));
  ((PyObject *)__pyx_v_x) = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4234 */
  __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4234; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4234; goto __pyx_L1;}
  __pyx_4 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4234; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4234; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_3);
  PyTuple_SET_ITEM(__pyx_1, 2, __pyx_4);
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4234; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4234; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_y));
  ((PyObject *)__pyx_v_y) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4235 */
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4235; goto __pyx_L1;}
  __pyx_4 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4235; goto __pyx_L1;}
  __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4235; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4235; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_4);
  PyTuple_SET_ITEM(__pyx_2, 2, __pyx_1);
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_1 = 0;
  __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4235; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4235; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_z));
  ((PyObject *)__pyx_v_z) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4237 */
  __pyx_4 = PyObject_GetAttr(((PyObject *)__pyx_v_x), __pyx_n_length); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4237; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4237; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(__pyx_4, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4237; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_xl);
  __pyx_v_xl = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4238 */
  __pyx_3 = PyNumber_Multiply(__pyx_v_xl, __pyx_v_xl); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4238; goto __pyx_L1;}
  Py_DECREF(__pyx_v_xl);
  __pyx_v_xl = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4239 */
  __pyx_4 = PyNumber_Multiply(((PyObject *)__pyx_v_x), ((PyObject *)__pyx_v_y)); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4239; goto __pyx_L1;}
  __pyx_1 = PyNumber_Divide(__pyx_4, __pyx_v_xl); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4239; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_2 = PyNumber_Multiply(__pyx_1, ((PyObject *)__pyx_v_x)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4239; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyNumber_Subtract(((PyObject *)__pyx_v_y), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4239; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4239; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_y));
  ((PyObject *)__pyx_v_y) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4240 */
  __pyx_4 = PyNumber_Multiply(((PyObject *)__pyx_v_x), ((PyObject *)__pyx_v_z)); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4240; goto __pyx_L1;}
  __pyx_1 = PyNumber_Divide(__pyx_4, __pyx_v_xl); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4240; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_2 = PyNumber_Multiply(__pyx_1, ((PyObject *)__pyx_v_x)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4240; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyNumber_Subtract(((PyObject *)__pyx_v_z), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4240; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4240; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_z));
  ((PyObject *)__pyx_v_z) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4242 */
  __pyx_4 = PyObject_GetAttr(((PyObject *)__pyx_v_y), __pyx_n_length); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4242; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4242; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(__pyx_4, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4242; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_yl);
  __pyx_v_yl = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4243 */
  __pyx_3 = PyNumber_Multiply(__pyx_v_yl, __pyx_v_yl); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4243; goto __pyx_L1;}
  Py_DECREF(__pyx_v_yl);
  __pyx_v_yl = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4244 */
  __pyx_4 = PyNumber_Multiply(((PyObject *)__pyx_v_y), ((PyObject *)__pyx_v_z)); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4244; goto __pyx_L1;}
  __pyx_1 = PyNumber_Divide(__pyx_4, __pyx_v_yl); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4244; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_2 = PyNumber_Multiply(__pyx_1, ((PyObject *)__pyx_v_y)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4244; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyNumber_Subtract(((PyObject *)__pyx_v_z), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4244; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4244; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_z));
  ((PyObject *)__pyx_v_z) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4246 */
  __pyx_4 = PyTuple_New(0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4246; goto __pyx_L1;}
  __pyx_1 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_4); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4246; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4246; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4247 */
  __pyx_v_res->m11 = __pyx_v_x->x;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4248 */
  __pyx_v_res->m12 = __pyx_v_y->x;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4249 */
  __pyx_v_res->m13 = __pyx_v_z->x;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4250 */
  __pyx_v_res->m14 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4251 */
  __pyx_v_res->m21 = __pyx_v_x->y;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4252 */
  __pyx_v_res->m22 = __pyx_v_y->y;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4253 */
  __pyx_v_res->m23 = __pyx_v_z->y;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4254 */
  __pyx_v_res->m24 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4255 */
  __pyx_v_res->m31 = __pyx_v_x->z;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4256 */
  __pyx_v_res->m32 = __pyx_v_y->z;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4257 */
  __pyx_v_res->m33 = __pyx_v_z->z;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4258 */
  __pyx_v_res->m34 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4259 */
  __pyx_v_res->m41 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m41;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4260 */
  __pyx_v_res->m42 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m42;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4261 */
  __pyx_v_res->m43 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m43;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4262 */
  __pyx_v_res->m44 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m44;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4263 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("cgtypes.mat4.ortho");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_x);
  Py_DECREF(__pyx_v_y);
  Py_DECREF(__pyx_v_z);
  Py_DECREF(__pyx_v_xl);
  Py_DECREF(__pyx_v_yl);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k189p;

static char (__pyx_k189[]) = "transformation contains a 0 scaling";

static PyObject *__pyx_f_7cgtypes_4mat4_decompose(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_decompose[] = "Decomposes the matrix into a translation, rotation and scaling part.\n\n        Returns a tuple (translation, rotation, scaling). The \n        translation and scaling parts are given as vec3\'s, the rotation\n        is still given as a mat4.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4_decompose(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_m;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_a;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_b;
  struct __pyx_obj_7cgtypes_vec3 *__pyx_v_c;
  double __pyx_v_al;
  double __pyx_v_bl;
  double __pyx_v_cl;
  PyObject *__pyx_v_scale;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_m) = Py_None; Py_INCREF(((PyObject*)__pyx_v_m));
  ((PyObject*)__pyx_v_a) = Py_None; Py_INCREF(((PyObject*)__pyx_v_a));
  ((PyObject*)__pyx_v_b) = Py_None; Py_INCREF(((PyObject*)__pyx_v_b));
  ((PyObject*)__pyx_v_c) = Py_None; Py_INCREF(((PyObject*)__pyx_v_c));
  __pyx_v_scale = Py_None; Py_INCREF(__pyx_v_scale);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4276 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_ortho); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4276; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4276; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4276; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4276; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_m));
  ((PyObject *)__pyx_v_m) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4277 */
  __pyx_v_m->m14 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4278 */
  __pyx_v_m->m24 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4279 */
  __pyx_v_m->m34 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4280 */
  __pyx_v_m->m44 = 1.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4281 */
  __pyx_v_m->m41 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4282 */
  __pyx_v_m->m42 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4283 */
  __pyx_v_m->m43 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4286 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4286; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4286; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4286; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_a));
  ((PyObject *)__pyx_v_a) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4287 */
  __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4287; goto __pyx_L1;}
  __pyx_1 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4287; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4287; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_b));
  ((PyObject *)__pyx_v_b) = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4288 */
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4288; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4288; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_vec3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4288; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_c));
  ((PyObject *)__pyx_v_c) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4289 */
  __pyx_v_a->x = __pyx_v_m->m11;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4290 */
  __pyx_v_a->y = __pyx_v_m->m21;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4291 */
  __pyx_v_a->z = __pyx_v_m->m31;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4292 */
  __pyx_v_b->x = __pyx_v_m->m12;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4293 */
  __pyx_v_b->y = __pyx_v_m->m22;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4294 */
  __pyx_v_b->z = __pyx_v_m->m32;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4295 */
  __pyx_v_c->x = __pyx_v_m->m13;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4296 */
  __pyx_v_c->y = __pyx_v_m->m23;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4297 */
  __pyx_v_c->z = __pyx_v_m->m33;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4300 */
  __pyx_v_al = sqrt((((__pyx_v_a->x * __pyx_v_a->x) + (__pyx_v_a->y * __pyx_v_a->y)) + (__pyx_v_a->z * __pyx_v_a->z)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4301 */
  __pyx_v_bl = sqrt((((__pyx_v_b->x * __pyx_v_b->x) + (__pyx_v_b->y * __pyx_v_b->y)) + (__pyx_v_b->z * __pyx_v_b->z)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4302 */
  __pyx_v_cl = sqrt((((__pyx_v_c->x * __pyx_v_c->x) + (__pyx_v_c->y * __pyx_v_c->y)) + (__pyx_v_c->z * __pyx_v_c->z)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4303 */
  __pyx_4 = (__pyx_v_al <= __pyx_v_7cgtypes_eps);
  if (!__pyx_4) {
    __pyx_4 = (__pyx_v_bl <= __pyx_v_7cgtypes_eps);
    if (!__pyx_4) {
      __pyx_4 = (__pyx_v_cl <= __pyx_v_7cgtypes_eps);
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4304 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4304; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k189p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4304; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4306 */
  __pyx_2 = PyFloat_FromDouble(__pyx_v_al); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4306; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(__pyx_v_bl); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4306; goto __pyx_L1;}
  __pyx_1 = PyFloat_FromDouble(__pyx_v_cl); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4306; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4306; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_2);
  PyTuple_SET_ITEM(__pyx_5, 1, __pyx_3);
  PyTuple_SET_ITEM(__pyx_5, 2, __pyx_1);
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_1 = 0;
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_5); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4306; goto __pyx_L1;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  Py_DECREF(__pyx_v_scale);
  __pyx_v_scale = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4312 */
  __pyx_v_a->x = (__pyx_v_a->x / __pyx_v_al);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4313 */
  __pyx_v_a->y = (__pyx_v_a->y / __pyx_v_al);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4314 */
  __pyx_v_a->z = (__pyx_v_a->z / __pyx_v_al);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4315 */
  __pyx_v_b->x = (__pyx_v_b->x / __pyx_v_bl);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4316 */
  __pyx_v_b->y = (__pyx_v_b->y / __pyx_v_bl);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4317 */
  __pyx_v_b->z = (__pyx_v_b->z / __pyx_v_bl);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4318 */
  __pyx_v_c->x = (__pyx_v_c->x / __pyx_v_cl);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4319 */
  __pyx_v_c->y = (__pyx_v_c->y / __pyx_v_cl);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4320 */
  __pyx_v_c->z = (__pyx_v_c->z / __pyx_v_cl);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4322 */
  __pyx_v_m->m11 = __pyx_v_a->x;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4323 */
  __pyx_v_m->m21 = __pyx_v_a->y;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4324 */
  __pyx_v_m->m31 = __pyx_v_a->z;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4325 */
  __pyx_v_m->m12 = __pyx_v_b->x;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4326 */
  __pyx_v_m->m22 = __pyx_v_b->y;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4327 */
  __pyx_v_m->m32 = __pyx_v_b->z;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4328 */
  __pyx_v_m->m13 = __pyx_v_c->x;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4329 */
  __pyx_v_m->m23 = __pyx_v_c->y;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4330 */
  __pyx_v_m->m33 = __pyx_v_c->z;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4331 */
  __pyx_3 = PyObject_GetAttr(((PyObject *)__pyx_v_m), __pyx_n_determinant); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4331; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4331; goto __pyx_L1;}
  __pyx_5 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4331; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_2 = PyFloat_FromDouble(0.0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4331; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_5, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4331; goto __pyx_L1;}
  __pyx_4 = __pyx_4 < 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4332 */
    __pyx_v_m->m11 = (-__pyx_v_m->m11);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4333 */
    __pyx_v_m->m21 = (-__pyx_v_m->m21);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4334 */
    __pyx_v_m->m31 = (-__pyx_v_m->m31);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4335 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_scale, __pyx_n_x); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4335; goto __pyx_L1;}
    __pyx_1 = PyNumber_Negative(__pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4335; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (PyObject_SetAttr(__pyx_v_scale, __pyx_n_x, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4335; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4337 */
  __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m14); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4337; goto __pyx_L1;}
  __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m24); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4337; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m34); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4337; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4337; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_5);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_2);
  PyTuple_SET_ITEM(__pyx_1, 2, __pyx_3);
  __pyx_5 = 0;
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_5 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4337; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_2 = PyTuple_New(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4337; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_5);
  Py_INCREF(((PyObject *)__pyx_v_m));
  PyTuple_SET_ITEM(__pyx_2, 1, ((PyObject *)__pyx_v_m));
  Py_INCREF(__pyx_v_scale);
  PyTuple_SET_ITEM(__pyx_2, 2, __pyx_v_scale);
  __pyx_5 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("cgtypes.mat4.decompose");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_m);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  Py_DECREF(__pyx_v_c);
  Py_DECREF(__pyx_v_scale);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4_getMat3(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_getMat3[] = "Convert to mat3 by discarding 4th row and column.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4_getMat3(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4343 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4343; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4343; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4343; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4344 */
  __pyx_v_res->m11 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4345 */
  __pyx_v_res->m12 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4346 */
  __pyx_v_res->m13 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4347 */
  __pyx_v_res->m21 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4348 */
  __pyx_v_res->m22 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4349 */
  __pyx_v_res->m23 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4350 */
  __pyx_v_res->m31 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4351 */
  __pyx_v_res->m32 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4352 */
  __pyx_v_res->m33 = ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4353 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.mat4.getMat3");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4mat4_setMat3(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4mat4_setMat3[] = "Set the mat3 part of self.\n        ";
static PyObject *__pyx_f_7cgtypes_4mat4_setMat3(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_m = 0;
  PyObject *__pyx_r;
  static char *__pyx_argnames[] = {"m",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_m)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_m);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_m), __pyx_ptype_7cgtypes_mat3, 1, "m")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4355; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4358 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m11 = __pyx_v_m->m11;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4359 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m12 = __pyx_v_m->m12;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4360 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m13 = __pyx_v_m->m13;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4361 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m21 = __pyx_v_m->m21;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4362 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m22 = __pyx_v_m->m22;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4363 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m23 = __pyx_v_m->m23;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4364 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m31 = __pyx_v_m->m31;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4365 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m32 = __pyx_v_m->m32;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4366 */
  ((struct __pyx_obj_7cgtypes_mat4 *)__pyx_v_self)->m33 = __pyx_v_m->m33;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.mat4.setMat3");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_m);
  return __pyx_r;
}

static PyObject *__pyx_n_fromAngleAxis;

static PyObject *__pyx_k190p;
static PyObject *__pyx_k191p;
static PyObject *__pyx_k192p;
static PyObject *__pyx_k193p;
static PyObject *__pyx_k194p;
static PyObject *__pyx_k195p;
static PyObject *__pyx_k196p;
static PyObject *__pyx_k197p;
static PyObject *__pyx_k198p;
static PyObject *__pyx_k199p;

static char (__pyx_k190[]) = ",";
static char (__pyx_k191[]) = " ";
static char (__pyx_k192[]) = "  ";
static char (__pyx_k193[]) = " ";
static char (__pyx_k194[]) = " ";
static char (__pyx_k195[]) = "";
static char (__pyx_k196[]) = "quat() arg is a malformed string";
static char (__pyx_k197[]) = "quat() arg can't be converted to quat";
static char (__pyx_k198[]) = "quat() arg can't be converted to quat";
static char (__pyx_k199[]) = "quat() arg can't be converted to quat";

static int __pyx_f_7cgtypes_4quat___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4quat___new__[] = "Constructor.\n\n        0 arguments: zeroes\n        1 float argument:  w component, x,y,z = (0,0,0)\n        1 quat argument: Make a copy\n        1 mat3 argument: Initialize by rotation matrix\n        1 mat4 argument: Initialize by rotation matrix\n        2 arguments: angle & axis (doesn\'t have to be of unit length)\n        4 arguments: components w,x,y,z\n        ";
static int __pyx_f_7cgtypes_4quat___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_args = 0;
  int __pyx_v_arglen;
  int __pyx_v_seqlen;
  struct __pyx_obj_7cgtypes_quat *__pyx_v_q;
  PyObject *__pyx_v_T;
  PyObject *__pyx_v_s;
  PyObject *__pyx_v_i;
  PyObject *__pyx_v_seq;
  PyObject *__pyx_v_angle;
  PyObject *__pyx_v_axis;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  PyObject *__pyx_6 = 0;
  static char *__pyx_argnames[] = {0};
  if (__Pyx_GetStarArgs(&__pyx_args, &__pyx_kwds, __pyx_argnames, 0, &__pyx_v_args, 0) < 0) return -1;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) {
    Py_XDECREF(__pyx_args);
    Py_XDECREF(__pyx_kwds);
    Py_XDECREF(__pyx_v_args);
    return -1;
  }
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_q) = Py_None; Py_INCREF(((PyObject*)__pyx_v_q));
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);
  __pyx_v_s = Py_None; Py_INCREF(__pyx_v_s);
  __pyx_v_i = Py_None; Py_INCREF(__pyx_v_i);
  __pyx_v_seq = Py_None; Py_INCREF(__pyx_v_seq);
  __pyx_v_angle = Py_None; Py_INCREF(__pyx_v_angle);
  __pyx_v_axis = Py_None; Py_INCREF(__pyx_v_axis);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4395 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4395; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4395; goto __pyx_L1;}
  Py_INCREF(__pyx_v_args);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_args);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4395; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_4 = PyInt_AsLong(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4395; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_v_arglen = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4398 */
  __pyx_4 = (__pyx_v_arglen == 0);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4399 */
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w = 0.0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4400 */
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x = 0.0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4401 */
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y = 0.0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4402 */
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z = 0.0;
    goto __pyx_L2;
  }
  __pyx_4 = (__pyx_v_arglen == 1);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4406 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4406; goto __pyx_L1;}
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4406; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4406; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4406; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4406; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_v_T);
    __pyx_v_T = __pyx_3;
    __pyx_3 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4408 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4408; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4408; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__pyx_4) {
      __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4408; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4408; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      if (!__pyx_4) {
        __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4408; goto __pyx_L1;}
        if (PyObject_Cmp(__pyx_v_T, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4408; goto __pyx_L1;}
        __pyx_4 = __pyx_4 == 0;
        Py_DECREF(__pyx_3); __pyx_3 = 0;
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4409 */
      __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4409; goto __pyx_L1;}
      __pyx_2 = PyObject_GetItem(__pyx_v_args, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4409; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4409; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4410 */
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x = 0.0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4411 */
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y = 0.0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4412 */
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z = 0.0;
      goto __pyx_L3;
    }
    if (PyObject_Cmp(__pyx_v_T, ((PyObject*)__pyx_ptype_7cgtypes_quat), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4414; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4415 */
      __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4415; goto __pyx_L1;}
      __pyx_1 = PyObject_GetItem(__pyx_v_args, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4415; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4415; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_q));
      ((PyObject *)__pyx_v_q) = __pyx_1;
      __pyx_1 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4416 */
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w = __pyx_v_q->w;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4417 */
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x = __pyx_v_q->x;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4418 */
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y = __pyx_v_q->y;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4419 */
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z = __pyx_v_q->z;
      goto __pyx_L3;
    }
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_str); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4421; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4421; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_unicode); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4421; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_T, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4421; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4422 */
      __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4422; goto __pyx_L1;}
      __pyx_2 = PyObject_GetItem(__pyx_v_args, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4422; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_replace); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4422; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4422; goto __pyx_L1;}
      Py_INCREF(__pyx_k190p);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k190p);
      Py_INCREF(__pyx_k191p);
      PyTuple_SET_ITEM(__pyx_1, 1, __pyx_k191p);
      __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4422; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_replace); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4422; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4422; goto __pyx_L1;}
      Py_INCREF(__pyx_k192p);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k192p);
      Py_INCREF(__pyx_k193p);
      PyTuple_SET_ITEM(__pyx_1, 1, __pyx_k193p);
      __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4422; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_strip); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4422; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4422; goto __pyx_L1;}
      __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4422; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_split); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4422; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4422; goto __pyx_L1;}
      Py_INCREF(__pyx_k194p);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k194p);
      __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4422; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_v_s);
      __pyx_v_s = __pyx_2;
      __pyx_2 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4423 */
      __pyx_3 = PyList_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4423; goto __pyx_L1;}
      Py_INCREF(__pyx_k195p);
      PyList_SET_ITEM(__pyx_3, 0, __pyx_k195p);
      if (PyObject_Cmp(__pyx_v_s, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4423; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":4424 */
        __pyx_1 = PyList_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4424; goto __pyx_L1;}
        Py_DECREF(__pyx_v_s);
        __pyx_v_s = __pyx_1;
        __pyx_1 = 0;
        goto __pyx_L4;
      }
      __pyx_L4:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4425 */
      __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_range); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4425; goto __pyx_L1;}
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4425; goto __pyx_L1;}
      __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4425; goto __pyx_L1;}
      Py_INCREF(__pyx_v_s);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_s);
      __pyx_6 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4425; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4425; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_6);
      __pyx_6 = 0;
      __pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4425; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_6 = PyObject_GetIter(__pyx_1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4425; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      for (;;) {
        __pyx_L5:;
        __pyx_2 = PyIter_Next(__pyx_6);
        if (!__pyx_2) {
          if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4425; goto __pyx_L1;}
          break;
        }
        Py_DECREF(__pyx_v_i);
        __pyx_v_i = __pyx_2;
        __pyx_2 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":4426 */
        /*try:*/ {

          /* "D:\Sources\Python\cgkit\cgtypes.pyx":4427 */
          __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4427; goto __pyx_L7;}
          __pyx_1 = PyObject_GetItem(__pyx_v_s, __pyx_v_i); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4427; goto __pyx_L7;}
          __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4427; goto __pyx_L7;}
          PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
          __pyx_1 = 0;
          __pyx_1 = PyObject_CallObject(__pyx_3, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4427; goto __pyx_L7;}
          Py_DECREF(__pyx_3); __pyx_3 = 0;
          Py_DECREF(__pyx_2); __pyx_2 = 0;
          if (PyObject_SetItem(__pyx_v_s, __pyx_v_i, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4427; goto __pyx_L7;}
          Py_DECREF(__pyx_1); __pyx_1 = 0;
        }
        goto __pyx_L8;
        __pyx_L7:;
        Py_XDECREF(__pyx_3); __pyx_3 = 0;
        Py_XDECREF(__pyx_2); __pyx_2 = 0;
        Py_XDECREF(__pyx_1); __pyx_1 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":4428 */
        /*except:*/ {
          __Pyx_AddTraceback("cgtypes.__new__");
          __pyx_3 = __Pyx_GetExcValue(); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4428; goto __pyx_L1;}
          Py_DECREF(__pyx_3); __pyx_3 = 0;

          /* "D:\Sources\Python\cgkit\cgtypes.pyx":4429 */
          __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4429; goto __pyx_L1;}
          __Pyx_Raise(__pyx_2, __pyx_k196p, 0);
          Py_DECREF(__pyx_2); __pyx_2 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4429; goto __pyx_L1;}
          goto __pyx_L8;
        }
        __pyx_L8:;
      }
      __pyx_L6:;
      Py_DECREF(__pyx_6); __pyx_6 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4430 */
      __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4430; goto __pyx_L1;}
      Py_INCREF(__pyx_v_s);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_s);
      __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_quat), __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4430; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4430; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_q));
      ((PyObject *)__pyx_v_q) = __pyx_3;
      __pyx_3 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4431 */
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w = __pyx_v_q->w;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4432 */
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x = __pyx_v_q->x;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4433 */
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y = __pyx_v_q->y;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4434 */
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z = __pyx_v_q->z;
      goto __pyx_L3;
    }
    /*else*/ {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4437 */
      __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4437; goto __pyx_L1;}
      __pyx_6 = PyObject_GetItem(__pyx_v_args, __pyx_2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4437; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_v_seq);
      __pyx_v_seq = __pyx_6;
      __pyx_6 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4438 */
      /*try:*/ {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":4439 */
        __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4439; goto __pyx_L9;}
        __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4439; goto __pyx_L9;}
        Py_INCREF(__pyx_v_seq);
        PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_seq);
        __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4439; goto __pyx_L9;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_4 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4439; goto __pyx_L9;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_v_seqlen = __pyx_4;
      }
      goto __pyx_L10;
      __pyx_L9:;
      Py_XDECREF(__pyx_6); __pyx_6 = 0;
      Py_XDECREF(__pyx_1); __pyx_1 = 0;
      Py_XDECREF(__pyx_3); __pyx_3 = 0;
      Py_XDECREF(__pyx_2); __pyx_2 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4440 */
      /*except:*/ {
        __Pyx_AddTraceback("cgtypes.__new__");
        __pyx_6 = __Pyx_GetExcValue(); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4440; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":4441 */
        __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4441; goto __pyx_L1;}
        __Pyx_Raise(__pyx_1, __pyx_k197p, 0);
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4441; goto __pyx_L1;}
        goto __pyx_L10;
      }
      __pyx_L10:;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4443 */
      __pyx_4 = (__pyx_v_seqlen == 0);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":4444 */
        ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w = 0.0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":4445 */
        ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x = 0.0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":4446 */
        ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y = 0.0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":4447 */
        ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z = 0.0;
        goto __pyx_L11;
      }
      __pyx_4 = (__pyx_v_seqlen == 1);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":4449 */
        __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4449; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4449; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4449; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":4450 */
        ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x = 0.0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":4451 */
        ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y = 0.0;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":4452 */
        ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z = 0.0;
        goto __pyx_L11;
      }
      __pyx_4 = (__pyx_v_seqlen == 4);
      if (__pyx_4) {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":4454 */
        __pyx_6 = PyInt_FromLong(0); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4454; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_seq, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4454; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4454; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":4455 */
        __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4455; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4455; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4455; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":4456 */
        __pyx_6 = PyInt_FromLong(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4456; goto __pyx_L1;}
        __pyx_1 = PyObject_GetItem(__pyx_v_seq, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4456; goto __pyx_L1;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4456; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y = __pyx_5;

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":4457 */
        __pyx_3 = PyInt_FromLong(3); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4457; goto __pyx_L1;}
        __pyx_2 = PyObject_GetItem(__pyx_v_seq, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4457; goto __pyx_L1;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4457; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z = __pyx_5;
        goto __pyx_L11;
      }
      /*else*/ {

        /* "D:\Sources\Python\cgkit\cgtypes.pyx":4459 */
        __pyx_6 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4459; goto __pyx_L1;}
        __Pyx_Raise(__pyx_6, __pyx_k198p, 0);
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4459; goto __pyx_L1;}
      }
      __pyx_L11:;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_4 = (__pyx_v_arglen == 2);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4463 */
    __pyx_1 = __Pyx_UnpackItem(__pyx_v_args, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4463; goto __pyx_L1;}
    Py_DECREF(__pyx_v_angle);
    __pyx_v_angle = __pyx_1;
    __pyx_1 = 0;
    __pyx_3 = __Pyx_UnpackItem(__pyx_v_args, 1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4463; goto __pyx_L1;}
    Py_DECREF(__pyx_v_axis);
    __pyx_v_axis = __pyx_3;
    __pyx_3 = 0;
    if (__Pyx_EndUnpack(__pyx_v_args, 2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4463; goto __pyx_L1;}

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4464 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_fromAngleAxis); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4464; goto __pyx_L1;}
    __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4464; goto __pyx_L1;}
    Py_INCREF(__pyx_v_angle);
    PyTuple_SET_ITEM(__pyx_6, 0, __pyx_v_angle);
    Py_INCREF(__pyx_v_axis);
    PyTuple_SET_ITEM(__pyx_6, 1, __pyx_v_axis);
    __pyx_1 = PyObject_CallObject(__pyx_2, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4464; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    goto __pyx_L2;
  }
  __pyx_4 = (__pyx_v_arglen == 4);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4468 */
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4468; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_args, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4468; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4468; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4469 */
    __pyx_6 = PyInt_FromLong(1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4469; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_args, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4469; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4469; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4470 */
    __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4470; goto __pyx_L1;}
    __pyx_2 = PyObject_GetItem(__pyx_v_args, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4470; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4470; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4471 */
    __pyx_6 = PyInt_FromLong(3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4471; goto __pyx_L1;}
    __pyx_1 = PyObject_GetItem(__pyx_v_args, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4471; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_5 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4471; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z = __pyx_5;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4474 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4474; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k199p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4474; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("cgtypes.quat.__new__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_XDECREF(__pyx_v_args);
  Py_DECREF(__pyx_v_q);
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_s);
  Py_DECREF(__pyx_v_i);
  Py_DECREF(__pyx_v_seq);
  Py_DECREF(__pyx_v_angle);
  Py_DECREF(__pyx_v_axis);
  Py_DECREF(__pyx_v_self);
  Py_XDECREF(__pyx_args);
  Py_XDECREF(__pyx_kwds);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4quat___reduce__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7cgtypes_4quat___reduce__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4477 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n__quatconstruct); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4477; goto __pyx_L1;}
  __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4477; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4477; goto __pyx_L1;}
  __pyx_4 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4477; goto __pyx_L1;}
  __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4477; goto __pyx_L1;}
  __pyx_6 = PyTuple_New(4); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4477; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
  PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
  PyTuple_SET_ITEM(__pyx_6, 2, __pyx_4);
  PyTuple_SET_ITEM(__pyx_6, 3, __pyx_5);
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_5 = 0;
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4477; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_6);
  __pyx_1 = 0;
  __pyx_6 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("cgtypes.quat.__reduce__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k200p;

static char (__pyx_k200[]) = "quat(%s, %s, %s, %s)";

static PyObject *__pyx_f_7cgtypes_4quat___repr__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_4quat___repr__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4480 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4480; goto __pyx_L1;}
  __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4480; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4480; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4480; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4480; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4480; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4480; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4480; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4480; goto __pyx_L1;}
  __pyx_4 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4480; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4480; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_4);
  __pyx_4 = 0;
  __pyx_4 = PyObject_CallObject(__pyx_1, __pyx_5); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4480; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4480; goto __pyx_L1;}
  __pyx_5 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4480; goto __pyx_L1;}
  __pyx_6 = PyTuple_New(1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4480; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_6, 0, __pyx_5);
  __pyx_5 = 0;
  __pyx_5 = PyObject_CallObject(__pyx_1, __pyx_6); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4480; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  __pyx_1 = PyTuple_New(4); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4480; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_3);
  PyTuple_SET_ITEM(__pyx_1, 2, __pyx_4);
  PyTuple_SET_ITEM(__pyx_1, 3, __pyx_5);
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_5 = 0;
  __pyx_6 = PyNumber_Remainder(__pyx_k200p, __pyx_1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4480; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_6;
  __pyx_6 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("cgtypes.quat.__repr__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k201p;

static char (__pyx_k201[]) = "(%1.4f, %1.4f, %1.4f, %1.4f)";

static PyObject *__pyx_f_7cgtypes_4quat___str__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7cgtypes_4quat___str__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4483 */
  __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4483; goto __pyx_L1;}
  __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4483; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4483; goto __pyx_L1;}
  __pyx_4 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4483; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(4); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4483; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_1);
  PyTuple_SET_ITEM(__pyx_5, 1, __pyx_2);
  PyTuple_SET_ITEM(__pyx_5, 2, __pyx_3);
  PyTuple_SET_ITEM(__pyx_5, 3, __pyx_4);
  __pyx_1 = 0;
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_1 = PyNumber_Remainder(__pyx_k201p, __pyx_5); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4483; goto __pyx_L1;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("cgtypes.quat.__str__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k202p;

static char (__pyx_k202[]) = "internal error: illegal rich comparison number";

static PyObject *__pyx_f_7cgtypes_4quat___richcmp__(PyObject *__pyx_v_a, PyObject *__pyx_v_b, int __pyx_arg_op); /*proto*/
static PyObject *__pyx_f_7cgtypes_4quat___richcmp__(PyObject *__pyx_v_a, PyObject *__pyx_v_b, int __pyx_arg_op) {
  PyObject *__pyx_v_op = 0;
  struct __pyx_obj_7cgtypes_quat *__pyx_v_va;
  struct __pyx_obj_7cgtypes_quat *__pyx_v_vb;
  int __pyx_v_cop;
  PyObject *__pyx_v_ta;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  __pyx_v_op = PyInt_FromLong(__pyx_arg_op); if (!__pyx_v_op) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4486; goto __pyx_L1;}
  ((PyObject*)__pyx_v_va) = Py_None; Py_INCREF(((PyObject*)__pyx_v_va));
  ((PyObject*)__pyx_v_vb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_vb));
  __pyx_v_ta = Py_None; Py_INCREF(__pyx_v_ta);
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4490 */
  __pyx_1 = PyInt_AsLong(__pyx_v_op); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4490; goto __pyx_L1;}
  __pyx_v_cop = __pyx_1;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4492 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4492; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4492; goto __pyx_L1;}
  Py_INCREF(__pyx_v_a);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_a);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4492; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_ta);
  __pyx_v_ta = __pyx_4;
  __pyx_4 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4493 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4493; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4493; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_b);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4493; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_4;
  __pyx_4 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4494 */
  if (PyObject_Cmp(__pyx_v_ta, ((PyObject*)__pyx_ptype_7cgtypes_quat), &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4494; goto __pyx_L1;}
  __pyx_1 = __pyx_1 != 0;
  if (!__pyx_1) {
    if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_quat), &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4494; goto __pyx_L1;}
    __pyx_1 = __pyx_1 != 0;
  }
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4495 */
    __pyx_1 = (__pyx_v_cop == 3);
    if (__pyx_1) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4496 */
      __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4496; goto __pyx_L1;}
      __pyx_r = __pyx_2;
      __pyx_2 = 0;
      goto __pyx_L0;
      goto __pyx_L3;
    }
    /*else*/ {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4498 */
      __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4498; goto __pyx_L1;}
      __pyx_r = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L0;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4500 */
  if (!__Pyx_TypeTest(__pyx_v_a, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4500; goto __pyx_L1;}
  Py_INCREF(__pyx_v_a);
  Py_DECREF(((PyObject *)__pyx_v_va));
  ((PyObject *)__pyx_v_va) = __pyx_v_a;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4501 */
  if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4501; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  Py_DECREF(((PyObject *)__pyx_v_vb));
  ((PyObject *)__pyx_v_vb) = __pyx_v_b;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4504 */
  __pyx_1 = (__pyx_v_cop == 0);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4505 */
    __pyx_4 = PyInt_FromLong(0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4505; goto __pyx_L1;}
    __pyx_r = __pyx_4;
    __pyx_4 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 1);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4508 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4508; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 2);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4511 */
    __pyx_1 = (fabs((__pyx_v_va->w - __pyx_v_vb->w)) <= __pyx_v_7cgtypes_eps);
    if (__pyx_1) {
      __pyx_1 = (fabs((__pyx_v_va->x - __pyx_v_vb->x)) <= __pyx_v_7cgtypes_eps);
      if (__pyx_1) {
        __pyx_1 = (fabs((__pyx_v_va->y - __pyx_v_vb->y)) <= __pyx_v_7cgtypes_eps);
        if (__pyx_1) {
          __pyx_1 = (fabs((__pyx_v_va->z - __pyx_v_vb->z)) <= __pyx_v_7cgtypes_eps);
        }
      }
    }
    __pyx_3 = PyInt_FromLong(__pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4511; goto __pyx_L1;}
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 3);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4514 */
    __pyx_1 = (fabs((__pyx_v_va->w - __pyx_v_vb->w)) > __pyx_v_7cgtypes_eps);
    if (!__pyx_1) {
      __pyx_1 = (fabs((__pyx_v_va->x - __pyx_v_vb->x)) > __pyx_v_7cgtypes_eps);
      if (!__pyx_1) {
        __pyx_1 = (fabs((__pyx_v_va->y - __pyx_v_vb->y)) > __pyx_v_7cgtypes_eps);
        if (__pyx_1) {
          __pyx_1 = (fabs((__pyx_v_va->z - __pyx_v_vb->z)) > __pyx_v_7cgtypes_eps);
        }
      }
    }
    __pyx_4 = PyInt_FromLong(__pyx_1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4514; goto __pyx_L1;}
    __pyx_r = __pyx_4;
    __pyx_4 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 4);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4517 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4517; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_1 = (__pyx_v_cop == 5);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4520 */
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4520; goto __pyx_L1;}
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4523 */
    __pyx_4 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4523; goto __pyx_L1;}
    __Pyx_Raise(__pyx_4, __pyx_k202p, 0);
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4523; goto __pyx_L1;}
  }
  __pyx_L4:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("cgtypes.quat.__richcmp__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_op);
  Py_DECREF(__pyx_v_va);
  Py_DECREF(__pyx_v_vb);
  Py_DECREF(__pyx_v_ta);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4quat___add__(PyObject *__pyx_v_a, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4quat___add__[] = "Addition.\n\n        >>> q=quat(0.9689, 0.2160, 0.1080, 0.0540)\n        >>> print q+q\n        (1.9378, 0.4320, 0.2160, 0.1080)\n        ";
static PyObject *__pyx_f_7cgtypes_4quat___add__(PyObject *__pyx_v_a, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_quat *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_a), __pyx_ptype_7cgtypes_quat, 1, "a")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4525; goto __pyx_L1;}
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_b), __pyx_ptype_7cgtypes_quat, 1, "b")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4525; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4533 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4533; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_quat), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4533; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4533; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4534 */
  __pyx_v_res->w = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_a)->w + ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_b)->w);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4535 */
  __pyx_v_res->x = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_a)->x + ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_b)->x);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4536 */
  __pyx_v_res->y = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_a)->y + ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_b)->y);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4537 */
  __pyx_v_res->z = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_a)->z + ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_b)->z);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4538 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.quat.__add__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4quat___sub__(PyObject *__pyx_v_a, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4quat___sub__[] = "Subtraction.\n\n        >>> q=quat(0.9689, 0.2160, 0.1080, 0.0540)\n        >>> print q-q\n        (0.0000, 0.0000, 0.0000, 0.0000)\n        ";
static PyObject *__pyx_f_7cgtypes_4quat___sub__(PyObject *__pyx_v_a, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_quat *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_a), __pyx_ptype_7cgtypes_quat, 1, "a")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4540; goto __pyx_L1;}
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_b), __pyx_ptype_7cgtypes_quat, 1, "b")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4540; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4548 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4548; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_quat), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4548; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4548; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4549 */
  __pyx_v_res->w = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_a)->w - ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_b)->w);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4550 */
  __pyx_v_res->x = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_a)->x - ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_b)->x);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4551 */
  __pyx_v_res->y = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_a)->y - ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_b)->y);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4552 */
  __pyx_v_res->z = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_a)->z - ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_b)->z);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4553 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.quat.__sub__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_k203p;

static char (__pyx_k203[]) = "unsupported operand type for *";

static PyObject *__pyx_f_7cgtypes_4quat___mul__(PyObject *__pyx_v_a, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4quat___mul__[] = "Multiplication.\n\n        >>> q=quat(0.9689, 0.2160, 0.1080, 0.0540)\n        >>> print q*2.0\n        (1.9378, 0.4320, 0.2160, 0.1080)\n        >>> print 2.0*q\n        (1.9378, 0.4320, 0.2160, 0.1080)\n        >>> print q*q\n        (0.8775, 0.4186, 0.2093, 0.1046)\n        ";
static PyObject *__pyx_f_7cgtypes_4quat___mul__(PyObject *__pyx_v_a, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_quat *__pyx_v_res;
  struct __pyx_obj_7cgtypes_quat *__pyx_v_va;
  struct __pyx_obj_7cgtypes_quat *__pyx_v_vb;
  double __pyx_v_r;
  PyObject *__pyx_v_ta;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  ((PyObject*)__pyx_v_va) = Py_None; Py_INCREF(((PyObject*)__pyx_v_va));
  ((PyObject*)__pyx_v_vb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_vb));
  __pyx_v_ta = Py_None; Py_INCREF(__pyx_v_ta);
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4569 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4569; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4569; goto __pyx_L1;}
  Py_INCREF(__pyx_v_a);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_a);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4569; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_ta);
  __pyx_v_ta = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4570 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4570; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4570; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_b);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4570; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4572 */
  if (PyObject_Cmp(__pyx_v_ta, ((PyObject*)__pyx_ptype_7cgtypes_quat), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4572; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4573 */
    if (!__Pyx_TypeTest(__pyx_v_a, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4573; goto __pyx_L1;}
    Py_INCREF(__pyx_v_a);
    Py_DECREF(((PyObject *)__pyx_v_va));
    ((PyObject *)__pyx_v_va) = __pyx_v_a;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4574 */
    if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_quat), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4574; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4576 */
      if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4576; goto __pyx_L1;}
      Py_INCREF(__pyx_v_b);
      Py_DECREF(((PyObject *)__pyx_v_vb));
      ((PyObject *)__pyx_v_vb) = __pyx_v_b;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4577 */
      __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4577; goto __pyx_L1;}
      __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_quat), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4577; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4577; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_res));
      ((PyObject *)__pyx_v_res) = __pyx_2;
      __pyx_2 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4578 */
      __pyx_v_res->w = ((((__pyx_v_va->w * __pyx_v_vb->w) - (__pyx_v_va->x * __pyx_v_vb->x)) - (__pyx_v_va->y * __pyx_v_vb->y)) - (__pyx_v_va->z * __pyx_v_vb->z));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4579 */
      __pyx_v_res->x = ((((__pyx_v_va->w * __pyx_v_vb->x) + (__pyx_v_va->x * __pyx_v_vb->w)) + (__pyx_v_va->y * __pyx_v_vb->z)) - (__pyx_v_va->z * __pyx_v_vb->y));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4580 */
      __pyx_v_res->y = ((((__pyx_v_va->w * __pyx_v_vb->y) + (__pyx_v_va->y * __pyx_v_vb->w)) - (__pyx_v_va->x * __pyx_v_vb->z)) + (__pyx_v_va->z * __pyx_v_vb->x));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4581 */
      __pyx_v_res->z = ((((__pyx_v_va->w * __pyx_v_vb->z) + (__pyx_v_va->z * __pyx_v_vb->w)) + (__pyx_v_va->x * __pyx_v_vb->y)) - (__pyx_v_va->y * __pyx_v_vb->x));

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4582 */
      Py_INCREF(((PyObject *)__pyx_v_res));
      __pyx_r = ((PyObject *)__pyx_v_res);
      goto __pyx_L0;
      goto __pyx_L3;
    }
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4583; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4583; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (!__pyx_4) {
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4583; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4583; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      if (!__pyx_4) {
        __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4583; goto __pyx_L1;}
        if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4583; goto __pyx_L1;}
        __pyx_4 = __pyx_4 == 0;
        Py_DECREF(__pyx_2); __pyx_2 = 0;
      }
    }
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4585 */
      __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4585; goto __pyx_L1;}
      __pyx_1 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_quat), __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4585; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4585; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_res));
      ((PyObject *)__pyx_v_res) = __pyx_1;
      __pyx_1 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4586 */
      __pyx_5 = PyFloat_AsDouble(__pyx_v_b); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4586; goto __pyx_L1;}
      __pyx_v_r = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4587 */
      __pyx_v_res->w = (__pyx_v_va->w * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4588 */
      __pyx_v_res->x = (__pyx_v_va->x * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4589 */
      __pyx_v_res->y = (__pyx_v_va->y * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4590 */
      __pyx_v_res->z = (__pyx_v_va->z * __pyx_v_r);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4591 */
      Py_INCREF(((PyObject *)__pyx_v_res));
      __pyx_r = ((PyObject *)__pyx_v_res);
      goto __pyx_L0;
      goto __pyx_L3;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4592; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_ta, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4592; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__pyx_4) {
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4592; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_ta, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4592; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (!__pyx_4) {
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4592; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_ta, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4592; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4593 */
    if (PyObject_Cmp(__pyx_v_tb, ((PyObject*)__pyx_ptype_7cgtypes_quat), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4593; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4595 */
      __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4595; goto __pyx_L1;}
      __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_quat), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4595; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4595; goto __pyx_L1;}
      Py_DECREF(((PyObject *)__pyx_v_res));
      ((PyObject *)__pyx_v_res) = __pyx_3;
      __pyx_3 = 0;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4596 */
      if (!__Pyx_TypeTest(__pyx_v_b, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4596; goto __pyx_L1;}
      Py_INCREF(__pyx_v_b);
      Py_DECREF(((PyObject *)__pyx_v_vb));
      ((PyObject *)__pyx_v_vb) = __pyx_v_b;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4597 */
      __pyx_5 = PyFloat_AsDouble(__pyx_v_a); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4597; goto __pyx_L1;}
      __pyx_v_r = __pyx_5;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4598 */
      __pyx_v_res->w = (__pyx_v_r * __pyx_v_vb->w);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4599 */
      __pyx_v_res->x = (__pyx_v_r * __pyx_v_vb->x);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4600 */
      __pyx_v_res->y = (__pyx_v_r * __pyx_v_vb->y);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4601 */
      __pyx_v_res->z = (__pyx_v_r * __pyx_v_vb->z);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4602 */
      Py_INCREF(((PyObject *)__pyx_v_res));
      __pyx_r = ((PyObject *)__pyx_v_res);
      goto __pyx_L0;
      goto __pyx_L4;
    }
    __pyx_L4:;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4604 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4604; goto __pyx_L1;}
  __Pyx_Raise(__pyx_1, __pyx_k203p, 0);
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4604; goto __pyx_L1;}

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.quat.__mul__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_va);
  Py_DECREF(__pyx_v_vb);
  Py_DECREF(__pyx_v_ta);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_k204p;
static PyObject *__pyx_k205p;

static char (__pyx_k204[]) = "quat division";
static char (__pyx_k205[]) = "unsupported operand type for /";

static PyObject *__pyx_f_7cgtypes_4quat___div__(PyObject *__pyx_v_a, PyObject *__pyx_v_b); /*proto*/
static char __pyx_doc_7cgtypes_4quat___div__[] = "Division.\n\n        >>> q=quat(0.9689, 0.2160, 0.1080, 0.0540)\n        >>> print q/2.0\n        (0.4844, 0.1080, 0.0540, 0.0270)\n        ";
static PyObject *__pyx_f_7cgtypes_4quat___div__(PyObject *__pyx_v_a, PyObject *__pyx_v_b) {
  struct __pyx_obj_7cgtypes_quat *__pyx_v_res;
  double __pyx_v_r;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_a), __pyx_ptype_7cgtypes_quat, 1, "a")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4606; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4616 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4616; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4616; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_b);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4616; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4618 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4618; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4618; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4618; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4618; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4618; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4618; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4620 */
    __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4620; goto __pyx_L1;}
    __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_quat), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4620; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4620; goto __pyx_L1;}
    Py_DECREF(((PyObject *)__pyx_v_res));
    ((PyObject *)__pyx_v_res) = __pyx_2;
    __pyx_2 = 0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4621 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_b); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4621; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4622 */
    __pyx_4 = (fabs(__pyx_v_r) <= __pyx_v_7cgtypes_eps);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4623 */
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4623; goto __pyx_L1;}
      __Pyx_Raise(__pyx_3, __pyx_k204p, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4623; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4624 */
    __pyx_v_res->w = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_a)->w / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4625 */
    __pyx_v_res->x = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_a)->x / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4626 */
    __pyx_v_res->y = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_a)->y / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4627 */
    __pyx_v_res->z = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_a)->z / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4628 */
    Py_INCREF(((PyObject *)__pyx_v_res));
    __pyx_r = ((PyObject *)__pyx_v_res);
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4630 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4630; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k205p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4630; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.quat.__div__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_n_log;
static PyObject *__pyx_n_exp;

static PyObject *__pyx_k206p;

static char (__pyx_k206[]) = "unsupported operation";

static PyObject *__pyx_f_7cgtypes_4quat___pow__(PyObject *__pyx_v_self, PyObject *__pyx_v_other, PyObject *__pyx_v_modulo); /*proto*/
static char __pyx_doc_7cgtypes_4quat___pow__[] = "Return self**q.";
static PyObject *__pyx_f_7cgtypes_4quat___pow__(PyObject *__pyx_v_self, PyObject *__pyx_v_other, PyObject *__pyx_v_modulo) {
  struct __pyx_obj_7cgtypes_quat *__pyx_v_q;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  Py_INCREF(__pyx_v_modulo);
  ((PyObject*)__pyx_v_q) = Py_None; Py_INCREF(((PyObject*)__pyx_v_q));
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_self), __pyx_ptype_7cgtypes_quat, 1, "self")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4632; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4635 */
  if (PyObject_Cmp(__pyx_v_modulo, Py_None, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4635; goto __pyx_L1;}
  __pyx_1 = __pyx_1 != 0;
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4636 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4636; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k206p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4636; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4637 */
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4637; goto __pyx_L1;}
  Py_INCREF(__pyx_v_other);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_other);
  __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_quat), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4637; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4637; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_q));
  ((PyObject *)__pyx_v_q) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4638 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_log); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4638; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4638; goto __pyx_L1;}
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4638; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = PyNumber_Multiply(((PyObject *)__pyx_v_q), __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4638; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_3 = PyObject_GetAttr(__pyx_2, __pyx_n_exp); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4638; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_4 = PyTuple_New(0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4638; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4638; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("cgtypes.quat.__pow__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_q);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  Py_DECREF(__pyx_v_modulo);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4quat___neg__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_7cgtypes_4quat___neg__[] = "Negation.\n\n        >>> q=quat(0.9689, 0.2160, 0.1080, 0.0540)\n        >>> print -q\n        (-0.9689, -0.2160, -0.1080, -0.0540)\n        ";
static PyObject *__pyx_f_7cgtypes_4quat___neg__(PyObject *__pyx_v_self) {
  struct __pyx_obj_7cgtypes_quat *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4648 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4648; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_quat), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4648; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4648; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4649 */
  __pyx_v_res->w = (-((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4650 */
  __pyx_v_res->x = (-((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4651 */
  __pyx_v_res->y = (-((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4652 */
  __pyx_v_res->z = (-((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4653 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.quat.__neg__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4quat___pos__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_7cgtypes_4quat___pos__[] = "\n        >>> q=quat(0.9689, 0.2160, 0.1080, 0.0540)\n        >>> print +q\n        (0.9689, 0.2160, 0.1080, 0.0540)\n        ";
static PyObject *__pyx_f_7cgtypes_4quat___pos__(PyObject *__pyx_v_self) {
  struct __pyx_obj_7cgtypes_quat *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4662 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4662; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_quat), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4662; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4662; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4663 */
  __pyx_v_res->w = ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4664 */
  __pyx_v_res->x = ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4665 */
  __pyx_v_res->y = ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4666 */
  __pyx_v_res->z = ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4667 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.quat.__pos__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4quat___iadd__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4quat___iadd__[] = "Inline quaternion addition.\n        ";
static PyObject *__pyx_f_7cgtypes_4quat___iadd__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  PyObject *__pyx_r;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_other), __pyx_ptype_7cgtypes_quat, 1, "other")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4669; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4672 */
  ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w + ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_other)->w);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4673 */
  ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x + ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_other)->x);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4674 */
  ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y + ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_other)->y);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4675 */
  ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z + ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_other)->z);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4676 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.quat.__iadd__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4quat___isub__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4quat___isub__[] = "Inline quaternion subtraction.\n        ";
static PyObject *__pyx_f_7cgtypes_4quat___isub__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  PyObject *__pyx_r;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_other), __pyx_ptype_7cgtypes_quat, 1, "other")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4678; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4681 */
  ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w - ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_other)->w);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4682 */
  ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x - ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_other)->x);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4683 */
  ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y - ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_other)->y);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4684 */
  ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z - ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_other)->z);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4685 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("cgtypes.quat.__isub__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_k207p;

static char (__pyx_k207[]) = "unsupported operand type for *=";

static PyObject *__pyx_f_7cgtypes_4quat___imul__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4quat___imul__[] = "Inline multiplication.\n        ";
static PyObject *__pyx_f_7cgtypes_4quat___imul__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  struct __pyx_obj_7cgtypes_quat *__pyx_v_vb;
  double __pyx_v_r;
  double __pyx_v_w;
  double __pyx_v_x;
  double __pyx_v_y;
  double __pyx_v_z;
  PyObject *__pyx_v_T;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  ((PyObject*)__pyx_v_vb) = Py_None; Py_INCREF(((PyObject*)__pyx_v_vb));
  __pyx_v_T = Py_None; Py_INCREF(__pyx_v_T);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4694 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4694; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4694; goto __pyx_L1;}
  Py_INCREF(__pyx_v_other);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_other);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4694; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_T);
  __pyx_v_T = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4696 */
  if (PyObject_Cmp(__pyx_v_T, ((PyObject*)__pyx_ptype_7cgtypes_quat), &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4696; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4698 */
    if (!__Pyx_TypeTest(__pyx_v_other, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4698; goto __pyx_L1;}
    Py_INCREF(__pyx_v_other);
    Py_DECREF(((PyObject *)__pyx_v_vb));
    ((PyObject *)__pyx_v_vb) = __pyx_v_other;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4699 */
    __pyx_v_w = ((((((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w * __pyx_v_vb->w) - (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x * __pyx_v_vb->x)) - (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y * __pyx_v_vb->y)) - (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z * __pyx_v_vb->z));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4700 */
    __pyx_v_x = ((((((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w * __pyx_v_vb->x) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x * __pyx_v_vb->w)) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y * __pyx_v_vb->z)) - (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z * __pyx_v_vb->y));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4701 */
    __pyx_v_y = ((((((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w * __pyx_v_vb->y) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y * __pyx_v_vb->w)) - (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x * __pyx_v_vb->z)) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z * __pyx_v_vb->x));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4702 */
    __pyx_v_z = ((((((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w * __pyx_v_vb->z) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z * __pyx_v_vb->w)) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x * __pyx_v_vb->y)) - (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y * __pyx_v_vb->x));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4703 */
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w = __pyx_v_w;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4704 */
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x = __pyx_v_x;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4705 */
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y = __pyx_v_y;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4706 */
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z = __pyx_v_z;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4707 */
    Py_INCREF(__pyx_v_self);
    __pyx_r = __pyx_v_self;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4709; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_T, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4709; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4709; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_T, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4709; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4709; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_T, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4709; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4711 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_other); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4711; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4712 */
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4713 */
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4714 */
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4715 */
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z * __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4716 */
    Py_INCREF(__pyx_v_self);
    __pyx_r = __pyx_v_self;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4719 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4719; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k207p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4719; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.quat.__imul__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_vb);
  Py_DECREF(__pyx_v_T);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_k208p;
static PyObject *__pyx_k209p;

static char (__pyx_k208[]) = "quat division";
static char (__pyx_k209[]) = "unsupported operand type for /=";

static PyObject *__pyx_f_7cgtypes_4quat___idiv__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_7cgtypes_4quat___idiv__[] = "Inline division with scalar.\n        ";
static PyObject *__pyx_f_7cgtypes_4quat___idiv__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  double __pyx_v_r;
  PyObject *__pyx_v_tb;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  double __pyx_5;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);
  __pyx_v_tb = Py_None; Py_INCREF(__pyx_v_tb);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4725 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4725; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4725; goto __pyx_L1;}
  Py_INCREF(__pyx_v_other);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_other);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4725; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_tb);
  __pyx_v_tb = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4726 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_float); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4726; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_tb, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4726; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__pyx_4) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4726; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_tb, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4726; goto __pyx_L1;}
    __pyx_4 = __pyx_4 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (!__pyx_4) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4726; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_tb, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4726; goto __pyx_L1;}
      __pyx_4 = __pyx_4 == 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4727 */
    __pyx_5 = PyFloat_AsDouble(__pyx_v_other); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4727; goto __pyx_L1;}
    __pyx_v_r = __pyx_5;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4728 */
    __pyx_4 = (fabs(__pyx_v_r) <= __pyx_v_7cgtypes_eps);
    if (__pyx_4) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4729 */
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4729; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_k208p, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4729; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4730 */
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4731 */
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4732 */
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4733 */
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z / __pyx_v_r);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4734 */
    Py_INCREF(__pyx_v_self);
    __pyx_r = __pyx_v_self;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4736 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4736; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k209p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4736; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.quat.__idiv__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_tb);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_k214p;
static PyObject *__pyx_k215p;

static char (__pyx_k214[]) = "quat has no attribute '";
static char (__pyx_k215[]) = "\'";

static PyObject *__pyx_f_7cgtypes_4quat___getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
static PyObject *__pyx_f_7cgtypes_4quat___getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_name);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4739 */
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_w, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4739; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4740 */
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4740; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_x, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4741; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4742 */
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4742; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_y, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4743; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4744 */
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4744; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_z, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4745; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4746 */
    __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4746; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4748 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_AttributeError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4748; goto __pyx_L1;}
    __pyx_3 = PyNumber_Add(__pyx_k214p, __pyx_v_name); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4748; goto __pyx_L1;}
    __pyx_4 = PyNumber_Add(__pyx_3, __pyx_k215p); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4748; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, __pyx_4, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4748; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("cgtypes.quat.__getattr__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_name);
  return __pyx_r;
}

static PyObject *__pyx_k220p;
static PyObject *__pyx_k221p;

static char (__pyx_k220[]) = "quat has no writable attribute '";
static char (__pyx_k221[]) = "\'";

static int __pyx_f_7cgtypes_4quat___setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_val); /*proto*/
static int __pyx_f_7cgtypes_4quat___setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_val) {
  int __pyx_r;
  int __pyx_1;
  double __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_name);
  Py_INCREF(__pyx_v_val);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4751 */
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_w, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4751; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4752 */
    __pyx_2 = PyFloat_AsDouble(__pyx_v_val); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4752; goto __pyx_L1;}
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w = __pyx_2;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_x, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4753; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4754 */
    __pyx_2 = PyFloat_AsDouble(__pyx_v_val); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4754; goto __pyx_L1;}
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x = __pyx_2;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_y, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4755; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4756 */
    __pyx_2 = PyFloat_AsDouble(__pyx_v_val); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4756; goto __pyx_L1;}
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y = __pyx_2;
    goto __pyx_L2;
  }
  if (PyObject_Cmp(__pyx_v_name, __pyx_n_z, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4757; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4758 */
    __pyx_2 = PyFloat_AsDouble(__pyx_v_val); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4758; goto __pyx_L1;}
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z = __pyx_2;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4760 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_AttributeError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4760; goto __pyx_L1;}
    __pyx_4 = PyNumber_Add(__pyx_k220p, __pyx_v_name); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4760; goto __pyx_L1;}
    __pyx_5 = PyNumber_Add(__pyx_4, __pyx_k221p); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4760; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_3, __pyx_5, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4760; goto __pyx_L1;}
  }
  __pyx_L2:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("cgtypes.quat.__setattr__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_val);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4quat___abs__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_7cgtypes_4quat___abs__[] = "Return magnitude.\n        \n        >>> q=quat(0.9689, 0.2160, 0.1080, 0.0540)\n        >>> print round(abs(q),5)\n        1.0\n        ";
static PyObject *__pyx_f_7cgtypes_4quat___abs__(PyObject *__pyx_v_self) {
  double __pyx_v_a;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  Py_INCREF(__pyx_v_self);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4771 */
  __pyx_v_a = ((((((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x)) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y)) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4772 */
  __pyx_1 = PyFloat_FromDouble(sqrt(__pyx_v_a)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4772; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("cgtypes.quat.__abs__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4quat_conjugate(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4quat_conjugate[] = "Return conjugate.\n        \n        >>> q=quat(0.9689, 0.2160, 0.1080, 0.0540)\n        >>> print q.conjugate()\n        (0.9689, -0.2160, -0.1080, -0.0540)\n        ";
static PyObject *__pyx_f_7cgtypes_4quat_conjugate(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_quat *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4782 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4782; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_quat), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4782; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4782; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4783 */
  __pyx_v_res->w = ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4784 */
  __pyx_v_res->x = (-((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4785 */
  __pyx_v_res->y = (-((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4786 */
  __pyx_v_res->z = (-((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4787 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.quat.conjugate");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k222p;

static char (__pyx_k222[]) = "quat division";

static PyObject *__pyx_f_7cgtypes_4quat_normalize(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4quat_normalize[] = "Return normalized quaternion.\n\n        >>> q=quat(0.9, 0.5, 0.2, 0.3)\n        >>> q=q.normalize()\n        >>> print q\n        (0.8250, 0.4583, 0.1833, 0.2750)\n        >>> print abs(q)\n        1.0\n        ";
static PyObject *__pyx_f_7cgtypes_4quat_normalize(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_quat *__pyx_v_res;
  double __pyx_v_nlen;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4802 */
  __pyx_v_nlen = sqrt(((((((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x)) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y)) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4803 */
  __pyx_1 = (__pyx_v_nlen <= __pyx_v_7cgtypes_eps);
  if (__pyx_1) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4804 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4804; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k222p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4804; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4806 */
  __pyx_v_nlen = (1.0 / __pyx_v_nlen);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4807 */
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4807; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_quat), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4807; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4807; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4808 */
  __pyx_v_res->w = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w * __pyx_v_nlen);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4809 */
  __pyx_v_res->x = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x * __pyx_v_nlen);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4810 */
  __pyx_v_res->y = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y * __pyx_v_nlen);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4811 */
  __pyx_v_res->z = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z * __pyx_v_nlen);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4812 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.quat.normalize");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k223p;

static char (__pyx_k223[]) = "quat is not invertible";

static PyObject *__pyx_f_7cgtypes_4quat_inverse(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4quat_inverse[] = "Return inverse.\n\n        >>> q=quat(0.9, 0.5, 0.2, 0.3)\n        >>> print q.inverse()\n        (0.7563, -0.4202, -0.1681, -0.2521)\n        ";
static PyObject *__pyx_f_7cgtypes_4quat_inverse(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_quat *__pyx_v_res;
  PyObject *__pyx_v_len_2;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  double __pyx_2;
  int __pyx_3;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  __pyx_v_len_2 = Py_None; Py_INCREF(__pyx_v_len_2);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4823 */
  __pyx_1 = PyFloat_FromDouble(((((((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x)) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y)) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z))); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4823; goto __pyx_L1;}
  Py_DECREF(__pyx_v_len_2);
  __pyx_v_len_2 = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4824 */
  __pyx_2 = PyFloat_AsDouble(__pyx_v_len_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4824; goto __pyx_L1;}
  __pyx_3 = (fabs(__pyx_2) <= __pyx_v_7cgtypes_eps);
  if (__pyx_3) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4825 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ZeroDivisionError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4825; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k223p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4825; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4827 */
  __pyx_1 = PyFloat_FromDouble(1.0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4827; goto __pyx_L1;}
  __pyx_4 = PyNumber_Divide(__pyx_1, __pyx_v_len_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4827; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_len_2);
  __pyx_v_len_2 = __pyx_4;
  __pyx_4 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4828 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4828; goto __pyx_L1;}
  __pyx_4 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_quat), __pyx_1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4828; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_4, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4828; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_4;
  __pyx_4 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4829 */
  __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4829; goto __pyx_L1;}
  __pyx_4 = PyNumber_Multiply(__pyx_1, __pyx_v_len_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4829; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_2 = PyFloat_AsDouble(__pyx_4); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4829; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_v_res->w = __pyx_2;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4830 */
  __pyx_1 = PyFloat_FromDouble((-((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4830; goto __pyx_L1;}
  __pyx_4 = PyNumber_Multiply(__pyx_1, __pyx_v_len_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4830; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_2 = PyFloat_AsDouble(__pyx_4); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4830; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_v_res->x = __pyx_2;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4831 */
  __pyx_1 = PyFloat_FromDouble((-((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4831; goto __pyx_L1;}
  __pyx_4 = PyNumber_Multiply(__pyx_1, __pyx_v_len_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4831; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_2 = PyFloat_AsDouble(__pyx_4); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4831; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_v_res->y = __pyx_2;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4832 */
  __pyx_1 = PyFloat_FromDouble((-((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4832; goto __pyx_L1;}
  __pyx_4 = PyNumber_Multiply(__pyx_1, __pyx_v_len_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4832; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_2 = PyFloat_AsDouble(__pyx_4); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4832; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_v_res->z = __pyx_2;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4833 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("cgtypes.quat.inverse");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_len_2);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4quat_toAngleAxis(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4quat_toAngleAxis[] = "Return angle (in radians) and rotation axis.\n\n        >>> q=quat(0.9, 0.5, 0.2, 0.3)\n        >>> angle, axis = q.toAngleAxis()\n        >>> print round(angle,4)\n        1.2011\n        >>> print axis\n        (0.8111, 0.3244, 0.4867)\n        ";
static PyObject *__pyx_f_7cgtypes_4quat_toAngleAxis(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_quat *__pyx_v_q;
  double __pyx_v_s;
  double __pyx_v_w;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_q) = Py_None; Py_INCREF(((PyObject*)__pyx_v_q));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4848 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_normalize); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4848; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4848; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4848; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_3, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4848; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_q));
  ((PyObject *)__pyx_v_q) = __pyx_3;
  __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4853 */
  __pyx_4 = (__pyx_v_q->w < (-1.0));
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4854 */
    __pyx_v_w = (-1.0);
    goto __pyx_L2;
  }
  __pyx_4 = (__pyx_v_q->w > 1.0);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4856 */
    __pyx_v_w = 1.0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4858 */
    __pyx_v_w = __pyx_v_q->w;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4860 */
  __pyx_v_w = acos(__pyx_v_w);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4861 */
  __pyx_v_s = sin(__pyx_v_w);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4862 */
  __pyx_4 = (__pyx_v_s <= __pyx_v_7cgtypes_eps);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4863 */
    __pyx_1 = PyFloat_FromDouble(0.0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4863; goto __pyx_L1;}
    __pyx_2 = PyFloat_FromDouble(0.0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4863; goto __pyx_L1;}
    __pyx_3 = PyFloat_FromDouble(0.0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4863; goto __pyx_L1;}
    __pyx_5 = PyFloat_FromDouble(0.0); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4863; goto __pyx_L1;}
    __pyx_6 = PyTuple_New(3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4863; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
    PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
    PyTuple_SET_ITEM(__pyx_6, 2, __pyx_5);
    __pyx_2 = 0;
    __pyx_3 = 0;
    __pyx_5 = 0;
    __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4863; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4863; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
    PyTuple_SET_ITEM(__pyx_3, 1, __pyx_2);
    __pyx_1 = 0;
    __pyx_2 = 0;
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4865 */
  __pyx_5 = PyFloat_FromDouble((2.0 * __pyx_v_w)); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4865; goto __pyx_L1;}
  __pyx_6 = PyFloat_FromDouble((__pyx_v_q->x / __pyx_v_s)); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4865; goto __pyx_L1;}
  __pyx_1 = PyFloat_FromDouble((__pyx_v_q->y / __pyx_v_s)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4865; goto __pyx_L1;}
  __pyx_2 = PyFloat_FromDouble((__pyx_v_q->z / __pyx_v_s)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4865; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(3); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4865; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_6);
  PyTuple_SET_ITEM(__pyx_3, 1, __pyx_1);
  PyTuple_SET_ITEM(__pyx_3, 2, __pyx_2);
  __pyx_6 = 0;
  __pyx_1 = 0;
  __pyx_2 = 0;
  __pyx_6 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4865; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4865; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_5);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_6);
  __pyx_5 = 0;
  __pyx_6 = 0;
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("cgtypes.quat.toAngleAxis");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_q);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k224p;

static char (__pyx_k224[]) = "axis mustn't be the null vector";

static PyObject *__pyx_f_7cgtypes_4quat_fromAngleAxis(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4quat_fromAngleAxis[] = "Initialize self from an angle (in radians) and an axis and returns self.";
static PyObject *__pyx_f_7cgtypes_4quat_fromAngleAxis(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_angle = 0;
  PyObject *__pyx_v_axis = 0;
  double __pyx_v_a;
  double __pyx_v_n;
  double __pyx_v_x;
  double __pyx_v_y;
  double __pyx_v_z;
  struct __pyx_obj_7cgtypes_quat *__pyx_v_q;
  PyObject *__pyx_v_s;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  double __pyx_3;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"angle","axis",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_angle, &__pyx_v_axis)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_angle);
  Py_INCREF(__pyx_v_axis);
  ((PyObject*)__pyx_v_q) = Py_None; Py_INCREF(((PyObject*)__pyx_v_q));
  __pyx_v_s = Py_None; Py_INCREF(__pyx_v_s);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4872 */
  __pyx_1 = PyFloat_FromDouble(2.0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4872; goto __pyx_L1;}
  __pyx_2 = PyNumber_Divide(__pyx_v_angle, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4872; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4872; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_a = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4873 */
  ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w = cos(__pyx_v_a);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4875 */
  __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4875; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_axis, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4875; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4875; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_x = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4876 */
  __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4876; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_axis, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4876; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4876; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_y = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4877 */
  __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4877; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_axis, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4877; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4877; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_z = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4878 */
  __pyx_v_n = (((__pyx_v_x * __pyx_v_x) + (__pyx_v_y * __pyx_v_y)) + (__pyx_v_z * __pyx_v_z));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4879 */
  __pyx_4 = (__pyx_v_n <= __pyx_v_7cgtypes_eps);
  if (__pyx_4) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4880 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4880; goto __pyx_L1;}
    __Pyx_Raise(__pyx_1, __pyx_k224p, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4880; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4882 */
  __pyx_2 = PyFloat_FromDouble((sin(__pyx_v_a) / __pyx_v_n)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4882; goto __pyx_L1;}
  Py_DECREF(__pyx_v_s);
  __pyx_v_s = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4883 */
  __pyx_1 = PyFloat_FromDouble(__pyx_v_x); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4883; goto __pyx_L1;}
  __pyx_2 = PyNumber_Multiply(__pyx_1, __pyx_v_s); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4883; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4883; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4884 */
  __pyx_1 = PyFloat_FromDouble(__pyx_v_y); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4884; goto __pyx_L1;}
  __pyx_2 = PyNumber_Multiply(__pyx_1, __pyx_v_s); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4884; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4884; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4885 */
  __pyx_1 = PyFloat_FromDouble(__pyx_v_z); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4885; goto __pyx_L1;}
  __pyx_2 = PyNumber_Multiply(__pyx_1, __pyx_v_s); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4885; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4885; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4888 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_normalize); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4888; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4888; goto __pyx_L1;}
  __pyx_5 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4888; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_5, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4888; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_q));
  ((PyObject *)__pyx_v_q) = __pyx_5;
  __pyx_5 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4889 */
  ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w = __pyx_v_q->w;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4890 */
  ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x = __pyx_v_q->x;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4891 */
  ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y = __pyx_v_q->y;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4892 */
  ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z = __pyx_v_q->z;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4893 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("cgtypes.quat.fromAngleAxis");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_q);
  Py_DECREF(__pyx_v_s);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_angle);
  Py_DECREF(__pyx_v_axis);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4quat_toMat3(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4quat_toMat3[] = "Return rotation matrix as mat3.";
static PyObject *__pyx_f_7cgtypes_4quat_toMat3(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_mat3 *__pyx_v_res;
  PyObject *__pyx_v_xx;
  PyObject *__pyx_v_yy;
  PyObject *__pyx_v_zz;
  PyObject *__pyx_v_xy;
  PyObject *__pyx_v_zw;
  PyObject *__pyx_v_xz;
  PyObject *__pyx_v_yw;
  PyObject *__pyx_v_yz;
  PyObject *__pyx_v_xw;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  double __pyx_3;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  __pyx_v_xx = Py_None; Py_INCREF(__pyx_v_xx);
  __pyx_v_yy = Py_None; Py_INCREF(__pyx_v_yy);
  __pyx_v_zz = Py_None; Py_INCREF(__pyx_v_zz);
  __pyx_v_xy = Py_None; Py_INCREF(__pyx_v_xy);
  __pyx_v_zw = Py_None; Py_INCREF(__pyx_v_zw);
  __pyx_v_xz = Py_None; Py_INCREF(__pyx_v_xz);
  __pyx_v_yw = Py_None; Py_INCREF(__pyx_v_yw);
  __pyx_v_yz = Py_None; Py_INCREF(__pyx_v_yz);
  __pyx_v_xw = Py_None; Py_INCREF(__pyx_v_xw);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4900 */
  __pyx_1 = PyFloat_FromDouble(((2.0 * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x) * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4900; goto __pyx_L1;}
  Py_DECREF(__pyx_v_xx);
  __pyx_v_xx = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4901 */
  __pyx_1 = PyFloat_FromDouble(((2.0 * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y) * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4901; goto __pyx_L1;}
  Py_DECREF(__pyx_v_yy);
  __pyx_v_yy = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4902 */
  __pyx_1 = PyFloat_FromDouble(((2.0 * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z) * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4902; goto __pyx_L1;}
  Py_DECREF(__pyx_v_zz);
  __pyx_v_zz = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4903 */
  __pyx_1 = PyFloat_FromDouble(((2.0 * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x) * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4903; goto __pyx_L1;}
  Py_DECREF(__pyx_v_xy);
  __pyx_v_xy = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4904 */
  __pyx_1 = PyFloat_FromDouble(((2.0 * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z) * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4904; goto __pyx_L1;}
  Py_DECREF(__pyx_v_zw);
  __pyx_v_zw = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4905 */
  __pyx_1 = PyFloat_FromDouble(((2.0 * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x) * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4905; goto __pyx_L1;}
  Py_DECREF(__pyx_v_xz);
  __pyx_v_xz = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4906 */
  __pyx_1 = PyFloat_FromDouble(((2.0 * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y) * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4906; goto __pyx_L1;}
  Py_DECREF(__pyx_v_yw);
  __pyx_v_yw = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4907 */
  __pyx_1 = PyFloat_FromDouble(((2.0 * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y) * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4907; goto __pyx_L1;}
  Py_DECREF(__pyx_v_yz);
  __pyx_v_yz = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4908 */
  __pyx_1 = PyFloat_FromDouble(((2.0 * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x) * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4908; goto __pyx_L1;}
  Py_DECREF(__pyx_v_xw);
  __pyx_v_xw = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4910 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4910; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4910; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4910; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4911 */
  __pyx_1 = PyFloat_FromDouble(1.0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4911; goto __pyx_L1;}
  __pyx_2 = PyNumber_Subtract(__pyx_1, __pyx_v_yy); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4911; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyNumber_Subtract(__pyx_2, __pyx_v_zz); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4911; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4911; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_v_res->m11 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4912 */
  __pyx_2 = PyNumber_Subtract(__pyx_v_xy, __pyx_v_zw); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4912; goto __pyx_L1;}
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4912; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_res->m12 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4913 */
  __pyx_1 = PyNumber_Add(__pyx_v_xz, __pyx_v_yw); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4913; goto __pyx_L1;}
  __pyx_3 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4913; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_v_res->m13 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4914 */
  __pyx_2 = PyNumber_Add(__pyx_v_xy, __pyx_v_zw); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4914; goto __pyx_L1;}
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4914; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_res->m21 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4915 */
  __pyx_1 = PyFloat_FromDouble(1.0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4915; goto __pyx_L1;}
  __pyx_2 = PyNumber_Subtract(__pyx_1, __pyx_v_xx); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4915; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyNumber_Subtract(__pyx_2, __pyx_v_zz); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4915; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4915; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_v_res->m22 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4916 */
  __pyx_2 = PyNumber_Subtract(__pyx_v_yz, __pyx_v_xw); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4916; goto __pyx_L1;}
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4916; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_res->m23 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4917 */
  __pyx_1 = PyNumber_Subtract(__pyx_v_xz, __pyx_v_yw); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4917; goto __pyx_L1;}
  __pyx_3 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4917; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_v_res->m31 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4918 */
  __pyx_2 = PyNumber_Add(__pyx_v_yz, __pyx_v_xw); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4918; goto __pyx_L1;}
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4918; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_res->m32 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4919 */
  __pyx_1 = PyFloat_FromDouble(1.0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4919; goto __pyx_L1;}
  __pyx_2 = PyNumber_Subtract(__pyx_1, __pyx_v_xx); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4919; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyNumber_Subtract(__pyx_2, __pyx_v_yy); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4919; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4919; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_v_res->m33 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4920 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.quat.toMat3");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_xx);
  Py_DECREF(__pyx_v_yy);
  Py_DECREF(__pyx_v_zz);
  Py_DECREF(__pyx_v_xy);
  Py_DECREF(__pyx_v_zw);
  Py_DECREF(__pyx_v_xz);
  Py_DECREF(__pyx_v_yw);
  Py_DECREF(__pyx_v_yz);
  Py_DECREF(__pyx_v_xw);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4quat_toMat4(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4quat_toMat4[] = "Return rotation matrix as mat4.";
static PyObject *__pyx_f_7cgtypes_4quat_toMat4(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_mat4 *__pyx_v_res;
  PyObject *__pyx_v_xx;
  PyObject *__pyx_v_yy;
  PyObject *__pyx_v_zz;
  PyObject *__pyx_v_xy;
  PyObject *__pyx_v_zw;
  PyObject *__pyx_v_xz;
  PyObject *__pyx_v_yw;
  PyObject *__pyx_v_yz;
  PyObject *__pyx_v_xw;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  double __pyx_3;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));
  __pyx_v_xx = Py_None; Py_INCREF(__pyx_v_xx);
  __pyx_v_yy = Py_None; Py_INCREF(__pyx_v_yy);
  __pyx_v_zz = Py_None; Py_INCREF(__pyx_v_zz);
  __pyx_v_xy = Py_None; Py_INCREF(__pyx_v_xy);
  __pyx_v_zw = Py_None; Py_INCREF(__pyx_v_zw);
  __pyx_v_xz = Py_None; Py_INCREF(__pyx_v_xz);
  __pyx_v_yw = Py_None; Py_INCREF(__pyx_v_yw);
  __pyx_v_yz = Py_None; Py_INCREF(__pyx_v_yz);
  __pyx_v_xw = Py_None; Py_INCREF(__pyx_v_xw);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4927 */
  __pyx_1 = PyFloat_FromDouble(((2.0 * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x) * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4927; goto __pyx_L1;}
  Py_DECREF(__pyx_v_xx);
  __pyx_v_xx = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4928 */
  __pyx_1 = PyFloat_FromDouble(((2.0 * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y) * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4928; goto __pyx_L1;}
  Py_DECREF(__pyx_v_yy);
  __pyx_v_yy = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4929 */
  __pyx_1 = PyFloat_FromDouble(((2.0 * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z) * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4929; goto __pyx_L1;}
  Py_DECREF(__pyx_v_zz);
  __pyx_v_zz = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4930 */
  __pyx_1 = PyFloat_FromDouble(((2.0 * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x) * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4930; goto __pyx_L1;}
  Py_DECREF(__pyx_v_xy);
  __pyx_v_xy = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4931 */
  __pyx_1 = PyFloat_FromDouble(((2.0 * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z) * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4931; goto __pyx_L1;}
  Py_DECREF(__pyx_v_zw);
  __pyx_v_zw = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4932 */
  __pyx_1 = PyFloat_FromDouble(((2.0 * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x) * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4932; goto __pyx_L1;}
  Py_DECREF(__pyx_v_xz);
  __pyx_v_xz = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4933 */
  __pyx_1 = PyFloat_FromDouble(((2.0 * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y) * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4933; goto __pyx_L1;}
  Py_DECREF(__pyx_v_yw);
  __pyx_v_yw = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4934 */
  __pyx_1 = PyFloat_FromDouble(((2.0 * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y) * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4934; goto __pyx_L1;}
  Py_DECREF(__pyx_v_yz);
  __pyx_v_yz = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4935 */
  __pyx_1 = PyFloat_FromDouble(((2.0 * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x) * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4935; goto __pyx_L1;}
  Py_DECREF(__pyx_v_xw);
  __pyx_v_xw = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4937 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4937; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4937; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_mat4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4937; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4939 */
  __pyx_1 = PyFloat_FromDouble(1.0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4939; goto __pyx_L1;}
  __pyx_2 = PyNumber_Subtract(__pyx_1, __pyx_v_yy); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4939; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyNumber_Subtract(__pyx_2, __pyx_v_zz); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4939; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4939; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_v_res->m11 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4940 */
  __pyx_2 = PyNumber_Subtract(__pyx_v_xy, __pyx_v_zw); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4940; goto __pyx_L1;}
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4940; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_res->m12 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4941 */
  __pyx_1 = PyNumber_Add(__pyx_v_xz, __pyx_v_yw); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4941; goto __pyx_L1;}
  __pyx_3 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4941; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_v_res->m13 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4942 */
  __pyx_v_res->m14 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4943 */
  __pyx_2 = PyNumber_Add(__pyx_v_xy, __pyx_v_zw); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4943; goto __pyx_L1;}
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4943; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_res->m21 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4944 */
  __pyx_1 = PyFloat_FromDouble(1.0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4944; goto __pyx_L1;}
  __pyx_2 = PyNumber_Subtract(__pyx_1, __pyx_v_xx); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4944; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyNumber_Subtract(__pyx_2, __pyx_v_zz); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4944; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4944; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_v_res->m22 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4945 */
  __pyx_2 = PyNumber_Subtract(__pyx_v_yz, __pyx_v_xw); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4945; goto __pyx_L1;}
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4945; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_res->m23 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4946 */
  __pyx_v_res->m24 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4947 */
  __pyx_1 = PyNumber_Subtract(__pyx_v_xz, __pyx_v_yw); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4947; goto __pyx_L1;}
  __pyx_3 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4947; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_v_res->m31 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4948 */
  __pyx_2 = PyNumber_Add(__pyx_v_yz, __pyx_v_xw); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4948; goto __pyx_L1;}
  __pyx_3 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4948; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_res->m32 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4949 */
  __pyx_1 = PyFloat_FromDouble(1.0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4949; goto __pyx_L1;}
  __pyx_2 = PyNumber_Subtract(__pyx_1, __pyx_v_xx); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4949; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyNumber_Subtract(__pyx_2, __pyx_v_yy); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4949; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_3 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4949; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_v_res->m33 = __pyx_3;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4950 */
  __pyx_v_res->m34 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4951 */
  __pyx_v_res->m41 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4952 */
  __pyx_v_res->m42 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4953 */
  __pyx_v_res->m43 = 0.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4954 */
  __pyx_v_res->m44 = 1.0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4955 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.quat.toMat4");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_xx);
  Py_DECREF(__pyx_v_yy);
  Py_DECREF(__pyx_v_zz);
  Py_DECREF(__pyx_v_xy);
  Py_DECREF(__pyx_v_zw);
  Py_DECREF(__pyx_v_xz);
  Py_DECREF(__pyx_v_yw);
  Py_DECREF(__pyx_v_yz);
  Py_DECREF(__pyx_v_xw);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4quat_fromMat(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4quat_fromMat[] = "Initialize self from either a mat3 or mat4 and returns self.";
static PyObject *__pyx_f_7cgtypes_4quat_fromMat(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_m = 0;
  double __pyx_v_d1;
  double __pyx_v_d2;
  double __pyx_v_d3;
  double __pyx_v_ad1;
  double __pyx_v_ad2;
  double __pyx_v_ad3;
  double __pyx_v_t;
  double __pyx_v_s;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  double __pyx_4;
  int __pyx_5;
  PyObject *__pyx_6 = 0;
  static char *__pyx_argnames[] = {"m",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_m)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_m);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4961 */
  __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4961; goto __pyx_L1;}
  __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4961; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4961; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
  PyTuple_SET_ITEM(__pyx_3, 1, __pyx_2);
  __pyx_1 = 0;
  __pyx_2 = 0;
  __pyx_1 = PyObject_GetItem(__pyx_v_m, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4961; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_4 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4961; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_v_d1 = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4962 */
  __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4962; goto __pyx_L1;}
  __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4962; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4962; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_3);
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_2 = PyObject_GetItem(__pyx_v_m, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4962; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_4 = PyFloat_AsDouble(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4962; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_d2 = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4963 */
  __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4963; goto __pyx_L1;}
  __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4963; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4963; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_1);
  __pyx_3 = 0;
  __pyx_1 = 0;
  __pyx_3 = PyObject_GetItem(__pyx_v_m, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4963; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_4 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4963; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_v_d3 = __pyx_4;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4964 */
  __pyx_v_t = (((__pyx_v_d1 + __pyx_v_d2) + __pyx_v_d3) + 1.0);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4965 */
  __pyx_5 = (__pyx_v_t > 0.0);
  if (__pyx_5) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4966 */
    __pyx_v_s = (0.5 / sqrt(__pyx_v_t));

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4967 */
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w = (0.25 / __pyx_v_s);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4968 */
    __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4968; goto __pyx_L1;}
    __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4968; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4968; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
    PyTuple_SET_ITEM(__pyx_3, 1, __pyx_2);
    __pyx_1 = 0;
    __pyx_2 = 0;
    __pyx_1 = PyObject_GetItem(__pyx_v_m, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4968; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4968; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4968; goto __pyx_L1;}
    __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4968; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
    PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
    __pyx_2 = 0;
    __pyx_3 = 0;
    __pyx_2 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4968; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_3 = PyNumber_Subtract(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4968; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_6 = PyFloat_FromDouble(__pyx_v_s); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4968; goto __pyx_L1;}
    __pyx_1 = PyNumber_Multiply(__pyx_3, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4968; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_4 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4968; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x = __pyx_4;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4969 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4969; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4969; goto __pyx_L1;}
    __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4969; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
    PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
    __pyx_2 = 0;
    __pyx_3 = 0;
    __pyx_1 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4969; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4969; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4969; goto __pyx_L1;}
    __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4969; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
    PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
    __pyx_2 = 0;
    __pyx_3 = 0;
    __pyx_2 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4969; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_3 = PyNumber_Subtract(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4969; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_6 = PyFloat_FromDouble(__pyx_v_s); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4969; goto __pyx_L1;}
    __pyx_1 = PyNumber_Multiply(__pyx_3, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4969; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_4 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4969; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y = __pyx_4;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4970 */
    __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4970; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4970; goto __pyx_L1;}
    __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4970; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
    PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
    __pyx_2 = 0;
    __pyx_3 = 0;
    __pyx_1 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4970; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4970; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4970; goto __pyx_L1;}
    __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4970; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
    PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
    __pyx_2 = 0;
    __pyx_3 = 0;
    __pyx_2 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4970; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_3 = PyNumber_Subtract(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4970; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_6 = PyFloat_FromDouble(__pyx_v_s); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4970; goto __pyx_L1;}
    __pyx_1 = PyNumber_Multiply(__pyx_3, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4970; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_4 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4970; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z = __pyx_4;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4972 */
    __pyx_v_ad1 = fabs(__pyx_v_d1);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4973 */
    __pyx_v_ad2 = fabs(__pyx_v_d2);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4974 */
    __pyx_v_ad3 = fabs(__pyx_v_d3);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":4975 */
    __pyx_5 = (__pyx_v_ad1 >= __pyx_v_ad2);
    if (__pyx_5) {
      __pyx_5 = (__pyx_v_ad1 >= __pyx_v_ad3);
    }
    if (__pyx_5) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4976 */
      __pyx_v_s = (sqrt((((1.0 + __pyx_v_d1) - __pyx_v_d2) - __pyx_v_d3)) * 2.0);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4977 */
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x = (0.5 / __pyx_v_s);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4978 */
      __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4978; goto __pyx_L1;}
      __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4978; goto __pyx_L1;}
      __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4978; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
      PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
      __pyx_2 = 0;
      __pyx_3 = 0;
      __pyx_1 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4978; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4978; goto __pyx_L1;}
      __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4978; goto __pyx_L1;}
      __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4978; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
      PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
      __pyx_2 = 0;
      __pyx_3 = 0;
      __pyx_2 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4978; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_3 = PyNumber_Add(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4978; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_6 = PyFloat_FromDouble(__pyx_v_s); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4978; goto __pyx_L1;}
      __pyx_1 = PyNumber_Divide(__pyx_3, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4978; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_4 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4978; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y = __pyx_4;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4979 */
      __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4979; goto __pyx_L1;}
      __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4979; goto __pyx_L1;}
      __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4979; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
      PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
      __pyx_2 = 0;
      __pyx_3 = 0;
      __pyx_1 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4979; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4979; goto __pyx_L1;}
      __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4979; goto __pyx_L1;}
      __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4979; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
      PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
      __pyx_2 = 0;
      __pyx_3 = 0;
      __pyx_2 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4979; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_3 = PyNumber_Add(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4979; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_6 = PyFloat_FromDouble(__pyx_v_s); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4979; goto __pyx_L1;}
      __pyx_1 = PyNumber_Divide(__pyx_3, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4979; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_4 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4979; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z = __pyx_4;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4980 */
      __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4980; goto __pyx_L1;}
      __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4980; goto __pyx_L1;}
      __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4980; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
      PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
      __pyx_2 = 0;
      __pyx_3 = 0;
      __pyx_1 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4980; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4980; goto __pyx_L1;}
      __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4980; goto __pyx_L1;}
      __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4980; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
      PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
      __pyx_2 = 0;
      __pyx_3 = 0;
      __pyx_2 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4980; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_3 = PyNumber_Add(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4980; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_6 = PyFloat_FromDouble(__pyx_v_s); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4980; goto __pyx_L1;}
      __pyx_1 = PyNumber_Divide(__pyx_3, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4980; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_4 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4980; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w = __pyx_4;
      goto __pyx_L3;
    }
    __pyx_5 = (__pyx_v_ad2 >= __pyx_v_ad1);
    if (__pyx_5) {
      __pyx_5 = (__pyx_v_ad2 >= __pyx_v_ad3);
    }
    if (__pyx_5) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4982 */
      __pyx_v_s = (sqrt((((1.0 + __pyx_v_d2) - __pyx_v_d1) - __pyx_v_d3)) * 2.0);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4983 */
      __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4983; goto __pyx_L1;}
      __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4983; goto __pyx_L1;}
      __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4983; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
      PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
      __pyx_2 = 0;
      __pyx_3 = 0;
      __pyx_1 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4983; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4983; goto __pyx_L1;}
      __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4983; goto __pyx_L1;}
      __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4983; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
      PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
      __pyx_2 = 0;
      __pyx_3 = 0;
      __pyx_2 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4983; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_3 = PyNumber_Add(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4983; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_6 = PyFloat_FromDouble(__pyx_v_s); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4983; goto __pyx_L1;}
      __pyx_1 = PyNumber_Divide(__pyx_3, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4983; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_4 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4983; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x = __pyx_4;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4984 */
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y = (0.5 / __pyx_v_s);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4985 */
      __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4985; goto __pyx_L1;}
      __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4985; goto __pyx_L1;}
      __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4985; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
      PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
      __pyx_2 = 0;
      __pyx_3 = 0;
      __pyx_1 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4985; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4985; goto __pyx_L1;}
      __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4985; goto __pyx_L1;}
      __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4985; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
      PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
      __pyx_2 = 0;
      __pyx_3 = 0;
      __pyx_2 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4985; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_3 = PyNumber_Add(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4985; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_6 = PyFloat_FromDouble(__pyx_v_s); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4985; goto __pyx_L1;}
      __pyx_1 = PyNumber_Divide(__pyx_3, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4985; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_4 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4985; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z = __pyx_4;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4986 */
      __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4986; goto __pyx_L1;}
      __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4986; goto __pyx_L1;}
      __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4986; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
      PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
      __pyx_2 = 0;
      __pyx_3 = 0;
      __pyx_1 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4986; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4986; goto __pyx_L1;}
      __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4986; goto __pyx_L1;}
      __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4986; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
      PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
      __pyx_2 = 0;
      __pyx_3 = 0;
      __pyx_2 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4986; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_3 = PyNumber_Add(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4986; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_6 = PyFloat_FromDouble(__pyx_v_s); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4986; goto __pyx_L1;}
      __pyx_1 = PyNumber_Divide(__pyx_3, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4986; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_4 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4986; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w = __pyx_4;
      goto __pyx_L3;
    }
    /*else*/ {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4988 */
      __pyx_v_s = (sqrt((((1.0 + __pyx_v_d3) - __pyx_v_d1) - __pyx_v_d2)) * 2.0);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4989 */
      __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4989; goto __pyx_L1;}
      __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4989; goto __pyx_L1;}
      __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4989; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
      PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
      __pyx_2 = 0;
      __pyx_3 = 0;
      __pyx_1 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4989; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4989; goto __pyx_L1;}
      __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4989; goto __pyx_L1;}
      __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4989; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
      PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
      __pyx_2 = 0;
      __pyx_3 = 0;
      __pyx_2 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4989; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_3 = PyNumber_Add(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4989; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_6 = PyFloat_FromDouble(__pyx_v_s); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4989; goto __pyx_L1;}
      __pyx_1 = PyNumber_Divide(__pyx_3, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4989; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_4 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4989; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x = __pyx_4;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4990 */
      __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4990; goto __pyx_L1;}
      __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4990; goto __pyx_L1;}
      __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4990; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
      PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
      __pyx_2 = 0;
      __pyx_3 = 0;
      __pyx_1 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4990; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4990; goto __pyx_L1;}
      __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4990; goto __pyx_L1;}
      __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4990; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
      PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
      __pyx_2 = 0;
      __pyx_3 = 0;
      __pyx_2 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4990; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_3 = PyNumber_Add(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4990; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_6 = PyFloat_FromDouble(__pyx_v_s); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4990; goto __pyx_L1;}
      __pyx_1 = PyNumber_Divide(__pyx_3, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4990; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_4 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4990; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y = __pyx_4;

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4991 */
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z = (0.5 / __pyx_v_s);

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":4992 */
      __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4992; goto __pyx_L1;}
      __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4992; goto __pyx_L1;}
      __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4992; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
      PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
      __pyx_2 = 0;
      __pyx_3 = 0;
      __pyx_1 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4992; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4992; goto __pyx_L1;}
      __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4992; goto __pyx_L1;}
      __pyx_6 = PyTuple_New(2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4992; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_6, 0, __pyx_2);
      PyTuple_SET_ITEM(__pyx_6, 1, __pyx_3);
      __pyx_2 = 0;
      __pyx_3 = 0;
      __pyx_2 = PyObject_GetItem(__pyx_v_m, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4992; goto __pyx_L1;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_3 = PyNumber_Add(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4992; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_6 = PyFloat_FromDouble(__pyx_v_s); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4992; goto __pyx_L1;}
      __pyx_1 = PyNumber_Divide(__pyx_3, __pyx_6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4992; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      __pyx_4 = PyFloat_AsDouble(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4992; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w = __pyx_4;
    }
    __pyx_L3:;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4994 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("cgtypes.quat.fromMat");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_m);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4quat_dot(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4quat_dot[] = "Return the dot product of self and b.";
static PyObject *__pyx_f_7cgtypes_4quat_dot(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7cgtypes_quat *__pyx_v_b = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {"b",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_b)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_b);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_b), __pyx_ptype_7cgtypes_quat, 1, "b")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4996; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4998 */
  __pyx_1 = PyFloat_FromDouble(((((((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w * __pyx_v_b->w) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x * __pyx_v_b->x)) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y * __pyx_v_b->y)) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z * __pyx_v_b->z))); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4998; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("cgtypes.quat.dot");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_b);
  return __pyx_r;
}

static PyObject *__pyx_k225p;
static PyObject *__pyx_k226p;
static PyObject *__pyx_k227p;

static char (__pyx_k225[]) = "math domain error";
static char (__pyx_k226[]) = "math domain error";
static char (__pyx_k227[]) = "math domain error";

static PyObject *__pyx_f_7cgtypes_4quat_log(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4quat_log[] = "Return the natural logarithm of self.";
static PyObject *__pyx_f_7cgtypes_4quat_log(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  double __pyx_v_b;
  double __pyx_v_t;
  double __pyx_v_f;
  double __pyx_v_ct;
  double __pyx_v_r;
  struct __pyx_obj_7cgtypes_quat *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  int __pyx_3;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5006 */
  __pyx_v_b = sqrt((((((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y)) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5007 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5007; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_quat), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5007; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5007; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5008 */
  __pyx_3 = (fabs(__pyx_v_b) <= __pyx_v_7cgtypes_eps);
  if (__pyx_3) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5009 */
    __pyx_v_res->x = 0.0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5010 */
    __pyx_v_res->y = 0.0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5011 */
    __pyx_v_res->z = 0.0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5012 */
    __pyx_3 = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w <= __pyx_v_7cgtypes_eps);
    if (__pyx_3) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":5013 */
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5013; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_k225p, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5013; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5014 */
    __pyx_v_res->w = log(((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w);
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5016 */
    __pyx_v_t = atan2(__pyx_v_b,((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5017 */
    __pyx_v_f = (__pyx_v_t / __pyx_v_b);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5018 */
    __pyx_v_res->x = (__pyx_v_f * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5019 */
    __pyx_v_res->y = (__pyx_v_f * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5020 */
    __pyx_v_res->z = (__pyx_v_f * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5021 */
    __pyx_v_ct = cos(__pyx_v_t);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5022 */
    __pyx_3 = (fabs(__pyx_v_ct) <= __pyx_v_7cgtypes_eps);
    if (__pyx_3) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":5023 */
      __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5023; goto __pyx_L1;}
      __Pyx_Raise(__pyx_2, __pyx_k226p, 0);
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5023; goto __pyx_L1;}
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5024 */
    __pyx_v_r = (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w / __pyx_v_ct);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5025 */
    __pyx_3 = (__pyx_v_r <= __pyx_v_7cgtypes_eps);
    if (__pyx_3) {

      /* "D:\Sources\Python\cgkit\cgtypes.pyx":5026 */
      __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5026; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_k227p, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5026; goto __pyx_L1;}
      goto __pyx_L5;
    }
    __pyx_L5:;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5027 */
    __pyx_v_res->w = log(__pyx_v_r);
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5029 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.quat.log");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_4quat_exp(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_4quat_exp[] = "Return the exponential of self.";
static PyObject *__pyx_f_7cgtypes_4quat_exp(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  double __pyx_v_b;
  double __pyx_v_f;
  struct __pyx_obj_7cgtypes_quat *__pyx_v_res;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  int __pyx_3;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  ((PyObject*)__pyx_v_res) = Py_None; Py_INCREF(((PyObject*)__pyx_v_res));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5037 */
  __pyx_v_b = sqrt((((((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y)) + (((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z)));

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5038 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5038; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_quat), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5038; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (!__Pyx_TypeTest(__pyx_2, __pyx_ptype_7cgtypes_quat)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5038; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_res));
  ((PyObject *)__pyx_v_res) = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5039 */
  __pyx_3 = (fabs(__pyx_v_b) <= __pyx_v_7cgtypes_eps);
  if (__pyx_3) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5040 */
    __pyx_v_res->x = 0.0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5041 */
    __pyx_v_res->y = 0.0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5042 */
    __pyx_v_res->z = 0.0;

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5043 */
    __pyx_v_res->w = exp(((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w);
    goto __pyx_L2;
  }
  /*else*/ {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5045 */
    __pyx_v_f = (sin(__pyx_v_b) / __pyx_v_b);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5046 */
    __pyx_v_res->x = (__pyx_v_f * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->x);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5047 */
    __pyx_v_res->y = (__pyx_v_f * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->y);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5048 */
    __pyx_v_res->z = (__pyx_v_f * ((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->z);

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5049 */
    __pyx_v_res->w = (exp(((struct __pyx_obj_7cgtypes_quat *)__pyx_v_self)->w) * cos(__pyx_v_b));
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5051 */
  Py_INCREF(((PyObject *)__pyx_v_res));
  __pyx_r = ((PyObject *)__pyx_v_res);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes.quat.exp");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_res);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_dot;

static PyObject *__pyx_f_7cgtypes_slerp(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_slerp[] = "Spherical linear interpolation between two quaternions.\n\n    The return value is an interpolation between q0 and q1. For t=0.0\n    the return value equals q0, for t=1.0 it equals q1.\n    q0 and q1 must be unit quaternions.\n    ";
static PyObject *__pyx_f_7cgtypes_slerp(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  double __pyx_v_t;
  struct __pyx_obj_7cgtypes_quat *__pyx_v_q0 = 0;
  struct __pyx_obj_7cgtypes_quat *__pyx_v_q1 = 0;
  double __pyx_v_o;
  double __pyx_v_so;
  double __pyx_v_a;
  double __pyx_v_b;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  double __pyx_4;
  int __pyx_5;
  static char *__pyx_argnames[] = {"t","q0","q1",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "dOO", __pyx_argnames, &__pyx_v_t, &__pyx_v_q0, &__pyx_v_q1)) return 0;
  Py_INCREF(__pyx_v_q0);
  Py_INCREF(__pyx_v_q1);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_q0), __pyx_ptype_7cgtypes_quat, 1, "q0")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5054; goto __pyx_L1;}
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_q1), __pyx_ptype_7cgtypes_quat, 1, "q1")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5054; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5063 */
  __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_v_q0), __pyx_n_dot); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5063; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5063; goto __pyx_L1;}
  Py_INCREF(((PyObject *)__pyx_v_q1));
  PyTuple_SET_ITEM(__pyx_2, 0, ((PyObject *)__pyx_v_q1));
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5063; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_4 = PyFloat_AsDouble(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5063; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_v_o = acos(__pyx_4);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5064 */
  __pyx_v_so = sin(__pyx_v_o);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5066 */
  __pyx_5 = (fabs(__pyx_v_so) < __pyx_v_7cgtypes_eps);
  if (__pyx_5) {

    /* "D:\Sources\Python\cgkit\cgtypes.pyx":5067 */
    __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5067; goto __pyx_L1;}
    Py_INCREF(((PyObject *)__pyx_v_q0));
    PyTuple_SET_ITEM(__pyx_1, 0, ((PyObject *)__pyx_v_q0));
    __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_quat), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5067; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5069 */
  __pyx_v_a = (sin((__pyx_v_o * (1.0 - __pyx_v_t))) / __pyx_v_so);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5070 */
  __pyx_v_b = (sin((__pyx_v_o * __pyx_v_t)) / __pyx_v_so);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5071 */
  __pyx_3 = PyFloat_FromDouble(__pyx_v_a); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5071; goto __pyx_L1;}
  __pyx_1 = PyNumber_Multiply(((PyObject *)__pyx_v_q0), __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5071; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = PyFloat_FromDouble(__pyx_v_b); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5071; goto __pyx_L1;}
  __pyx_3 = PyNumber_Multiply(((PyObject *)__pyx_v_q1), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5071; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyNumber_Add(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5071; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("cgtypes.slerp");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_q0);
  Py_DECREF(__pyx_v_q1);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes_squad(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7cgtypes_squad[] = "Spherical cubic interpolation.";
static PyObject *__pyx_f_7cgtypes_squad(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  double __pyx_v_t;
  struct __pyx_obj_7cgtypes_quat *__pyx_v_a = 0;
  struct __pyx_obj_7cgtypes_quat *__pyx_v_b = 0;
  struct __pyx_obj_7cgtypes_quat *__pyx_v_c = 0;
  struct __pyx_obj_7cgtypes_quat *__pyx_v_d = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  static char *__pyx_argnames[] = {"t","a","b","c","d",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "dOOOO", __pyx_argnames, &__pyx_v_t, &__pyx_v_a, &__pyx_v_b, &__pyx_v_c, &__pyx_v_d)) return 0;
  Py_INCREF(__pyx_v_a);
  Py_INCREF(__pyx_v_b);
  Py_INCREF(__pyx_v_c);
  Py_INCREF(__pyx_v_d);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_a), __pyx_ptype_7cgtypes_quat, 1, "a")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5073; goto __pyx_L1;}
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_b), __pyx_ptype_7cgtypes_quat, 1, "b")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5073; goto __pyx_L1;}
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_c), __pyx_ptype_7cgtypes_quat, 1, "c")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5073; goto __pyx_L1;}
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_d), __pyx_ptype_7cgtypes_quat, 1, "d")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5073; goto __pyx_L1;}

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5075 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_slerp); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5075; goto __pyx_L1;}
  __pyx_2 = PyFloat_FromDouble(((2 * __pyx_v_t) * (1.0 - __pyx_v_t))); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5075; goto __pyx_L1;}
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_slerp); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5075; goto __pyx_L1;}
  __pyx_4 = PyFloat_FromDouble(__pyx_v_t); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5075; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5075; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_4);
  Py_INCREF(((PyObject *)__pyx_v_a));
  PyTuple_SET_ITEM(__pyx_5, 1, ((PyObject *)__pyx_v_a));
  Py_INCREF(((PyObject *)__pyx_v_d));
  PyTuple_SET_ITEM(__pyx_5, 2, ((PyObject *)__pyx_v_d));
  __pyx_4 = 0;
  __pyx_4 = PyObject_CallObject(__pyx_3, __pyx_5); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5075; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_slerp); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5075; goto __pyx_L1;}
  __pyx_5 = PyFloat_FromDouble(__pyx_v_t); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5075; goto __pyx_L1;}
  __pyx_6 = PyTuple_New(3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5075; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_6, 0, __pyx_5);
  Py_INCREF(((PyObject *)__pyx_v_b));
  PyTuple_SET_ITEM(__pyx_6, 1, ((PyObject *)__pyx_v_b));
  Py_INCREF(((PyObject *)__pyx_v_c));
  PyTuple_SET_ITEM(__pyx_6, 2, ((PyObject *)__pyx_v_c));
  __pyx_5 = 0;
  __pyx_5 = PyObject_CallObject(__pyx_3, __pyx_6); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5075; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  __pyx_3 = PyTuple_New(3); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5075; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  PyTuple_SET_ITEM(__pyx_3, 1, __pyx_4);
  PyTuple_SET_ITEM(__pyx_3, 2, __pyx_5);
  __pyx_2 = 0;
  __pyx_4 = 0;
  __pyx_5 = 0;
  __pyx_6 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5075; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_r = __pyx_6;
  __pyx_6 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("cgtypes.squad");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_a);
  Py_DECREF(__pyx_v_b);
  Py_DECREF(__pyx_v_c);
  Py_DECREF(__pyx_v_d);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes__vec3construct(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7cgtypes__vec3construct(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_x = 0;
  PyObject *__pyx_v_y = 0;
  PyObject *__pyx_v_z = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {"x","y","z",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OOO", __pyx_argnames, &__pyx_v_x, &__pyx_v_y, &__pyx_v_z)) return 0;
  Py_INCREF(__pyx_v_x);
  Py_INCREF(__pyx_v_y);
  Py_INCREF(__pyx_v_z);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5082 */
  __pyx_1 = PyTuple_New(3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5082; goto __pyx_L1;}
  Py_INCREF(__pyx_v_x);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_x);
  Py_INCREF(__pyx_v_y);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_y);
  Py_INCREF(__pyx_v_z);
  PyTuple_SET_ITEM(__pyx_1, 2, __pyx_v_z);
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5082; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes._vec3construct");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_x);
  Py_DECREF(__pyx_v_y);
  Py_DECREF(__pyx_v_z);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes__vec4construct(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7cgtypes__vec4construct(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_x = 0;
  PyObject *__pyx_v_y = 0;
  PyObject *__pyx_v_z = 0;
  PyObject *__pyx_v_w = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {"x","y","z","w",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OOOO", __pyx_argnames, &__pyx_v_x, &__pyx_v_y, &__pyx_v_z, &__pyx_v_w)) return 0;
  Py_INCREF(__pyx_v_x);
  Py_INCREF(__pyx_v_y);
  Py_INCREF(__pyx_v_z);
  Py_INCREF(__pyx_v_w);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5085 */
  __pyx_1 = PyTuple_New(4); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5085; goto __pyx_L1;}
  Py_INCREF(__pyx_v_x);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_x);
  Py_INCREF(__pyx_v_y);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_y);
  Py_INCREF(__pyx_v_z);
  PyTuple_SET_ITEM(__pyx_1, 2, __pyx_v_z);
  Py_INCREF(__pyx_v_w);
  PyTuple_SET_ITEM(__pyx_1, 3, __pyx_v_w);
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_vec4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5085; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes._vec4construct");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_x);
  Py_DECREF(__pyx_v_y);
  Py_DECREF(__pyx_v_z);
  Py_DECREF(__pyx_v_w);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes__mat3construct(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7cgtypes__mat3construct(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_b1 = 0;
  PyObject *__pyx_v_b2 = 0;
  PyObject *__pyx_v_b3 = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {"b1","b2","b3",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OOO", __pyx_argnames, &__pyx_v_b1, &__pyx_v_b2, &__pyx_v_b3)) return 0;
  Py_INCREF(__pyx_v_b1);
  Py_INCREF(__pyx_v_b2);
  Py_INCREF(__pyx_v_b3);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5088 */
  __pyx_1 = PyTuple_New(3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5088; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b1);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_b1);
  Py_INCREF(__pyx_v_b2);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_b2);
  Py_INCREF(__pyx_v_b3);
  PyTuple_SET_ITEM(__pyx_1, 2, __pyx_v_b3);
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat3), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5088; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes._mat3construct");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_b1);
  Py_DECREF(__pyx_v_b2);
  Py_DECREF(__pyx_v_b3);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes__mat4construct(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7cgtypes__mat4construct(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_b1 = 0;
  PyObject *__pyx_v_b2 = 0;
  PyObject *__pyx_v_b3 = 0;
  PyObject *__pyx_v_b4 = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {"b1","b2","b3","b4",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OOOO", __pyx_argnames, &__pyx_v_b1, &__pyx_v_b2, &__pyx_v_b3, &__pyx_v_b4)) return 0;
  Py_INCREF(__pyx_v_b1);
  Py_INCREF(__pyx_v_b2);
  Py_INCREF(__pyx_v_b3);
  Py_INCREF(__pyx_v_b4);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5091 */
  __pyx_1 = PyTuple_New(4); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5091; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b1);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_b1);
  Py_INCREF(__pyx_v_b2);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_b2);
  Py_INCREF(__pyx_v_b3);
  PyTuple_SET_ITEM(__pyx_1, 2, __pyx_v_b3);
  Py_INCREF(__pyx_v_b4);
  PyTuple_SET_ITEM(__pyx_1, 3, __pyx_v_b4);
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_mat4), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5091; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes._mat4construct");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_b1);
  Py_DECREF(__pyx_v_b2);
  Py_DECREF(__pyx_v_b3);
  Py_DECREF(__pyx_v_b4);
  return __pyx_r;
}

static PyObject *__pyx_f_7cgtypes__quatconstruct(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7cgtypes__quatconstruct(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_w = 0;
  PyObject *__pyx_v_x = 0;
  PyObject *__pyx_v_y = 0;
  PyObject *__pyx_v_z = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {"w","x","y","z",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OOOO", __pyx_argnames, &__pyx_v_w, &__pyx_v_x, &__pyx_v_y, &__pyx_v_z)) return 0;
  Py_INCREF(__pyx_v_w);
  Py_INCREF(__pyx_v_x);
  Py_INCREF(__pyx_v_y);
  Py_INCREF(__pyx_v_z);

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5094 */
  __pyx_1 = PyTuple_New(4); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5094; goto __pyx_L1;}
  Py_INCREF(__pyx_v_w);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_w);
  Py_INCREF(__pyx_v_x);
  PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_x);
  Py_INCREF(__pyx_v_y);
  PyTuple_SET_ITEM(__pyx_1, 2, __pyx_v_y);
  Py_INCREF(__pyx_v_z);
  PyTuple_SET_ITEM(__pyx_1, 3, __pyx_v_z);
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7cgtypes_quat), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5094; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("cgtypes._quatconstruct");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_w);
  Py_DECREF(__pyx_v_x);
  Py_DECREF(__pyx_v_y);
  Py_DECREF(__pyx_v_z);
  return __pyx_r;
}

static __Pyx_InternTabEntry __pyx_intern_tab[] = {
  {&__pyx_n_AttributeError, "AttributeError"},
  {&__pyx_n_IndexError, "IndexError"},
  {&__pyx_n_StopIteration, "StopIteration"},
  {&__pyx_n_TypeError, "TypeError"},
  {&__pyx_n_ValueError, "ValueError"},
  {&__pyx_n_ZeroDivisionError, "ZeroDivisionError"},
  {&__pyx_n___rmul__, "__rmul__"},
  {&__pyx_n__mat3construct, "_mat3construct"},
  {&__pyx_n__mat4construct, "_mat4construct"},
  {&__pyx_n__quatconstruct, "_quatconstruct"},
  {&__pyx_n__vec3construct, "_vec3construct"},
  {&__pyx_n__vec4construct, "_vec4construct"},
  {&__pyx_n_constructor, "constructor"},
  {&__pyx_n_copy_reg, "copy_reg"},
  {&__pyx_n_cross, "cross"},
  {&__pyx_n_determinant, "determinant"},
  {&__pyx_n_dot, "dot"},
  {&__pyx_n_exp, "exp"},
  {&__pyx_n_float, "float"},
  {&__pyx_n_fromAngleAxis, "fromAngleAxis"},
  {&__pyx_n_frustum, "frustum"},
  {&__pyx_n_getEpsilon, "getEpsilon"},
  {&__pyx_n_int, "int"},
  {&__pyx_n_len, "len"},
  {&__pyx_n_length, "length"},
  {&__pyx_n_log, "log"},
  {&__pyx_n_long, "long"},
  {&__pyx_n_normalize, "normalize"},
  {&__pyx_n_ortho, "ortho"},
  {&__pyx_n_range, "range"},
  {&__pyx_n_replace, "replace"},
  {&__pyx_n_repr, "repr"},
  {&__pyx_n_rotation, "rotation"},
  {&__pyx_n_setEpsilon, "setEpsilon"},
  {&__pyx_n_slerp, "slerp"},
  {&__pyx_n_split, "split"},
  {&__pyx_n_squad, "squad"},
  {&__pyx_n_str, "str"},
  {&__pyx_n_strip, "strip"},
  {&__pyx_n_t, "t"},
  {&__pyx_n_tuple, "tuple"},
  {&__pyx_n_type, "type"},
  {&__pyx_n_unicode, "unicode"},
  {&__pyx_n_w, "w"},
  {&__pyx_n_x, "x"},
  {&__pyx_n_y, "y"},
  {&__pyx_n_z, "z"},
  {0, 0}
};

static __Pyx_StringTabEntry __pyx_string_tab[] = {
  {&__pyx_k5p, __pyx_k5, sizeof(__pyx_k5)},
  {&__pyx_k6p, __pyx_k6, sizeof(__pyx_k6)},
  {&__pyx_k7p, __pyx_k7, sizeof(__pyx_k7)},
  {&__pyx_k8p, __pyx_k8, sizeof(__pyx_k8)},
  {&__pyx_k9p, __pyx_k9, sizeof(__pyx_k9)},
  {&__pyx_k10p, __pyx_k10, sizeof(__pyx_k10)},
  {&__pyx_k11p, __pyx_k11, sizeof(__pyx_k11)},
  {&__pyx_k12p, __pyx_k12, sizeof(__pyx_k12)},
  {&__pyx_k13p, __pyx_k13, sizeof(__pyx_k13)},
  {&__pyx_k14p, __pyx_k14, sizeof(__pyx_k14)},
  {&__pyx_k15p, __pyx_k15, sizeof(__pyx_k15)},
  {&__pyx_k16p, __pyx_k16, sizeof(__pyx_k16)},
  {&__pyx_k17p, __pyx_k17, sizeof(__pyx_k17)},
  {&__pyx_k18p, __pyx_k18, sizeof(__pyx_k18)},
  {&__pyx_k19p, __pyx_k19, sizeof(__pyx_k19)},
  {&__pyx_k20p, __pyx_k20, sizeof(__pyx_k20)},
  {&__pyx_k21p, __pyx_k21, sizeof(__pyx_k21)},
  {&__pyx_k22p, __pyx_k22, sizeof(__pyx_k22)},
  {&__pyx_k23p, __pyx_k23, sizeof(__pyx_k23)},
  {&__pyx_k24p, __pyx_k24, sizeof(__pyx_k24)},
  {&__pyx_k25p, __pyx_k25, sizeof(__pyx_k25)},
  {&__pyx_k26p, __pyx_k26, sizeof(__pyx_k26)},
  {&__pyx_k27p, __pyx_k27, sizeof(__pyx_k27)},
  {&__pyx_k28p, __pyx_k28, sizeof(__pyx_k28)},
  {&__pyx_k29p, __pyx_k29, sizeof(__pyx_k29)},
  {&__pyx_k33p, __pyx_k33, sizeof(__pyx_k33)},
  {&__pyx_k34p, __pyx_k34, sizeof(__pyx_k34)},
  {&__pyx_k38p, __pyx_k38, sizeof(__pyx_k38)},
  {&__pyx_k39p, __pyx_k39, sizeof(__pyx_k39)},
  {&__pyx_k40p, __pyx_k40, sizeof(__pyx_k40)},
  {&__pyx_k41p, __pyx_k41, sizeof(__pyx_k41)},
  {&__pyx_k42p, __pyx_k42, sizeof(__pyx_k42)},
  {&__pyx_k43p, __pyx_k43, sizeof(__pyx_k43)},
  {&__pyx_k44p, __pyx_k44, sizeof(__pyx_k44)},
  {&__pyx_k45p, __pyx_k45, sizeof(__pyx_k45)},
  {&__pyx_k46p, __pyx_k46, sizeof(__pyx_k46)},
  {&__pyx_k47p, __pyx_k47, sizeof(__pyx_k47)},
  {&__pyx_k48p, __pyx_k48, sizeof(__pyx_k48)},
  {&__pyx_k49p, __pyx_k49, sizeof(__pyx_k49)},
  {&__pyx_k50p, __pyx_k50, sizeof(__pyx_k50)},
  {&__pyx_k51p, __pyx_k51, sizeof(__pyx_k51)},
  {&__pyx_k52p, __pyx_k52, sizeof(__pyx_k52)},
  {&__pyx_k53p, __pyx_k53, sizeof(__pyx_k53)},
  {&__pyx_k54p, __pyx_k54, sizeof(__pyx_k54)},
  {&__pyx_k55p, __pyx_k55, sizeof(__pyx_k55)},
  {&__pyx_k56p, __pyx_k56, sizeof(__pyx_k56)},
  {&__pyx_k57p, __pyx_k57, sizeof(__pyx_k57)},
  {&__pyx_k58p, __pyx_k58, sizeof(__pyx_k58)},
  {&__pyx_k59p, __pyx_k59, sizeof(__pyx_k59)},
  {&__pyx_k60p, __pyx_k60, sizeof(__pyx_k60)},
  {&__pyx_k61p, __pyx_k61, sizeof(__pyx_k61)},
  {&__pyx_k62p, __pyx_k62, sizeof(__pyx_k62)},
  {&__pyx_k63p, __pyx_k63, sizeof(__pyx_k63)},
  {&__pyx_k64p, __pyx_k64, sizeof(__pyx_k64)},
  {&__pyx_k65p, __pyx_k65, sizeof(__pyx_k65)},
  {&__pyx_k66p, __pyx_k66, sizeof(__pyx_k66)},
  {&__pyx_k67p, __pyx_k67, sizeof(__pyx_k67)},
  {&__pyx_k68p, __pyx_k68, sizeof(__pyx_k68)},
  {&__pyx_k69p, __pyx_k69, sizeof(__pyx_k69)},
  {&__pyx_k70p, __pyx_k70, sizeof(__pyx_k70)},
  {&__pyx_k71p, __pyx_k71, sizeof(__pyx_k71)},
  {&__pyx_k72p, __pyx_k72, sizeof(__pyx_k72)},
  {&__pyx_k78p, __pyx_k78, sizeof(__pyx_k78)},
  {&__pyx_k79p, __pyx_k79, sizeof(__pyx_k79)},
  {&__pyx_k85p, __pyx_k85, sizeof(__pyx_k85)},
  {&__pyx_k86p, __pyx_k86, sizeof(__pyx_k86)},
  {&__pyx_k87p, __pyx_k87, sizeof(__pyx_k87)},
  {&__pyx_k88p, __pyx_k88, sizeof(__pyx_k88)},
  {&__pyx_k89p, __pyx_k89, sizeof(__pyx_k89)},
  {&__pyx_k90p, __pyx_k90, sizeof(__pyx_k90)},
  {&__pyx_k91p, __pyx_k91, sizeof(__pyx_k91)},
  {&__pyx_k92p, __pyx_k92, sizeof(__pyx_k92)},
  {&__pyx_k93p, __pyx_k93, sizeof(__pyx_k93)},
  {&__pyx_k94p, __pyx_k94, sizeof(__pyx_k94)},
  {&__pyx_k95p, __pyx_k95, sizeof(__pyx_k95)},
  {&__pyx_k96p, __pyx_k96, sizeof(__pyx_k96)},
  {&__pyx_k97p, __pyx_k97, sizeof(__pyx_k97)},
  {&__pyx_k98p, __pyx_k98, sizeof(__pyx_k98)},
  {&__pyx_k99p, __pyx_k99, sizeof(__pyx_k99)},
  {&__pyx_k100p, __pyx_k100, sizeof(__pyx_k100)},
  {&__pyx_k101p, __pyx_k101, sizeof(__pyx_k101)},
  {&__pyx_k102p, __pyx_k102, sizeof(__pyx_k102)},
  {&__pyx_k103p, __pyx_k103, sizeof(__pyx_k103)},
  {&__pyx_k104p, __pyx_k104, sizeof(__pyx_k104)},
  {&__pyx_k105p, __pyx_k105, sizeof(__pyx_k105)},
  {&__pyx_k106p, __pyx_k106, sizeof(__pyx_k106)},
  {&__pyx_k107p, __pyx_k107, sizeof(__pyx_k107)},
  {&__pyx_k108p, __pyx_k108, sizeof(__pyx_k108)},
  {&__pyx_k109p, __pyx_k109, sizeof(__pyx_k109)},
  {&__pyx_k110p, __pyx_k110, sizeof(__pyx_k110)},
  {&__pyx_k111p, __pyx_k111, sizeof(__pyx_k111)},
  {&__pyx_k112p, __pyx_k112, sizeof(__pyx_k112)},
  {&__pyx_k113p, __pyx_k113, sizeof(__pyx_k113)},
  {&__pyx_k114p, __pyx_k114, sizeof(__pyx_k114)},
  {&__pyx_k115p, __pyx_k115, sizeof(__pyx_k115)},
  {&__pyx_k116p, __pyx_k116, sizeof(__pyx_k116)},
  {&__pyx_k117p, __pyx_k117, sizeof(__pyx_k117)},
  {&__pyx_k118p, __pyx_k118, sizeof(__pyx_k118)},
  {&__pyx_k119p, __pyx_k119, sizeof(__pyx_k119)},
  {&__pyx_k120p, __pyx_k120, sizeof(__pyx_k120)},
  {&__pyx_k121p, __pyx_k121, sizeof(__pyx_k121)},
  {&__pyx_k122p, __pyx_k122, sizeof(__pyx_k122)},
  {&__pyx_k123p, __pyx_k123, sizeof(__pyx_k123)},
  {&__pyx_k124p, __pyx_k124, sizeof(__pyx_k124)},
  {&__pyx_k125p, __pyx_k125, sizeof(__pyx_k125)},
  {&__pyx_k126p, __pyx_k126, sizeof(__pyx_k126)},
  {&__pyx_k127p, __pyx_k127, sizeof(__pyx_k127)},
  {&__pyx_k128p, __pyx_k128, sizeof(__pyx_k128)},
  {&__pyx_k129p, __pyx_k129, sizeof(__pyx_k129)},
  {&__pyx_k130p, __pyx_k130, sizeof(__pyx_k130)},
  {&__pyx_k131p, __pyx_k131, sizeof(__pyx_k131)},
  {&__pyx_k132p, __pyx_k132, sizeof(__pyx_k132)},
  {&__pyx_k133p, __pyx_k133, sizeof(__pyx_k133)},
  {&__pyx_k134p, __pyx_k134, sizeof(__pyx_k134)},
  {&__pyx_k135p, __pyx_k135, sizeof(__pyx_k135)},
  {&__pyx_k136p, __pyx_k136, sizeof(__pyx_k136)},
  {&__pyx_k137p, __pyx_k137, sizeof(__pyx_k137)},
  {&__pyx_k138p, __pyx_k138, sizeof(__pyx_k138)},
  {&__pyx_k139p, __pyx_k139, sizeof(__pyx_k139)},
  {&__pyx_k140p, __pyx_k140, sizeof(__pyx_k140)},
  {&__pyx_k141p, __pyx_k141, sizeof(__pyx_k141)},
  {&__pyx_k142p, __pyx_k142, sizeof(__pyx_k142)},
  {&__pyx_k143p, __pyx_k143, sizeof(__pyx_k143)},
  {&__pyx_k144p, __pyx_k144, sizeof(__pyx_k144)},
  {&__pyx_k145p, __pyx_k145, sizeof(__pyx_k145)},
  {&__pyx_k146p, __pyx_k146, sizeof(__pyx_k146)},
  {&__pyx_k147p, __pyx_k147, sizeof(__pyx_k147)},
  {&__pyx_k148p, __pyx_k148, sizeof(__pyx_k148)},
  {&__pyx_k149p, __pyx_k149, sizeof(__pyx_k149)},
  {&__pyx_k150p, __pyx_k150, sizeof(__pyx_k150)},
  {&__pyx_k151p, __pyx_k151, sizeof(__pyx_k151)},
  {&__pyx_k152p, __pyx_k152, sizeof(__pyx_k152)},
  {&__pyx_k153p, __pyx_k153, sizeof(__pyx_k153)},
  {&__pyx_k154p, __pyx_k154, sizeof(__pyx_k154)},
  {&__pyx_k155p, __pyx_k155, sizeof(__pyx_k155)},
  {&__pyx_k156p, __pyx_k156, sizeof(__pyx_k156)},
  {&__pyx_k157p, __pyx_k157, sizeof(__pyx_k157)},
  {&__pyx_k158p, __pyx_k158, sizeof(__pyx_k158)},
  {&__pyx_k159p, __pyx_k159, sizeof(__pyx_k159)},
  {&__pyx_k160p, __pyx_k160, sizeof(__pyx_k160)},
  {&__pyx_k161p, __pyx_k161, sizeof(__pyx_k161)},
  {&__pyx_k162p, __pyx_k162, sizeof(__pyx_k162)},
  {&__pyx_k163p, __pyx_k163, sizeof(__pyx_k163)},
  {&__pyx_k164p, __pyx_k164, sizeof(__pyx_k164)},
  {&__pyx_k165p, __pyx_k165, sizeof(__pyx_k165)},
  {&__pyx_k166p, __pyx_k166, sizeof(__pyx_k166)},
  {&__pyx_k167p, __pyx_k167, sizeof(__pyx_k167)},
  {&__pyx_k168p, __pyx_k168, sizeof(__pyx_k168)},
  {&__pyx_k169p, __pyx_k169, sizeof(__pyx_k169)},
  {&__pyx_k170p, __pyx_k170, sizeof(__pyx_k170)},
  {&__pyx_k171p, __pyx_k171, sizeof(__pyx_k171)},
  {&__pyx_k172p, __pyx_k172, sizeof(__pyx_k172)},
  {&__pyx_k173p, __pyx_k173, sizeof(__pyx_k173)},
  {&__pyx_k174p, __pyx_k174, sizeof(__pyx_k174)},
  {&__pyx_k175p, __pyx_k175, sizeof(__pyx_k175)},
  {&__pyx_k176p, __pyx_k176, sizeof(__pyx_k176)},
  {&__pyx_k177p, __pyx_k177, sizeof(__pyx_k177)},
  {&__pyx_k178p, __pyx_k178, sizeof(__pyx_k178)},
  {&__pyx_k179p, __pyx_k179, sizeof(__pyx_k179)},
  {&__pyx_k180p, __pyx_k180, sizeof(__pyx_k180)},
  {&__pyx_k181p, __pyx_k181, sizeof(__pyx_k181)},
  {&__pyx_k182p, __pyx_k182, sizeof(__pyx_k182)},
  {&__pyx_k183p, __pyx_k183, sizeof(__pyx_k183)},
  {&__pyx_k184p, __pyx_k184, sizeof(__pyx_k184)},
  {&__pyx_k185p, __pyx_k185, sizeof(__pyx_k185)},
  {&__pyx_k186p, __pyx_k186, sizeof(__pyx_k186)},
  {&__pyx_k187p, __pyx_k187, sizeof(__pyx_k187)},
  {&__pyx_k188p, __pyx_k188, sizeof(__pyx_k188)},
  {&__pyx_k189p, __pyx_k189, sizeof(__pyx_k189)},
  {&__pyx_k190p, __pyx_k190, sizeof(__pyx_k190)},
  {&__pyx_k191p, __pyx_k191, sizeof(__pyx_k191)},
  {&__pyx_k192p, __pyx_k192, sizeof(__pyx_k192)},
  {&__pyx_k193p, __pyx_k193, sizeof(__pyx_k193)},
  {&__pyx_k194p, __pyx_k194, sizeof(__pyx_k194)},
  {&__pyx_k195p, __pyx_k195, sizeof(__pyx_k195)},
  {&__pyx_k196p, __pyx_k196, sizeof(__pyx_k196)},
  {&__pyx_k197p, __pyx_k197, sizeof(__pyx_k197)},
  {&__pyx_k198p, __pyx_k198, sizeof(__pyx_k198)},
  {&__pyx_k199p, __pyx_k199, sizeof(__pyx_k199)},
  {&__pyx_k200p, __pyx_k200, sizeof(__pyx_k200)},
  {&__pyx_k201p, __pyx_k201, sizeof(__pyx_k201)},
  {&__pyx_k202p, __pyx_k202, sizeof(__pyx_k202)},
  {&__pyx_k203p, __pyx_k203, sizeof(__pyx_k203)},
  {&__pyx_k204p, __pyx_k204, sizeof(__pyx_k204)},
  {&__pyx_k205p, __pyx_k205, sizeof(__pyx_k205)},
  {&__pyx_k206p, __pyx_k206, sizeof(__pyx_k206)},
  {&__pyx_k207p, __pyx_k207, sizeof(__pyx_k207)},
  {&__pyx_k208p, __pyx_k208, sizeof(__pyx_k208)},
  {&__pyx_k209p, __pyx_k209, sizeof(__pyx_k209)},
  {&__pyx_k214p, __pyx_k214, sizeof(__pyx_k214)},
  {&__pyx_k215p, __pyx_k215, sizeof(__pyx_k215)},
  {&__pyx_k220p, __pyx_k220, sizeof(__pyx_k220)},
  {&__pyx_k221p, __pyx_k221, sizeof(__pyx_k221)},
  {&__pyx_k222p, __pyx_k222, sizeof(__pyx_k222)},
  {&__pyx_k223p, __pyx_k223, sizeof(__pyx_k223)},
  {&__pyx_k224p, __pyx_k224, sizeof(__pyx_k224)},
  {&__pyx_k225p, __pyx_k225, sizeof(__pyx_k225)},
  {&__pyx_k226p, __pyx_k226, sizeof(__pyx_k226)},
  {&__pyx_k227p, __pyx_k227, sizeof(__pyx_k227)},
  {0, 0, 0}
};

static PyObject *__pyx_tp_new_7cgtypes_vec3(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  struct __pyx_obj_7cgtypes_vec3 *p = (struct __pyx_obj_7cgtypes_vec3 *)o;
  if (__pyx_f_7cgtypes_4vec3___new__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_7cgtypes_vec3(PyObject *o) {
  struct __pyx_obj_7cgtypes_vec3 *p = (struct __pyx_obj_7cgtypes_vec3 *)o;
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_7cgtypes_vec3(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7cgtypes_vec3 *p = (struct __pyx_obj_7cgtypes_vec3 *)o;
  return 0;
}

static int __pyx_tp_clear_7cgtypes_vec3(PyObject *o) {
  struct __pyx_obj_7cgtypes_vec3 *p = (struct __pyx_obj_7cgtypes_vec3 *)o;
  return 0;
}
static PyObject *__pyx_sq_item_7cgtypes_vec3(PyObject *o, int i) {
  PyObject *r;
  PyObject *x = PyInt_FromLong(i); if(!x) return 0;
  r = o->ob_type->tp_as_mapping->mp_subscript(o, x);
  Py_DECREF(x);
  return r;
}

static int __pyx_mp_ass_subscript_7cgtypes_vec3(PyObject *o, PyObject *i, PyObject *v) {
  if (v) {
    return __pyx_f_7cgtypes_4vec3___setitem__(o, i, v);
  }
  else {
    PyErr_Format(PyExc_NotImplementedError,
      "Subscript deletion not supported by %s", o->ob_type->tp_name);
    return -1;
  }
}

static PyObject *__pyx_tp_getattro_7cgtypes_vec3(PyObject *o, PyObject *n) {
  PyObject *v = PyObject_GenericGetAttr(o, n);
  if (!v && PyErr_ExceptionMatches(PyExc_AttributeError)) {
    PyErr_Clear();
    v = __pyx_f_7cgtypes_4vec3___getattr__(o, n);
  }
  return v;
}

static int __pyx_tp_setattro_7cgtypes_vec3(PyObject *o, PyObject *n, PyObject *v) {
  if (v) {
    return __pyx_f_7cgtypes_4vec3___setattr__(o, n, v);
  }
  else {
    return PyObject_GenericSetAttr(o, n, 0);
  }
}

static struct PyMethodDef __pyx_methods_7cgtypes_vec3[] = {
  {"__reduce__", (PyCFunction)__pyx_f_7cgtypes_4vec3___reduce__, METH_VARARGS|METH_KEYWORDS, 0},
  {"cross", (PyCFunction)__pyx_f_7cgtypes_4vec3_cross, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4vec3_cross},
  {"length", (PyCFunction)__pyx_f_7cgtypes_4vec3_length, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4vec3_length},
  {"normalize", (PyCFunction)__pyx_f_7cgtypes_4vec3_normalize, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4vec3_normalize},
  {"angle", (PyCFunction)__pyx_f_7cgtypes_4vec3_angle, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4vec3_angle},
  {"reflect", (PyCFunction)__pyx_f_7cgtypes_4vec3_reflect, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4vec3_reflect},
  {"refract", (PyCFunction)__pyx_f_7cgtypes_4vec3_refract, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4vec3_refract},
  {"ortho", (PyCFunction)__pyx_f_7cgtypes_4vec3_ortho, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4vec3_ortho},
  {"fadd", (PyCFunction)__pyx_f_7cgtypes_4vec3_fadd, METH_VARARGS|METH_KEYWORDS, 0},
  {"fnormalize", (PyCFunction)__pyx_f_7cgtypes_4vec3_fnormalize, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4vec3_fnormalize},
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_vec3 = {
  __pyx_f_7cgtypes_4vec3___add__, /*nb_add*/
  __pyx_f_7cgtypes_4vec3___sub__, /*nb_subtract*/
  __pyx_f_7cgtypes_4vec3___mul__, /*nb_multiply*/
  __pyx_f_7cgtypes_4vec3___div__, /*nb_divide*/
  __pyx_f_7cgtypes_4vec3___mod__, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  __pyx_f_7cgtypes_4vec3___neg__, /*nb_negative*/
  __pyx_f_7cgtypes_4vec3___pos__, /*nb_positive*/
  __pyx_f_7cgtypes_4vec3___abs__, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  __pyx_f_7cgtypes_4vec3___iadd__, /*nb_inplace_add*/
  __pyx_f_7cgtypes_4vec3___isub__, /*nb_inplace_subtract*/
  __pyx_f_7cgtypes_4vec3___imul__, /*nb_inplace_multiply*/
  __pyx_f_7cgtypes_4vec3___idiv__, /*nb_inplace_divide*/
  __pyx_f_7cgtypes_4vec3___imod__, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_vec3 = {
  __pyx_f_7cgtypes_4vec3___len__, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  __pyx_sq_item_7cgtypes_vec3, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_vec3 = {
  __pyx_f_7cgtypes_4vec3___len__, /*mp_length*/
  __pyx_f_7cgtypes_4vec3___getitem__, /*mp_subscript*/
  __pyx_mp_ass_subscript_7cgtypes_vec3, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_vec3 = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_7cgtypes_vec3 = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "cgtypes.vec3", /*tp_name*/
  sizeof(struct __pyx_obj_7cgtypes_vec3), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7cgtypes_vec3, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  __pyx_f_7cgtypes_4vec3___repr__, /*tp_repr*/
  &__pyx_tp_as_number_vec3, /*tp_as_number*/
  &__pyx_tp_as_sequence_vec3, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_vec3, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  __pyx_f_7cgtypes_4vec3___str__, /*tp_str*/
  __pyx_tp_getattro_7cgtypes_vec3, /*tp_getattro*/
  __pyx_tp_setattro_7cgtypes_vec3, /*tp_setattro*/
  &__pyx_tp_as_buffer_vec3, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
  "Three-dimensional vector.\n\n    This class can be used to represent points, vectors, normals\n    or even colors. The usual vector operations are available.\n\n    Comparisons are done within an epsilon environment.\n    ", /*tp_doc*/
  __pyx_tp_traverse_7cgtypes_vec3, /*tp_traverse*/
  __pyx_tp_clear_7cgtypes_vec3, /*tp_clear*/
  __pyx_f_7cgtypes_4vec3___richcmp__, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  __pyx_f_7cgtypes_4vec3___iter__, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7cgtypes_vec3, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7cgtypes_vec3, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_7cgtypes_vec4(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  struct __pyx_obj_7cgtypes_vec4 *p = (struct __pyx_obj_7cgtypes_vec4 *)o;
  if (__pyx_f_7cgtypes_4vec4___new__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_7cgtypes_vec4(PyObject *o) {
  struct __pyx_obj_7cgtypes_vec4 *p = (struct __pyx_obj_7cgtypes_vec4 *)o;
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_7cgtypes_vec4(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7cgtypes_vec4 *p = (struct __pyx_obj_7cgtypes_vec4 *)o;
  return 0;
}

static int __pyx_tp_clear_7cgtypes_vec4(PyObject *o) {
  struct __pyx_obj_7cgtypes_vec4 *p = (struct __pyx_obj_7cgtypes_vec4 *)o;
  return 0;
}
static PyObject *__pyx_sq_item_7cgtypes_vec4(PyObject *o, int i) {
  PyObject *r;
  PyObject *x = PyInt_FromLong(i); if(!x) return 0;
  r = o->ob_type->tp_as_mapping->mp_subscript(o, x);
  Py_DECREF(x);
  return r;
}

static int __pyx_mp_ass_subscript_7cgtypes_vec4(PyObject *o, PyObject *i, PyObject *v) {
  if (v) {
    return __pyx_f_7cgtypes_4vec4___setitem__(o, i, v);
  }
  else {
    PyErr_Format(PyExc_NotImplementedError,
      "Subscript deletion not supported by %s", o->ob_type->tp_name);
    return -1;
  }
}

static PyObject *__pyx_tp_getattro_7cgtypes_vec4(PyObject *o, PyObject *n) {
  PyObject *v = PyObject_GenericGetAttr(o, n);
  if (!v && PyErr_ExceptionMatches(PyExc_AttributeError)) {
    PyErr_Clear();
    v = __pyx_f_7cgtypes_4vec4___getattr__(o, n);
  }
  return v;
}

static int __pyx_tp_setattro_7cgtypes_vec4(PyObject *o, PyObject *n, PyObject *v) {
  if (v) {
    return __pyx_f_7cgtypes_4vec4___setattr__(o, n, v);
  }
  else {
    return PyObject_GenericSetAttr(o, n, 0);
  }
}

static struct PyMethodDef __pyx_methods_7cgtypes_vec4[] = {
  {"__reduce__", (PyCFunction)__pyx_f_7cgtypes_4vec4___reduce__, METH_VARARGS|METH_KEYWORDS, 0},
  {"length", (PyCFunction)__pyx_f_7cgtypes_4vec4_length, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4vec4_length},
  {"normalize", (PyCFunction)__pyx_f_7cgtypes_4vec4_normalize, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4vec4_normalize},
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_vec4 = {
  __pyx_f_7cgtypes_4vec4___add__, /*nb_add*/
  __pyx_f_7cgtypes_4vec4___sub__, /*nb_subtract*/
  __pyx_f_7cgtypes_4vec4___mul__, /*nb_multiply*/
  __pyx_f_7cgtypes_4vec4___div__, /*nb_divide*/
  __pyx_f_7cgtypes_4vec4___mod__, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  __pyx_f_7cgtypes_4vec4___neg__, /*nb_negative*/
  __pyx_f_7cgtypes_4vec4___pos__, /*nb_positive*/
  __pyx_f_7cgtypes_4vec4___abs__, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  __pyx_f_7cgtypes_4vec4___iadd__, /*nb_inplace_add*/
  __pyx_f_7cgtypes_4vec4___isub__, /*nb_inplace_subtract*/
  __pyx_f_7cgtypes_4vec4___imul__, /*nb_inplace_multiply*/
  __pyx_f_7cgtypes_4vec4___idiv__, /*nb_inplace_divide*/
  __pyx_f_7cgtypes_4vec4___imod__, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_vec4 = {
  __pyx_f_7cgtypes_4vec4___len__, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  __pyx_sq_item_7cgtypes_vec4, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_vec4 = {
  __pyx_f_7cgtypes_4vec4___len__, /*mp_length*/
  __pyx_f_7cgtypes_4vec4___getitem__, /*mp_subscript*/
  __pyx_mp_ass_subscript_7cgtypes_vec4, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_vec4 = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_7cgtypes_vec4 = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "cgtypes.vec4", /*tp_name*/
  sizeof(struct __pyx_obj_7cgtypes_vec4), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7cgtypes_vec4, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  __pyx_f_7cgtypes_4vec4___repr__, /*tp_repr*/
  &__pyx_tp_as_number_vec4, /*tp_as_number*/
  &__pyx_tp_as_sequence_vec4, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_vec4, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  __pyx_f_7cgtypes_4vec4___str__, /*tp_str*/
  __pyx_tp_getattro_7cgtypes_vec4, /*tp_getattro*/
  __pyx_tp_setattro_7cgtypes_vec4, /*tp_setattro*/
  &__pyx_tp_as_buffer_vec4, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
  "Four-dimensional vector.\n\n    This class represents a 4D vector.\n    ", /*tp_doc*/
  __pyx_tp_traverse_7cgtypes_vec4, /*tp_traverse*/
  __pyx_tp_clear_7cgtypes_vec4, /*tp_clear*/
  __pyx_f_7cgtypes_4vec4___richcmp__, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  __pyx_f_7cgtypes_4vec4___iter__, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7cgtypes_vec4, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7cgtypes_vec4, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_7cgtypes_mat3(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  struct __pyx_obj_7cgtypes_mat3 *p = (struct __pyx_obj_7cgtypes_mat3 *)o;
  if (__pyx_f_7cgtypes_4mat3___new__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_7cgtypes_mat3(PyObject *o) {
  struct __pyx_obj_7cgtypes_mat3 *p = (struct __pyx_obj_7cgtypes_mat3 *)o;
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_7cgtypes_mat3(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7cgtypes_mat3 *p = (struct __pyx_obj_7cgtypes_mat3 *)o;
  return 0;
}

static int __pyx_tp_clear_7cgtypes_mat3(PyObject *o) {
  struct __pyx_obj_7cgtypes_mat3 *p = (struct __pyx_obj_7cgtypes_mat3 *)o;
  return 0;
}
static PyObject *__pyx_sq_item_7cgtypes_mat3(PyObject *o, int i) {
  PyObject *r;
  PyObject *x = PyInt_FromLong(i); if(!x) return 0;
  r = o->ob_type->tp_as_mapping->mp_subscript(o, x);
  Py_DECREF(x);
  return r;
}

static int __pyx_mp_ass_subscript_7cgtypes_mat3(PyObject *o, PyObject *i, PyObject *v) {
  if (v) {
    return __pyx_f_7cgtypes_4mat3___setitem__(o, i, v);
  }
  else {
    PyErr_Format(PyExc_NotImplementedError,
      "Subscript deletion not supported by %s", o->ob_type->tp_name);
    return -1;
  }
}

static struct PyMethodDef __pyx_methods_7cgtypes_mat3[] = {
  {"__reduce__", (PyCFunction)__pyx_f_7cgtypes_4mat3___reduce__, METH_VARARGS|METH_KEYWORDS, 0},
  {"getRow", (PyCFunction)__pyx_f_7cgtypes_4mat3_getRow, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat3_getRow},
  {"setRow", (PyCFunction)__pyx_f_7cgtypes_4mat3_setRow, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat3_setRow},
  {"getColumn", (PyCFunction)__pyx_f_7cgtypes_4mat3_getColumn, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat3_getColumn},
  {"setColumn", (PyCFunction)__pyx_f_7cgtypes_4mat3_setColumn, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat3_setColumn},
  {"toList", (PyCFunction)__pyx_f_7cgtypes_4mat3_toList, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat3_toList},
  {"identity", (PyCFunction)__pyx_f_7cgtypes_4mat3_identity, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat3_identity},
  {"transpose", (PyCFunction)__pyx_f_7cgtypes_4mat3_transpose, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat3_transpose},
  {"determinant", (PyCFunction)__pyx_f_7cgtypes_4mat3_determinant, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat3_determinant},
  {"inverse", (PyCFunction)__pyx_f_7cgtypes_4mat3_inverse, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat3_inverse},
  {"scaling", (PyCFunction)__pyx_f_7cgtypes_4mat3_scaling, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat3_scaling},
  {"rotation", (PyCFunction)__pyx_f_7cgtypes_4mat3_rotation, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat3_rotation},
  {"scale", (PyCFunction)__pyx_f_7cgtypes_4mat3_scale, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat3_scale},
  {"rotate", (PyCFunction)__pyx_f_7cgtypes_4mat3_rotate, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat3_rotate},
  {"ortho", (PyCFunction)__pyx_f_7cgtypes_4mat3_ortho, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat3_ortho},
  {"decompose", (PyCFunction)__pyx_f_7cgtypes_4mat3_decompose, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat3_decompose},
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_mat3 = {
  __pyx_f_7cgtypes_4mat3___add__, /*nb_add*/
  __pyx_f_7cgtypes_4mat3___sub__, /*nb_subtract*/
  __pyx_f_7cgtypes_4mat3___mul__, /*nb_multiply*/
  __pyx_f_7cgtypes_4mat3___div__, /*nb_divide*/
  __pyx_f_7cgtypes_4mat3___mod__, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  __pyx_f_7cgtypes_4mat3___neg__, /*nb_negative*/
  __pyx_f_7cgtypes_4mat3___pos__, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  __pyx_f_7cgtypes_4mat3___iadd__, /*nb_inplace_add*/
  __pyx_f_7cgtypes_4mat3___isub__, /*nb_inplace_subtract*/
  __pyx_f_7cgtypes_4mat3___imul__, /*nb_inplace_multiply*/
  __pyx_f_7cgtypes_4mat3___idiv__, /*nb_inplace_divide*/
  __pyx_f_7cgtypes_4mat3___imod__, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_mat3 = {
  __pyx_f_7cgtypes_4mat3___len__, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  __pyx_sq_item_7cgtypes_mat3, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_mat3 = {
  __pyx_f_7cgtypes_4mat3___len__, /*mp_length*/
  __pyx_f_7cgtypes_4mat3___getitem__, /*mp_subscript*/
  __pyx_mp_ass_subscript_7cgtypes_mat3, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_mat3 = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_7cgtypes_mat3 = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "cgtypes.mat3", /*tp_name*/
  sizeof(struct __pyx_obj_7cgtypes_mat3), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7cgtypes_mat3, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  __pyx_f_7cgtypes_4mat3___repr__, /*tp_repr*/
  &__pyx_tp_as_number_mat3, /*tp_as_number*/
  &__pyx_tp_as_sequence_mat3, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_mat3, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  __pyx_f_7cgtypes_4mat3___str__, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_mat3, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_7cgtypes_mat3, /*tp_traverse*/
  __pyx_tp_clear_7cgtypes_mat3, /*tp_clear*/
  __pyx_f_7cgtypes_4mat3___richcmp__, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  __pyx_f_7cgtypes_4mat3___iter__, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7cgtypes_mat3, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7cgtypes_mat3, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_7cgtypes_mat4(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  struct __pyx_obj_7cgtypes_mat4 *p = (struct __pyx_obj_7cgtypes_mat4 *)o;
  if (__pyx_f_7cgtypes_4mat4___new__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_7cgtypes_mat4(PyObject *o) {
  struct __pyx_obj_7cgtypes_mat4 *p = (struct __pyx_obj_7cgtypes_mat4 *)o;
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_7cgtypes_mat4(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7cgtypes_mat4 *p = (struct __pyx_obj_7cgtypes_mat4 *)o;
  return 0;
}

static int __pyx_tp_clear_7cgtypes_mat4(PyObject *o) {
  struct __pyx_obj_7cgtypes_mat4 *p = (struct __pyx_obj_7cgtypes_mat4 *)o;
  return 0;
}
static PyObject *__pyx_sq_item_7cgtypes_mat4(PyObject *o, int i) {
  PyObject *r;
  PyObject *x = PyInt_FromLong(i); if(!x) return 0;
  r = o->ob_type->tp_as_mapping->mp_subscript(o, x);
  Py_DECREF(x);
  return r;
}

static int __pyx_mp_ass_subscript_7cgtypes_mat4(PyObject *o, PyObject *i, PyObject *v) {
  if (v) {
    return __pyx_f_7cgtypes_4mat4___setitem__(o, i, v);
  }
  else {
    PyErr_Format(PyExc_NotImplementedError,
      "Subscript deletion not supported by %s", o->ob_type->tp_name);
    return -1;
  }
}

static struct PyMethodDef __pyx_methods_7cgtypes_mat4[] = {
  {"__reduce__", (PyCFunction)__pyx_f_7cgtypes_4mat4___reduce__, METH_VARARGS|METH_KEYWORDS, 0},
  {"getRow", (PyCFunction)__pyx_f_7cgtypes_4mat4_getRow, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_getRow},
  {"setRow", (PyCFunction)__pyx_f_7cgtypes_4mat4_setRow, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_setRow},
  {"getColumn", (PyCFunction)__pyx_f_7cgtypes_4mat4_getColumn, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_getColumn},
  {"setColumn", (PyCFunction)__pyx_f_7cgtypes_4mat4_setColumn, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_setColumn},
  {"toList", (PyCFunction)__pyx_f_7cgtypes_4mat4_toList, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_toList},
  {"identity", (PyCFunction)__pyx_f_7cgtypes_4mat4_identity, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_identity},
  {"transpose", (PyCFunction)__pyx_f_7cgtypes_4mat4_transpose, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_transpose},
  {"determinant", (PyCFunction)__pyx_f_7cgtypes_4mat4_determinant, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_determinant},
  {"_submat", (PyCFunction)__pyx_f_7cgtypes_4mat4__submat, METH_VARARGS|METH_KEYWORDS, 0},
  {"inverse", (PyCFunction)__pyx_f_7cgtypes_4mat4_inverse, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_inverse},
  {"translation", (PyCFunction)__pyx_f_7cgtypes_4mat4_translation, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_translation},
  {"scaling", (PyCFunction)__pyx_f_7cgtypes_4mat4_scaling, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_scaling},
  {"rotation", (PyCFunction)__pyx_f_7cgtypes_4mat4_rotation, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_rotation},
  {"translate", (PyCFunction)__pyx_f_7cgtypes_4mat4_translate, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_translate},
  {"scale", (PyCFunction)__pyx_f_7cgtypes_4mat4_scale, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_scale},
  {"rotate", (PyCFunction)__pyx_f_7cgtypes_4mat4_rotate, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_rotate},
  {"orthographic", (PyCFunction)__pyx_f_7cgtypes_4mat4_orthographic, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_orthographic},
  {"frustum", (PyCFunction)__pyx_f_7cgtypes_4mat4_frustum, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_frustum},
  {"perspective", (PyCFunction)__pyx_f_7cgtypes_4mat4_perspective, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_perspective},
  {"lookAt", (PyCFunction)__pyx_f_7cgtypes_4mat4_lookAt, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_lookAt},
  {"ortho", (PyCFunction)__pyx_f_7cgtypes_4mat4_ortho, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_ortho},
  {"decompose", (PyCFunction)__pyx_f_7cgtypes_4mat4_decompose, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_decompose},
  {"getMat3", (PyCFunction)__pyx_f_7cgtypes_4mat4_getMat3, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_getMat3},
  {"setMat3", (PyCFunction)__pyx_f_7cgtypes_4mat4_setMat3, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4mat4_setMat3},
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_mat4 = {
  __pyx_f_7cgtypes_4mat4___add__, /*nb_add*/
  __pyx_f_7cgtypes_4mat4___sub__, /*nb_subtract*/
  __pyx_f_7cgtypes_4mat4___mul__, /*nb_multiply*/
  __pyx_f_7cgtypes_4mat4___div__, /*nb_divide*/
  __pyx_f_7cgtypes_4mat4___mod__, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  __pyx_f_7cgtypes_4mat4___neg__, /*nb_negative*/
  __pyx_f_7cgtypes_4mat4___pos__, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  __pyx_f_7cgtypes_4mat4___iadd__, /*nb_inplace_add*/
  __pyx_f_7cgtypes_4mat4___isub__, /*nb_inplace_subtract*/
  __pyx_f_7cgtypes_4mat4___imul__, /*nb_inplace_multiply*/
  __pyx_f_7cgtypes_4mat4___idiv__, /*nb_inplace_divide*/
  __pyx_f_7cgtypes_4mat4___imod__, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_mat4 = {
  __pyx_f_7cgtypes_4mat4___len__, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  __pyx_sq_item_7cgtypes_mat4, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_mat4 = {
  __pyx_f_7cgtypes_4mat4___len__, /*mp_length*/
  __pyx_f_7cgtypes_4mat4___getitem__, /*mp_subscript*/
  __pyx_mp_ass_subscript_7cgtypes_mat4, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_mat4 = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_7cgtypes_mat4 = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "cgtypes.mat4", /*tp_name*/
  sizeof(struct __pyx_obj_7cgtypes_mat4), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7cgtypes_mat4, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  __pyx_f_7cgtypes_4mat4___repr__, /*tp_repr*/
  &__pyx_tp_as_number_mat4, /*tp_as_number*/
  &__pyx_tp_as_sequence_mat4, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_mat4, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  __pyx_f_7cgtypes_4mat4___str__, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_mat4, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_7cgtypes_mat4, /*tp_traverse*/
  __pyx_tp_clear_7cgtypes_mat4, /*tp_clear*/
  __pyx_f_7cgtypes_4mat4___richcmp__, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  __pyx_f_7cgtypes_4mat4___iter__, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7cgtypes_mat4, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7cgtypes_mat4, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_7cgtypes_vec3iter(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  struct __pyx_obj_7cgtypes_vec3iter *p = (struct __pyx_obj_7cgtypes_vec3iter *)o;
  p->v = Py_None; Py_INCREF(p->v);
  if (__pyx_f_7cgtypes_8vec3iter___new__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_7cgtypes_vec3iter(PyObject *o) {
  struct __pyx_obj_7cgtypes_vec3iter *p = (struct __pyx_obj_7cgtypes_vec3iter *)o;
  Py_XDECREF(p->v);
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_7cgtypes_vec3iter(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7cgtypes_vec3iter *p = (struct __pyx_obj_7cgtypes_vec3iter *)o;
  if (p->v) {
    e = (*v)(p->v, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7cgtypes_vec3iter(PyObject *o) {
  struct __pyx_obj_7cgtypes_vec3iter *p = (struct __pyx_obj_7cgtypes_vec3iter *)o;
  Py_XDECREF(p->v);
  p->v = Py_None; Py_INCREF(p->v);
  return 0;
}

static struct PyMethodDef __pyx_methods_7cgtypes_vec3iter[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_vec3iter = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_vec3iter = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_vec3iter = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_vec3iter = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_7cgtypes_vec3iter = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "cgtypes.vec3iter", /*tp_name*/
  sizeof(struct __pyx_obj_7cgtypes_vec3iter), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7cgtypes_vec3iter, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_vec3iter, /*tp_as_number*/
  &__pyx_tp_as_sequence_vec3iter, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_vec3iter, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_vec3iter, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  "vec3 iterator.", /*tp_doc*/
  __pyx_tp_traverse_7cgtypes_vec3iter, /*tp_traverse*/
  __pyx_tp_clear_7cgtypes_vec3iter, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  __pyx_f_7cgtypes_8vec3iter___iter__, /*tp_iter*/
  __pyx_f_7cgtypes_8vec3iter___next__, /*tp_iternext*/
  __pyx_methods_7cgtypes_vec3iter, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7cgtypes_vec3iter, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_7cgtypes_vec4iter(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  struct __pyx_obj_7cgtypes_vec4iter *p = (struct __pyx_obj_7cgtypes_vec4iter *)o;
  p->v = Py_None; Py_INCREF(p->v);
  if (__pyx_f_7cgtypes_8vec4iter___new__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_7cgtypes_vec4iter(PyObject *o) {
  struct __pyx_obj_7cgtypes_vec4iter *p = (struct __pyx_obj_7cgtypes_vec4iter *)o;
  Py_XDECREF(p->v);
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_7cgtypes_vec4iter(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7cgtypes_vec4iter *p = (struct __pyx_obj_7cgtypes_vec4iter *)o;
  if (p->v) {
    e = (*v)(p->v, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7cgtypes_vec4iter(PyObject *o) {
  struct __pyx_obj_7cgtypes_vec4iter *p = (struct __pyx_obj_7cgtypes_vec4iter *)o;
  Py_XDECREF(p->v);
  p->v = Py_None; Py_INCREF(p->v);
  return 0;
}

static struct PyMethodDef __pyx_methods_7cgtypes_vec4iter[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_vec4iter = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_vec4iter = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_vec4iter = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_vec4iter = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_7cgtypes_vec4iter = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "cgtypes.vec4iter", /*tp_name*/
  sizeof(struct __pyx_obj_7cgtypes_vec4iter), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7cgtypes_vec4iter, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_vec4iter, /*tp_as_number*/
  &__pyx_tp_as_sequence_vec4iter, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_vec4iter, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_vec4iter, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  "vec4 iterator.", /*tp_doc*/
  __pyx_tp_traverse_7cgtypes_vec4iter, /*tp_traverse*/
  __pyx_tp_clear_7cgtypes_vec4iter, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  __pyx_f_7cgtypes_8vec4iter___iter__, /*tp_iter*/
  __pyx_f_7cgtypes_8vec4iter___next__, /*tp_iternext*/
  __pyx_methods_7cgtypes_vec4iter, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7cgtypes_vec4iter, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_7cgtypes_mat3iter(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  struct __pyx_obj_7cgtypes_mat3iter *p = (struct __pyx_obj_7cgtypes_mat3iter *)o;
  p->m = Py_None; Py_INCREF(p->m);
  if (__pyx_f_7cgtypes_8mat3iter___new__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_7cgtypes_mat3iter(PyObject *o) {
  struct __pyx_obj_7cgtypes_mat3iter *p = (struct __pyx_obj_7cgtypes_mat3iter *)o;
  Py_XDECREF(p->m);
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_7cgtypes_mat3iter(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7cgtypes_mat3iter *p = (struct __pyx_obj_7cgtypes_mat3iter *)o;
  if (p->m) {
    e = (*v)(p->m, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7cgtypes_mat3iter(PyObject *o) {
  struct __pyx_obj_7cgtypes_mat3iter *p = (struct __pyx_obj_7cgtypes_mat3iter *)o;
  Py_XDECREF(p->m);
  p->m = Py_None; Py_INCREF(p->m);
  return 0;
}

static struct PyMethodDef __pyx_methods_7cgtypes_mat3iter[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_mat3iter = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_mat3iter = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_mat3iter = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_mat3iter = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_7cgtypes_mat3iter = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "cgtypes.mat3iter", /*tp_name*/
  sizeof(struct __pyx_obj_7cgtypes_mat3iter), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7cgtypes_mat3iter, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_mat3iter, /*tp_as_number*/
  &__pyx_tp_as_sequence_mat3iter, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_mat3iter, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_mat3iter, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  "mat iterator.", /*tp_doc*/
  __pyx_tp_traverse_7cgtypes_mat3iter, /*tp_traverse*/
  __pyx_tp_clear_7cgtypes_mat3iter, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  __pyx_f_7cgtypes_8mat3iter___iter__, /*tp_iter*/
  __pyx_f_7cgtypes_8mat3iter___next__, /*tp_iternext*/
  __pyx_methods_7cgtypes_mat3iter, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7cgtypes_mat3iter, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_7cgtypes_mat4iter(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  struct __pyx_obj_7cgtypes_mat4iter *p = (struct __pyx_obj_7cgtypes_mat4iter *)o;
  p->m = Py_None; Py_INCREF(p->m);
  if (__pyx_f_7cgtypes_8mat4iter___new__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_7cgtypes_mat4iter(PyObject *o) {
  struct __pyx_obj_7cgtypes_mat4iter *p = (struct __pyx_obj_7cgtypes_mat4iter *)o;
  Py_XDECREF(p->m);
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_7cgtypes_mat4iter(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7cgtypes_mat4iter *p = (struct __pyx_obj_7cgtypes_mat4iter *)o;
  if (p->m) {
    e = (*v)(p->m, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7cgtypes_mat4iter(PyObject *o) {
  struct __pyx_obj_7cgtypes_mat4iter *p = (struct __pyx_obj_7cgtypes_mat4iter *)o;
  Py_XDECREF(p->m);
  p->m = Py_None; Py_INCREF(p->m);
  return 0;
}

static struct PyMethodDef __pyx_methods_7cgtypes_mat4iter[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_mat4iter = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_mat4iter = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_mat4iter = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_mat4iter = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_7cgtypes_mat4iter = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "cgtypes.mat4iter", /*tp_name*/
  sizeof(struct __pyx_obj_7cgtypes_mat4iter), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7cgtypes_mat4iter, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_mat4iter, /*tp_as_number*/
  &__pyx_tp_as_sequence_mat4iter, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_mat4iter, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_mat4iter, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  "mat iterator.", /*tp_doc*/
  __pyx_tp_traverse_7cgtypes_mat4iter, /*tp_traverse*/
  __pyx_tp_clear_7cgtypes_mat4iter, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  __pyx_f_7cgtypes_8mat4iter___iter__, /*tp_iter*/
  __pyx_f_7cgtypes_8mat4iter___next__, /*tp_iternext*/
  __pyx_methods_7cgtypes_mat4iter, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7cgtypes_mat4iter, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_7cgtypes_quat(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  struct __pyx_obj_7cgtypes_quat *p = (struct __pyx_obj_7cgtypes_quat *)o;
  if (__pyx_f_7cgtypes_4quat___new__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_7cgtypes_quat(PyObject *o) {
  struct __pyx_obj_7cgtypes_quat *p = (struct __pyx_obj_7cgtypes_quat *)o;
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_7cgtypes_quat(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7cgtypes_quat *p = (struct __pyx_obj_7cgtypes_quat *)o;
  return 0;
}

static int __pyx_tp_clear_7cgtypes_quat(PyObject *o) {
  struct __pyx_obj_7cgtypes_quat *p = (struct __pyx_obj_7cgtypes_quat *)o;
  return 0;
}

static PyObject *__pyx_tp_getattro_7cgtypes_quat(PyObject *o, PyObject *n) {
  PyObject *v = PyObject_GenericGetAttr(o, n);
  if (!v && PyErr_ExceptionMatches(PyExc_AttributeError)) {
    PyErr_Clear();
    v = __pyx_f_7cgtypes_4quat___getattr__(o, n);
  }
  return v;
}

static int __pyx_tp_setattro_7cgtypes_quat(PyObject *o, PyObject *n, PyObject *v) {
  if (v) {
    return __pyx_f_7cgtypes_4quat___setattr__(o, n, v);
  }
  else {
    return PyObject_GenericSetAttr(o, n, 0);
  }
}

static struct PyMethodDef __pyx_methods_7cgtypes_quat[] = {
  {"__reduce__", (PyCFunction)__pyx_f_7cgtypes_4quat___reduce__, METH_VARARGS|METH_KEYWORDS, 0},
  {"conjugate", (PyCFunction)__pyx_f_7cgtypes_4quat_conjugate, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4quat_conjugate},
  {"normalize", (PyCFunction)__pyx_f_7cgtypes_4quat_normalize, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4quat_normalize},
  {"inverse", (PyCFunction)__pyx_f_7cgtypes_4quat_inverse, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4quat_inverse},
  {"toAngleAxis", (PyCFunction)__pyx_f_7cgtypes_4quat_toAngleAxis, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4quat_toAngleAxis},
  {"fromAngleAxis", (PyCFunction)__pyx_f_7cgtypes_4quat_fromAngleAxis, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4quat_fromAngleAxis},
  {"toMat3", (PyCFunction)__pyx_f_7cgtypes_4quat_toMat3, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4quat_toMat3},
  {"toMat4", (PyCFunction)__pyx_f_7cgtypes_4quat_toMat4, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4quat_toMat4},
  {"fromMat", (PyCFunction)__pyx_f_7cgtypes_4quat_fromMat, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4quat_fromMat},
  {"dot", (PyCFunction)__pyx_f_7cgtypes_4quat_dot, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4quat_dot},
  {"log", (PyCFunction)__pyx_f_7cgtypes_4quat_log, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4quat_log},
  {"exp", (PyCFunction)__pyx_f_7cgtypes_4quat_exp, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_4quat_exp},
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_quat = {
  __pyx_f_7cgtypes_4quat___add__, /*nb_add*/
  __pyx_f_7cgtypes_4quat___sub__, /*nb_subtract*/
  __pyx_f_7cgtypes_4quat___mul__, /*nb_multiply*/
  __pyx_f_7cgtypes_4quat___div__, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  __pyx_f_7cgtypes_4quat___pow__, /*nb_power*/
  __pyx_f_7cgtypes_4quat___neg__, /*nb_negative*/
  __pyx_f_7cgtypes_4quat___pos__, /*nb_positive*/
  __pyx_f_7cgtypes_4quat___abs__, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  __pyx_f_7cgtypes_4quat___iadd__, /*nb_inplace_add*/
  __pyx_f_7cgtypes_4quat___isub__, /*nb_inplace_subtract*/
  __pyx_f_7cgtypes_4quat___imul__, /*nb_inplace_multiply*/
  __pyx_f_7cgtypes_4quat___idiv__, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_quat = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_quat = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_quat = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_7cgtypes_quat = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "cgtypes.quat", /*tp_name*/
  sizeof(struct __pyx_obj_7cgtypes_quat), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7cgtypes_quat, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  __pyx_f_7cgtypes_4quat___repr__, /*tp_repr*/
  &__pyx_tp_as_number_quat, /*tp_as_number*/
  &__pyx_tp_as_sequence_quat, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_quat, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  __pyx_f_7cgtypes_4quat___str__, /*tp_str*/
  __pyx_tp_getattro_7cgtypes_quat, /*tp_getattro*/
  __pyx_tp_setattro_7cgtypes_quat, /*tp_setattro*/
  &__pyx_tp_as_buffer_quat, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
  "Quaternion class.\n\n    Quaternions are an extension to complex numbers and can be used\n    to store rotations. They are composed of four floats which can be\n    seen as an angle and an axis of rotation.\n    ", /*tp_doc*/
  __pyx_tp_traverse_7cgtypes_quat, /*tp_traverse*/
  __pyx_tp_clear_7cgtypes_quat, /*tp_clear*/
  __pyx_f_7cgtypes_4quat___richcmp__, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7cgtypes_quat, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7cgtypes_quat, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static struct PyMethodDef __pyx_methods[] = {
  {"setEpsilon", (PyCFunction)__pyx_f_7cgtypes_setEpsilon, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_setEpsilon},
  {"getEpsilon", (PyCFunction)__pyx_f_7cgtypes_getEpsilon, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_getEpsilon},
  {"slerp", (PyCFunction)__pyx_f_7cgtypes_slerp, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_slerp},
  {"squad", (PyCFunction)__pyx_f_7cgtypes_squad, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7cgtypes_squad},
  {"_vec3construct", (PyCFunction)__pyx_f_7cgtypes__vec3construct, METH_VARARGS|METH_KEYWORDS, 0},
  {"_vec4construct", (PyCFunction)__pyx_f_7cgtypes__vec4construct, METH_VARARGS|METH_KEYWORDS, 0},
  {"_mat3construct", (PyCFunction)__pyx_f_7cgtypes__mat3construct, METH_VARARGS|METH_KEYWORDS, 0},
  {"_mat4construct", (PyCFunction)__pyx_f_7cgtypes__mat4construct, METH_VARARGS|METH_KEYWORDS, 0},
  {"_quatconstruct", (PyCFunction)__pyx_f_7cgtypes__quatconstruct, METH_VARARGS|METH_KEYWORDS, 0},
  {0, 0, 0, 0}
};

DL_EXPORT(void) initcgtypes(void); /*proto*/
DL_EXPORT(void) initcgtypes(void) {
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  __pyx_m = Py_InitModule4("cgtypes", __pyx_methods, 0, 0, PYTHON_API_VERSION);
  if (!__pyx_m) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 13; goto __pyx_L1;};
  __pyx_b = PyImport_AddModule("__builtin__");
  if (!__pyx_b) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 13; goto __pyx_L1;};
  if (PyObject_SetAttrString(__pyx_m, "__builtins__", __pyx_b) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 13; goto __pyx_L1;};
  if (__Pyx_InternStrings(__pyx_intern_tab) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 13; goto __pyx_L1;};
  if (__Pyx_InitStrings(__pyx_string_tab) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 13; goto __pyx_L1;};
  if (PyType_Ready(&__pyx_type_7cgtypes_vec3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 96; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "vec3", (PyObject *)&__pyx_type_7cgtypes_vec3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 96; goto __pyx_L1;}
  __pyx_ptype_7cgtypes_vec3 = &__pyx_type_7cgtypes_vec3;
  if (PyType_Ready(&__pyx_type_7cgtypes_vec4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 831; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "vec4", (PyObject *)&__pyx_type_7cgtypes_vec4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 831; goto __pyx_L1;}
  __pyx_ptype_7cgtypes_vec4 = &__pyx_type_7cgtypes_vec4;
  if (PyType_Ready(&__pyx_type_7cgtypes_mat3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1447; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "mat3", (PyObject *)&__pyx_type_7cgtypes_mat3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1447; goto __pyx_L1;}
  __pyx_ptype_7cgtypes_mat3 = &__pyx_type_7cgtypes_mat3;
  if (PyType_Ready(&__pyx_type_7cgtypes_mat4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2569; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "mat4", (PyObject *)&__pyx_type_7cgtypes_mat4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2569; goto __pyx_L1;}
  __pyx_ptype_7cgtypes_mat4 = &__pyx_type_7cgtypes_mat4;
  __pyx_type_7cgtypes_vec3iter.tp_free = _PyObject_GC_Del;
  if (PyType_Ready(&__pyx_type_7cgtypes_vec3iter) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 69; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "vec3iter", (PyObject *)&__pyx_type_7cgtypes_vec3iter) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 69; goto __pyx_L1;}
  __pyx_ptype_7cgtypes_vec3iter = &__pyx_type_7cgtypes_vec3iter;
  __pyx_type_7cgtypes_vec4iter.tp_free = _PyObject_GC_Del;
  if (PyType_Ready(&__pyx_type_7cgtypes_vec4iter) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 802; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "vec4iter", (PyObject *)&__pyx_type_7cgtypes_vec4iter) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 802; goto __pyx_L1;}
  __pyx_ptype_7cgtypes_vec4iter = &__pyx_type_7cgtypes_vec4iter;
  __pyx_type_7cgtypes_mat3iter.tp_free = _PyObject_GC_Del;
  if (PyType_Ready(&__pyx_type_7cgtypes_mat3iter) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1421; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "mat3iter", (PyObject *)&__pyx_type_7cgtypes_mat3iter) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1421; goto __pyx_L1;}
  __pyx_ptype_7cgtypes_mat3iter = &__pyx_type_7cgtypes_mat3iter;
  __pyx_type_7cgtypes_mat4iter.tp_free = _PyObject_GC_Del;
  if (PyType_Ready(&__pyx_type_7cgtypes_mat4iter) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2506; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "mat4iter", (PyObject *)&__pyx_type_7cgtypes_mat4iter) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2506; goto __pyx_L1;}
  __pyx_ptype_7cgtypes_mat4iter = &__pyx_type_7cgtypes_mat4iter;
  if (PyType_Ready(&__pyx_type_7cgtypes_quat) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4371; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "quat", (PyObject *)&__pyx_type_7cgtypes_quat) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4371; goto __pyx_L1;}
  __pyx_ptype_7cgtypes_quat = &__pyx_type_7cgtypes_quat;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":26 */
  __pyx_v_7cgtypes_eps = 1E-16;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":2214 */
  __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2214; goto __pyx_L1;}
  __pyx_k1 = __pyx_1;
  __pyx_1 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":3668 */
  __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 3668; goto __pyx_L1;}
  __pyx_k2 = __pyx_2;
  __pyx_2 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":4178 */
  __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4178; goto __pyx_L1;}
  __pyx_4 = PyInt_FromLong(0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4178; goto __pyx_L1;}
  __pyx_5 = PyInt_FromLong(1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4178; goto __pyx_L1;}
  __pyx_6 = PyTuple_New(3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 4178; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_6, 0, __pyx_3);
  PyTuple_SET_ITEM(__pyx_6, 1, __pyx_4);
  PyTuple_SET_ITEM(__pyx_6, 2, __pyx_5);
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_5 = 0;
  __pyx_k3 = __pyx_6;
  __pyx_6 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5079 */
  __pyx_3 = __Pyx_Import(__pyx_n_copy_reg, 0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5079; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_copy_reg, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5079; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5096 */
  __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_copy_reg); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5096; goto __pyx_L1;}
  __pyx_5 = PyObject_GetAttr(__pyx_4, __pyx_n_constructor); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5096; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n__vec3construct); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5096; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5096; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_5, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5096; goto __pyx_L1;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5097 */
  __pyx_5 = __Pyx_GetName(__pyx_m, __pyx_n_copy_reg); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5097; goto __pyx_L1;}
  __pyx_4 = PyObject_GetAttr(__pyx_5, __pyx_n_constructor); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5097; goto __pyx_L1;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n__vec4construct); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5097; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5097; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_4, __pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5097; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5098 */
  __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_copy_reg); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5098; goto __pyx_L1;}
  __pyx_5 = PyObject_GetAttr(__pyx_4, __pyx_n_constructor); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5098; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n__mat3construct); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5098; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5098; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_5, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5098; goto __pyx_L1;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5099 */
  __pyx_5 = __Pyx_GetName(__pyx_m, __pyx_n_copy_reg); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5099; goto __pyx_L1;}
  __pyx_4 = PyObject_GetAttr(__pyx_5, __pyx_n_constructor); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5099; goto __pyx_L1;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n__mat4construct); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5099; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5099; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_4, __pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5099; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "D:\Sources\Python\cgkit\cgtypes.pyx":5100 */
  __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_copy_reg); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5100; goto __pyx_L1;}
  __pyx_5 = PyObject_GetAttr(__pyx_4, __pyx_n_constructor); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5100; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n__quatconstruct); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5100; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5100; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_5, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5100; goto __pyx_L1;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  return;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("cgtypes");
}

static char *__pyx_filenames[] = {
  "cgtypes.pyx",
};
statichere char **__pyx_f = __pyx_filenames;

/* Runtime support code */

static int __Pyx_GetStarArgs(
    PyObject **args, 
    PyObject **kwds,
    char *kwd_list[], 
    int nargs,
    PyObject **args2, 
    PyObject **kwds2)
{
    PyObject *x = 0, *args1 = 0, *kwds1 = 0;
    
    if (args2)
        *args2 = 0;
    if (kwds2)
        *kwds2 = 0;
    
    if (args2) {
        args1 = PyTuple_GetSlice(*args, 0, nargs);
        if (!args1)
            goto bad;
        *args2 = PyTuple_GetSlice(*args, nargs, PyTuple_Size(*args));
        if (!*args2)
            goto bad;
    }
    else {
        args1 = *args;
        Py_INCREF(args1);
    }
    
    if (kwds2) {
        if (*kwds) {
            char **p;
            kwds1 = PyDict_New();
            if (!kwds)
                goto bad;
            *kwds2 = PyDict_Copy(*kwds);
            if (!*kwds2)
                goto bad;
            for (p = kwd_list; *p; p++) {
                x = PyDict_GetItemString(*kwds, *p);
                if (x) {
                    if (PyDict_SetItemString(kwds1, *p, x) < 0)
                        goto bad;
                    if (PyDict_DelItemString(*kwds2, *p) < 0)
                        goto bad;
                }
            }
        }
        else {
            *kwds2 = PyDict_New();
            if (!*kwds2)
                goto bad;
        }
    }
    else {
        kwds1 = *kwds;
        Py_XINCREF(kwds1);
    }
    
    *args = args1;
    *kwds = kwds1;
    return 0;
bad:
    Py_XDECREF(args1);
    Py_XDECREF(kwds1);
    if (*args2)
        Py_XDECREF(*args2);
    if (*kwds2)
        Py_XDECREF(*kwds2);
    return -1;
}

static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed, char *name) {
    if (!type) {
        PyErr_Format(PyExc_SystemError, "Missing type object");
        return 0;
    }
    if ((none_allowed && obj == Py_None) || PyObject_TypeCheck(obj, type))
        return 1;
    PyErr_Format(PyExc_TypeError,
        "Argument '%s' has incorrect type (expected %s, got %s)",
        name, type->tp_name, obj->ob_type->tp_name);
    return 0;
}

static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list) {
    PyObject *__import__ = 0;
    PyObject *empty_list = 0;
    PyObject *module = 0;
    PyObject *global_dict = 0;
    PyObject *empty_dict = 0;
    PyObject *list;
    __import__ = PyObject_GetAttrString(__pyx_b, "__import__");
    if (!__import__)
        goto bad;
    if (from_list)
        list = from_list;
    else {
        empty_list = PyList_New(0);
        if (!empty_list)
            goto bad;
        list = empty_list;
    }
    global_dict = PyModule_GetDict(__pyx_m);
    if (!global_dict)
        goto bad;
    empty_dict = PyDict_New();
    if (!empty_dict)
        goto bad;
    module = PyObject_CallFunction(__import__, "OOOO",
        name, global_dict, empty_dict, list);
bad:
    Py_XDECREF(empty_list);
    Py_XDECREF(__import__);
    Py_XDECREF(empty_dict);
    return module;
}

static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name) {
    PyObject *result;
    result = PyObject_GetAttr(dict, name);
    if (!result)
        PyErr_SetObject(PyExc_NameError, name);
    return result;
}

static void __Pyx_WriteUnraisable(char *name) {
    PyObject *old_exc, *old_val, *old_tb;
    PyObject *ctx;
    PyErr_Fetch(&old_exc, &old_val, &old_tb);
    ctx = PyString_FromString(name);
    PyErr_Restore(old_exc, old_val, old_tb);
    if (!ctx)
        ctx = Py_None;
    PyErr_WriteUnraisable(ctx);
}

static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb) {
    Py_XINCREF(type);
    Py_XINCREF(value);
    Py_XINCREF(tb);
    /* First, check the traceback argument, replacing None with NULL. */
    if (tb == Py_None) {
        Py_DECREF(tb);
        tb = 0;
    }
    else if (tb != NULL && !PyTraceBack_Check(tb)) {
        PyErr_SetString(PyExc_TypeError,
            "raise: arg 3 must be a traceback or None");
        goto raise_error;
    }
    /* Next, replace a missing value with None */
    if (value == NULL) {
        value = Py_None;
        Py_INCREF(value);
    }
    /* Next, repeatedly, replace a tuple exception with its first item */
    while (PyTuple_Check(type) && PyTuple_Size(type) > 0) {
        PyObject *tmp = type;
        type = PyTuple_GET_ITEM(type, 0);
        Py_INCREF(type);
        Py_DECREF(tmp);
    }
    if (PyString_Check(type))
        ;
    else if (PyClass_Check(type))
        ; /*PyErr_NormalizeException(&type, &value, &tb);*/
    else if (PyInstance_Check(type)) {
        /* Raising an instance.  The value should be a dummy. */
        if (value != Py_None) {
            PyErr_SetString(PyExc_TypeError,
              "instance exception may not have a separate value");
            goto raise_error;
        }
        else {
            /* Normalize to raise <class>, <instance> */
            Py_DECREF(value);
            value = type;
            type = (PyObject*) ((PyInstanceObject*)type)->in_class;
            Py_INCREF(type);
        }
    }
    else {
        /* Not something you can raise.  You get an exception
           anyway, just not what you specified :-) */
        PyErr_Format(PyExc_TypeError,
                 "exceptions must be strings, classes, or "
                 "instances, not %s", type->ob_type->tp_name);
        goto raise_error;
    }
    PyErr_Restore(type, value, tb);
    return;
raise_error:
    Py_XDECREF(value);
    Py_XDECREF(type);
    Py_XDECREF(tb);
    return;
}

static int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type) {
    if (!type) {
        PyErr_Format(PyExc_SystemError, "Missing type object");
        return 0;
    }
    if (obj == Py_None || PyObject_TypeCheck(obj, type))
        return 1;
    PyErr_Format(PyExc_TypeError, "Cannot convert %s to %s",
        obj->ob_type->tp_name, type->tp_name);
    return 0;
}

static PyObject *__Pyx_GetExcValue(void) {
    PyObject *type = 0, *value = 0, *tb = 0;
    PyObject *result = 0;
    PyThreadState *tstate = PyThreadState_Get();
    PyErr_Fetch(&type, &value, &tb);
    PyErr_NormalizeException(&type, &value, &tb);
    if (PyErr_Occurred())
        goto bad;
    if (!value) {
        value = Py_None;
        Py_INCREF(value);
    }
    Py_XDECREF(tstate->exc_type);
    Py_XDECREF(tstate->exc_value);
    Py_XDECREF(tstate->exc_traceback);
    tstate->exc_type = type;
    tstate->exc_value = value;
    tstate->exc_traceback = tb;
    result = value;
    Py_XINCREF(result);
    type = 0;
    value = 0;
    tb = 0;
bad:
    Py_XDECREF(type);
    Py_XDECREF(value);
    Py_XDECREF(tb);
    return result;
}

static void __Pyx_UnpackError(void) {
    PyErr_SetString(PyExc_ValueError, "unpack sequence of wrong size");
}

static PyObject *__Pyx_UnpackItem(PyObject *seq, int i) {
  PyObject *item;
  if (!(item = PySequence_GetItem(seq, i))) {
    if (PyErr_ExceptionMatches(PyExc_IndexError))
    	__Pyx_UnpackError();
  }
  return item;
}

static int __Pyx_EndUnpack(PyObject *seq, int i) {
  PyObject *item;
  if (item = PySequence_GetItem(seq, i)) {
    Py_DECREF(item);
    __Pyx_UnpackError();
    return -1;
  }
  PyErr_Clear();
    return 0;
}

static int __Pyx_InternStrings(__Pyx_InternTabEntry *t) {
    while (t->p) {
        *t->p = PyString_InternFromString(t->s);
        if (!*t->p)
            return -1;
        ++t;
    }
    return 0;
}

static int __Pyx_InitStrings(__Pyx_StringTabEntry *t) {
    while (t->p) {
        *t->p = PyString_FromStringAndSize(t->s, t->n - 1);
        if (!*t->p)
            return -1;
        ++t;
    }
    return 0;
}

#include "compile.h"
#include "frameobject.h"
#include "traceback.h"

static void __Pyx_AddTraceback(char *funcname) {
    PyObject *py_srcfile = 0;
    PyObject *py_funcname = 0;
    PyObject *py_globals = 0;
    PyObject *empty_tuple = 0;
    PyObject *empty_string = 0;
    PyCodeObject *py_code = 0;
    PyFrameObject *py_frame = 0;
    
    py_srcfile = PyString_FromString(__pyx_filename);
    if (!py_srcfile) goto bad;
    py_funcname = PyString_FromString(funcname);
    if (!py_funcname) goto bad;
    py_globals = PyModule_GetDict(__pyx_m);
    if (!py_globals) goto bad;
    empty_tuple = PyTuple_New(0);
    if (!empty_tuple) goto bad;
    empty_string = PyString_FromString("");
    if (!empty_string) goto bad;
    py_code = PyCode_New(
        0,            /*int argcount,*/
        0,            /*int nlocals,*/
        0,            /*int stacksize,*/
        0,            /*int flags,*/
        empty_string, /*PyObject *code,*/
        empty_tuple,  /*PyObject *consts,*/
        empty_tuple,  /*PyObject *names,*/
        empty_tuple,  /*PyObject *varnames,*/
        empty_tuple,  /*PyObject *freevars,*/
        empty_tuple,  /*PyObject *cellvars,*/
        py_srcfile,   /*PyObject *filename,*/
        py_funcname,  /*PyObject *name,*/
        __pyx_lineno,   /*int firstlineno,*/
        empty_string  /*PyObject *lnotab*/
    );
    if (!py_code) goto bad;
    py_frame = PyFrame_New(
        PyThreadState_Get(), /*PyThreadState *tstate,*/
        py_code,             /*PyCodeObject *code,*/
        py_globals,          /*PyObject *globals,*/
        0                    /*PyObject *locals*/
    );
    if (!py_frame) goto bad;
    py_frame->f_lineno = __pyx_lineno;
    PyTraceBack_Here(py_frame);
bad:
    Py_XDECREF(py_srcfile);
    Py_XDECREF(py_funcname);
    Py_XDECREF(empty_tuple);
    Py_XDECREF(empty_string);
    Py_XDECREF(py_code);
    Py_XDECREF(py_frame);
}
